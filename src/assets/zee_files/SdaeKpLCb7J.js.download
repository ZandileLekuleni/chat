if (self.CavalryLogger) { CavalryLogger.start_js(["uBg8D"]); }

__d("MessengerSearchLoggerUtil",["MercuryTypeaheadConstants","MessengerSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c;switch(a){case b("MercuryTypeaheadConstants").THREAD_TYPE:c=b("MessengerSearchFunnelLoggerConstants").GROUP;break;case b("MercuryTypeaheadConstants").FRIEND_TYPE:c=b("MessengerSearchFunnelLoggerConstants").USER_CONTACT;break;case b("MercuryTypeaheadConstants").MESSAGE_TYPE:c=b("MessengerSearchFunnelLoggerConstants").MESSAGE;break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:c=b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT;break;case b("MercuryTypeaheadConstants").FB4C_TYPE:c=b("MessengerSearchFunnelLoggerConstants").COWORKER;break;case b("MercuryTypeaheadConstants").GAME_TYPE:c=b("MessengerSearchFunnelLoggerConstants").GAME;break;case b("MercuryTypeaheadConstants").PAGE_TYPE:case b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:case b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE:case b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE:c=b("MessengerSearchFunnelLoggerConstants").PAGE;break;default:c=b("MessengerSearchFunnelLoggerConstants").OTHER}return c}e.exports={getLoggingTypeFromMercuryType:a}}),null);
__d("MessengerUniversalSearchFunnelLogger",["FunnelLogger","MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLoggerConstants","compactArray","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerUniversalSearchFunnelLoggerConstants").NAME,h=b("MessengerUniversalSearchFunnelLoggerConstants").EVENTS,i=h.END,j=h.IMPRESSIONS,k=h.REENTERED,l=h.RESULT_SELECTED,m=h.SOURCE_ENDED,n=h.SOURCE_STARTED,o=h.START,p=h.QUERY_CHANGED,q=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL,r=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE,s,t,u,v=b("gkx")("678635");function a(a,d,e){if(!v)return;c=e;u=c.getSessionID();t=null;s=null;b("FunnelLogger").startFunnel(g,u);b("FunnelLogger").appendActionWithPayloadIfNew(g,u,o,{entry_interface:d,entry_surface:a})}function d(a){if(!v)return;b("FunnelLogger").appendActionWithPayload(g,u,p,{query_string:a})}function f(){return u}function w(a,c){__p&&__p();if(!s){if(a===null||a===void 0)return;var d=b("immutable").OrderedMap();a=a.map(function(a){var c=a.getUniqueID();a=b("MessengerSearchLoggerUtil").getLoggingTypeFromMercuryType(a.getType());return{result_fbid:c,result_type:a,rank_section:a,data_source:[b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.LOCAL]}});a=b("compactArray")(a).slice(0,c);a.forEach(function(a){d=d.set(a.result_fbid,a)});s=d}t=s;b("FunnelLogger").appendActionWithPayload(g,u,j,{impression_list:Array.from(t.values()),query_string:"",result_surface:r})}function x(a,c,d,e){if(!a)return;e===q&&a;t=a;if(!v||!b("gkx")("678636"))return;b("FunnelLogger").appendActionWithPayload(g,u,j,{impression_list:Array.from(a.values()),query_string:c,result_surface:d})}function y(a,c){if(!v)return;b("FunnelLogger").appendActionWithPayload(g,u,n,{query_string:a,data_source:c})}function z(a,c,d,e,f){if(!v)return;b("FunnelLogger").appendActionWithPayload(g,u,m,{query_string:a,data_source:c,results_count:d,status:e,result_used:f})}function A(a,c,d,e,f){if(!v||!t)return;c=c.split(":").pop();var h=d===b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_TYPES.MESSAGE?"message:"+c:c,i=b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER,j=t.get(h);j!==null&&(i=[j.data_source[0]]);b("FunnelLogger").appendActionWithPayload(g,u,l,{query_string:a,result_fbid:c,result_type:d,result_index:t.keySeq().findIndex(function(a){return a===h}),data_source:i,rank_section:j?j.rank_section:"",rank_section_index:0,result_page:f,result_surface:e})}function B(){if(!v)return;b("FunnelLogger").appendAction(g,u,k)}function C(a,c,d,e,f){if(!v)return;b("FunnelLogger").appendActionWithPayload(g,u,i,{end_reason:a,action_name:c,error_name:d,entry_surface:e,result_page:f});b("FunnelLogger").endFunnel(g,u)}e.exports={endFunnel:C,getCurrentFunnelID:f,logNullStateImpressions:w,logImpressions:x,logQueryChanged:d,logReentered:B,logResultSelected:A,logSourceEnded:z,logSourceStarted:y,startFunnel:a}}),null);
__d("ChatSidebarSheetChatOffline.react",["fbt","Link.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("gkx")("678660")?g._("Turn on Active Status"):g._("Turn on chat");return b("React").createElement("div",null,g._("{=Go online} to see who's available.",[g._param("=Go online",b("React").createElement(b("Link.react"),{className:"fbChatGoOnlineLink",onClick:this.props.onGoOnlineClick},a))]))};return c}(b("React").PureComponent);c.propTypes={onGoOnlineClick:a.func.isRequired};e.exports=c}),null);
__d("ChatSidebarSheetChatReconnectMsg.react",["fbt","ChannelConstants","Link.react","MessengerSpinner.react","Network","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.isMessenger;a=a.msecs;var d=b("React").createElement(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick},g._("No Internet Connection"));if(a==null||!b("Network").isOnline())return c?d:b("React").createElement("div",null,g._("Unable to connect to chat. Check your Internet connection."));else if(a>b("ChannelConstants").WARNING_COUNTDOWN_THRESHOLD_MSEC)return c?d:b("React").createElement("div",null,g._("Unable to connect to chat. {try-again-link}",[g._param("try-again-link",b("React").createElement(b("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick},g._("Try again")))]));else if(a>1e3)return c?d:b("React").createElement("div",null,g._("Unable to connect to chat. Reconnecting in {seconds}",[g._param("seconds",Math.floor(a/1e3))]));else return c?b("React").createElement("div",null,b("React").createElement(b("MessengerSpinner.react"),{color:"grey"}),g._("Connecting...")):b("React").createElement("div",null,g._("Unable to connect to chat. Reconnecting..."))};return c}(b("React").PureComponent);c.propTypes={isMessenger:a.bool,msecs:a.number,onManuallyConnectClick:a.func};e.exports=c}),null);
__d("ChatSidebarSheetChatShutdownMsg.react",["fbt","ChannelConstants","CurrentUser","React","SyncProtocolConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.hint;a=a.isMessenger;switch(c){case b("ChannelConstants").HINT_AUTH:return b("React").createElement("div",null,g._("Your session has timed out. Please log in."));case b("ChannelConstants").HINT_MAINT:return a?b("React").createElement("div",null,g._("Messenger is currently down for maintenance.")):b("React").createElement("div",null,g._("{Chat} is currently down for maintenance.",[g._param("Chat",g._("Chat"))]));case b("SyncProtocolConstants").IRIS_CURSOR_LIMIT:case b("SyncProtocolConstants").SNAPSHOT_FAILURE:case b("ChannelConstants").HINT_CONN:default:if(!a)return b("React").createElement("div",null,g._("{Chat} is currently unavailable.",[g._param("Chat",g._("Chat"))]));else if(b("CurrentUser").isWorkUser())return b("React").createElement("div",null,g._("Workplace Chat is currently unavailable."));else return b("React").createElement("div",null,g._("Messenger is currently unavailable."))}};return c}(b("React").PureComponent);c.propTypes={hint:a.string,isMessenger:a.bool};e.exports=c}),null);
__d("ChatSidebarSheet.react",["fbt","Arbiter","Bootloader","ChannelConnection","ChatBehavior","ChatSidebarSheetChatOffline.react","ChatSidebarSheetChatReconnectMsg.react","ChatSidebarSheetChatShutdownMsg.react","ChatVisibility","LogHistory","MercurySyncConstants","MercurySyncEventsProxy","MessengerEnvironment","MessengerMQTTGating","PresencePrivacy","React","SubscriptionsHandler","clearTimeout","gkx","joinClasses","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("LogHistory").getInstance("sidebar_sheet");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=b("MercurySyncEventsProxy").getForFBID(d.props.viewer),d.state={connectionStatus:null,channelData:null,isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages(),syncStateInvalid:!1,syncStateReconnecting:!1},d.$5=function(a,c){var e=b("ChannelConnection").CONNECTED;switch(a){case d.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN):e=b("ChannelConnection").SHUTDOWN;break;case d.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING):e=b("ChannelConnection").RECONNECTING;break}d.setState({connectionStatus:e,channelData:c});d.$6()},d.$6=function(){d.setState({isConnected:!b("ChannelConnection").disconnected(),isOnline:b("ChatVisibility").isOnline(),notifiesUserMessages:b("ChatBehavior").notifiesUserMessages()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe([this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.CONNECTED),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.SHUTDOWN),this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING)],this.$5),b("ChannelConnection").subscribe([b("ChannelConnection").MUTE_WARNING,b("ChannelConnection").UNMUTE_WARNING],this.$6),b("PresencePrivacy").subscribe("privacy-user-presence-changed",this.$6),b("ChatBehavior").subscribe(b("ChatBehavior").ON_CHANGED,this.$6),b("Arbiter").subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE,function(){h.log("invalid state fatal","{}"),a.setState({syncStateInvalid:!0,syncStateReconnecting:!1})}),b("Arbiter").subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY,function(){h.log("retry from invalid state","{}"),a.$7()}),b("Arbiter").subscribe(b("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER,function(){h.log("recover from invalid state","{}"),a.$8()}),b("Arbiter").subscribe("messenger-mqtt-drop-down-to-channel",function(){a.$1.release(),a.$4()}))};d.componentDidMount=function(){this.$4()};d.componentDidUpdate=function(){this.$2&&(b("clearTimeout")(this.$2),this.$2=null)};d.componentWillUnmount=function(){this.$1&&this.$1.release(),b("clearTimeout")(this.$2)};d.render=function(){var a=b("MessengerEnvironment").messengerui,c,d;!this.state.isOnline&&!a?(c="offline",d=this.$9()):this.$10()?(c="error",d=this.$11(a)):!this.state.notifiesUserMessages&&!a&&(c="notice",d=this.$12());(this.state.connectionStatus===b("ChannelConnection").RECONNECTING&&this.state.channelData<1e3||this.state.syncStateReconnecting)&&(c=b("joinClasses")(c,"reconnecting"));return c==="offline"&&this.$13()?null:b("React").createElement("div",{className:b("joinClasses")(this.props.className,c)},a?null:b("React").createElement("div",{className:"img"}),b("React").createElement("div",{className:"message"},d))};d.$13=function(){return b("gkx")("697231")&&!this.props.isSidebar};d.$10=function(){var a=this.state.connectionStatus;if(b("MessengerMQTTGating").isEnabled())return a&&(a===b("ChannelConnection").SHUTDOWN||a===b("ChannelConnection").RECONNECTING&&this.state.channelData!==void 0)||this.state.syncStateInvalid||this.state.syncStateReconnecting;else return!this.state.isConnected||this.state.syncStateInvalid||this.state.syncStateReconnecting};d.$11=function(a){__p&&__p();var c=this;if(this.state.connectionStatus===b("ChannelConnection").SHUTDOWN||this.state.syncStateInvalid)return b("React").createElement(b("ChatSidebarSheetChatShutdownMsg.react"),{hint:this.state.syncStateInvalid?void 0:this.state.channelData,isMessenger:a});else if(this.state.connectionStatus===b("ChannelConnection").RECONNECTING||this.state.syncStateReconnecting){var d=this.state.channelData;if(d===void 0&&!this.state.syncStateReconnecting)return null;d=this.state.syncStateReconnecting?1:d;d>1e3&&(this.$2=b("setTimeoutAcrossTransitions")(this.$5.bind(this,this.$3.getArbiterType(b("MercurySyncEventsProxy").Events.RECONNECTING),d-1e3),1e3));return b("React").createElement(b("ChatSidebarSheetChatReconnectMsg.react"),{isMessenger:a,msecs:d,onManuallyConnectClick:function(){c.state.syncStateReconnecting||b("ChannelConnection").reconnect()}})}return null};d.$9=function(){var a=this;return b("React").createElement(b("ChatSidebarSheetChatOffline.react"),{onGoOnlineClick:function(c){a.$14(),h.log("sidebar_go_online"),b("ChatVisibility").goOnline()}})};d.$14=function(){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.startFunnel("WWW_PRESENCE_FUNNEL"),a.appendActionWithTag("WWW_PRESENCE_FUNNEL","sidebar_turn_on_chat",b("PresencePrivacy").getOnlinePolicyStr()),a.endFunnel("WWW_PRESENCE_FUNNEL")},"ChatSidebarSheet.react")};d.$12=function(){return b("React").createElement("div",null,g._("Alerts are off while you use another client to chat."))};d.$7=function(){this.setState({syncStateReconnecting:!0})};d.$8=function(){this.setState({syncStateInvalid:!1,syncStateReconnecting:!1})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerSearchFunnelState",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(){this.$1}var b=a.prototype;b.setSessionID=function(a){this.$1=a};b.getSessionID=function(){return this.$1};return a}();e.exports=a}),null);
__d("ChatPinnedThreadsEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MENU_ITEM_IN_OVERFLOW_MENU:"menu_item_in_overflow_menu",MENU_ITEM_IN_INFO_PANEL:"menu_item_in_info_panel",MENU_ITEM_IN_THREAD_ROW:"menu_item_in_thread_row",INFO_PANEL_SECTION_ITEM:"info_panel_section_item",CHAT_TAB_MENU:"chat_tab_menu",INTEGRATION_TEST:"integration_test",INBOX_THREAD_ROW_SWIPE:"inbox_thread_row_swipe",INBOX_EDIT_ORDER_SCREEN:"inbox_edit_order_screen"})}),null);
__d("MercuryThreadlistRowContainer.react",["Arbiter","AvailableListConstants","Bootloader","CurrentUser","ImmutableObject","MercuryIDs","MessengerParticipants.bs","PresenceStatus","React","SubscriptionsHandler","gkx","immutable","shallowEqual","AvailableList"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("AvailableList");a=b("React").PropTypes;var g=function(a){return!b("CurrentUser").isWorkUser()?!1:b("immutable").Seq(a).some(function(a){a=b("MercuryIDs").getUserIDFromParticipantID(a);if(a===b("CurrentUser").getID())return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE})},h=function(a){return a.thread.is_canonical_user?a.thread.other_user_fbid:null},i=b("React").createClass({displayName:"MercuryThreadlistRowContainer",propTypes:{ChildClass:a.func.isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired},_availabilityStatusStore:null,subscriptions:new(b("SubscriptionsHandler"))(),_participantsSubscription:null,getInitialState:function(){return{participants:b("immutable").Map(),isPresenceForWork:g(this.props.thread.participants),isDoNotDisturb:this._getDoNotDisturb()}},componentDidMount:function(){__p&&__p();var a=this;b("CurrentUser").isWorkUser()&&this.subscriptions.addSubscriptions(b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return a.setState({isPresenceForWork:g(a.props.thread.participants)})}));if(b("gkx")("678573")&&b("CurrentUser").isWorkUser()){var c=h(this.props);c&&b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(b){i._availabilityStatusStore=b,b.fetchUsersIfNeeded(c),b.subscribeUser(c,a),a.setState({isDoNotDisturb:b.getIsDoNotDisturb(c)}),a.subscriptions.addSubscriptions(b.addListener(function(){var c=a.props.thread.is_canonical_user?a.props.thread.other_user_fbid:null;c&&a.setState({isDoNotDisturb:b.getIsDoNotDisturb(c)})}))},"MercuryThreadlistRowContainer.react")}var d=this._getDoNotDisturb(),e=this._computeParticipants();this.setState({participants:e,isPresenceForWork:g(this.props.thread.participants),isDoNotDisturb:d})},componentDidUpdate:function(){__p&&__p();var a=this,b=[];this.props.thread.participants.map(function(c){var d=a.state.participants.get(c);d||b.push(c)});var c=this._getDoNotDisturb();if(b.length>0)this.setState({participants:this._computeParticipants(),isPresenceForWork:g(this.props.thread.participants),isDoNotDisturb:c});else{var d=g(this.props.thread.participants);d!==this.state.isPresenceForWork&&this.setState({isPresenceForWork:d});c!==this.state.isDoNotDisturb&&this.setState({isDoNotDisturb:c})}},_computeParticipants:function(){var a=this;this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription);var c=b("MessengerParticipants.bs").getMultiEagerMap(this.props.thread.participants,function(b){a._participantsSubscription=null,a.setState({participants:b})}),d=c[0];c=c[1];this._participantsSubscription=c;return d},_getDoNotDisturb:function(){var a=h(this.props);return i._availabilityStatusStore&&a&&b("gkx")("678573")&&b("CurrentUser").isWorkUser()?i._availabilityStatusStore.getIsDoNotDisturb(a):!1},componentWillUnmount:function(){var a=h(this.props);a&&(b("gkx")("678573")&&b("CurrentUser").isWorkUser()&&i._availabilityStatusStore&&i._availabilityStatusStore.unsubscribeUser(a,this));this.subscriptions.release();this._participantsSubscription&&b("MessengerParticipants.bs").removeCallback(this._participantsSubscription)},shouldComponentUpdate:function(a,c){return!b("shallowEqual")(a,this.props)||c.isPresenceForWork!==this.state.isPresenceForWork||c.isDoNotDisturb!==this.state.isDoNotDisturb||!b("immutable").is(c.participants,this.state.participants)},render:function(){var a=this.props,c=a.ChildClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass"]);return b("React").createElement(c,babelHelpers["extends"]({},a,{participants:this.state.participants,isPresenceForWork:this.state.isPresenceForWork,isDoNotDisturb:b("gkx")("678573")&&this.state.isDoNotDisturb}))}});e.exports=i}),null);
__d("MNAdsMessageRequestUtils",["fbt","AdPageMessageTypeEnum","MessagingTag","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports={isAdsMessageRequest:function(a){return a.folder==b("MessagingTag").PENDING&&!!a.last_message_type&&a.last_message_type!==b("AdPageMessageTypeEnum").NON_AD},renderAdsMessageRequestStatus:function(){var a=g._("Sponsored");return b("React").createElement("span",null,a)}}}),null);
__d("MNCommerceReportConversationDialogBootloader.react",["JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("MNCommerceReportConversationDialog.react").__setRef("MNCommerceReportConversationDialogBootloader.react"));a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(g,{pageID:this.props.pageID}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerP2BFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f){"use strict";a={bootloadOpenFRXDialog:function(a){b("Bootloader").loadModules(["MessengerP2BFRXUtils","FRXEntryPoint","NFXStoryLocation"],function(b,c,d){b.openFRXDialog(a,d.MESSENGER_P2B_DIRECT_THREAD_DETAILS,c.REPORT_BUTTON)},"MessengerP2BFRXBootloaderUtils")}};e.exports=a}),null);
__d("WorkChatHideDialogReactBootloader.bs",["bs_block","bs_curry","Bootload.bs","Bootloader","ReasonReact.bs","MessengerSpinnerReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableWorkChatHideDialogReact.bs"],a,"WorkChatHideDialogReactBootloader.bs");return 0}d=[a];var g=b("Bootload.bs").Create(d),h=b("ReasonReact.bs").reducerComponent("WorkChatHideDialogReactBootloader");function i(a,c){if(a[1][1][0])return b("bs_curry")._1(a[3],[c]);else return 0}function c(a,c,d,e){__p&&__p();return[h[0],h[1],h[2],h[3],function(a){a[1][1][0]=!0;return b("bs_curry")._1(g[0],function(b){return i(a,b)})},h[5],function(a){a[1][1][0]=!1;return 0},h[7],function(e){e=e[1][0];if(e!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._4(e[2],c,a,d,[]));else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerSpinnerReact.bs").make(void 0,void 0,void 0,void 0,[]))},function(){return[void 0,[!1]]},h[10],function(a,c){return b("bs_block").__(0,[[a[0],c[1]]])},h[12]]}f.BootloadableWorkChatHideDialogReact=d;f.LoadableWorkChatHideDialogReact=g;f.component=h;f.handleHideDialogLoad=i;f.make=c}),null);
__d("WorkChatReportParticipantDialogReact.bs",["cx","fbt","React","immutable","MercuryIDs","ReasonReact.bs","FantaFRXUtil","ImmutableObject","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerContactListReact.re"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return new(b("ImmutableObject"))({alias:a.vanity,uid:a.id,photo:a.image_src,title:a.name,type:a.user_type,isMessengerUser:a.is_messenger_user,href:a.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:a.work_foreign_entity_info})}var j=b("ReasonReact.bs").statelessComponent("WorkChatReportParticipantDialog");function k(a,c,d,e){__p&&__p();var f=function(d,a){b("FantaFRXUtil").FRXClicked(c.thread_id,!0,d.id);return b("MessengerDialogs.bs").removeAllDialogs(0)};return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(){var e=a.filter(function(c,a,e){if(c==null)return!1;else{a=b("MercuryIDs").getUserIDFromParticipantID(c.id);if(a==null)return!1;else return a!==d}}).toArray(),g=b("React").createElement(b("React").Fragment,void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton[0](void 0,[])),b("React").createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("Report User")}));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0]("_84gd",void 0,void 0,void 0,void 0,"default",350,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:g}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogBodyReact.bs").make("_84ge",[b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactListReact.re").make(void 0,void 0,void 0,i,!0,!0,b("immutable").OrderedMap([[[null],e]]),void 0,f,"_84gf",d,c,[]))]))]))},j[9],j[10],j[11],j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(a.participants,a.thread,a.viewer,[])});f.fromMercuryParticipant=i;f.component=j;f.make=k;f.jsComponent=a}),null);
__d("WorkGalahadQuickChatActions",["WorkGalahadBeeperActions","WorkGalahadBeeperStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/hide"})}function c(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/close"})}function d(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/showCompose"})}function f(a){b("WorkGalahadBeeperStore").getChatBeeps().find(function(b){return b===a})&&b("WorkGalahadBeeperActions").xoutBeeper(a),b("WorkGalahadDispatcher").dispatch({type:"quickChat/openThreadID",threadID:a})}function g(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/showInbox"})}function h(){b("WorkGalahadDispatcher").dispatch({type:"quickChat/hideInbox"})}e.exports={hide:a,close:c,openThreadID:f,showCompose:d,showInbox:g,hideInbox:h}}),null);
__d("MessengerThreadlistRowActionsReact.bs",["cx","fbt","Keys","bs_array","bs_block","bs_curry","React","Utils.bs","gkx","bs_caml_obj","QE2Logger","immutable","MercuryIDs","CurrentUser","ReasonReact.bs","joinClasses","bs_js_primitive","MessagingTag","MessengerDialogs.bs","MessengerMenuReact.bs","MessengerPageUtils.bs","MessengerParticipants.bs","MessengerGalahadGating.bs","MessengerAdminGroupUtils","MessengerMuteDialogReact.bs","MessengerBlockDialogReact.bs","MessengerPopoverMenuReact.bs","MessengerDeleteDialogReact.bs","MessengerIgnoreDialogReact.bs","MessengerDotsIconSVGM4React.bs","MessengerFRXBootloaderUtils","WorkGalahadQuickChatActions","MessengerDotComAndInboxM4Check.bs","MessengerP2BFRXBootloaderUtils","WorkChatHideDialogReactBootloader.bs","WorkChatReportParticipantDialogReact.bs","MNCommerceReportConversationDialogReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c,d){if(!(b("CurrentUser").isWorkUser()&&b("gkx")("762398"))&&!c&&!a.is_archived&&a.folder!==b("MessagingTag").OTHER)if(d)return!0;else if(a.folder===b("MessagingTag").INBOX)return b("MercuryIDs").isGroupChat(a.thread_id);else return!1;else return!1}function j(a){if(a)return 0;else return b("MessengerDialogs.bs").removeDialog(void 0,0)}function k(a){a.preventDefault();a.stopPropagation();return 0}var l=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),m="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":""),n="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+" _4-0i"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":"");function o(a){__p&&__p();if(b("gkx")("956764")){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(a.other_user_fbid);return 0}else{var c=a.other_user_fbid;if(c==null)return 0;else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MNCommerceReportConversationDialogReact.bs").make(c,[]))})}}function p(a){var c=a.is_canonical,d=b("CurrentUser").isWorkUser();if(c||!d){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id);return 0}else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatReportParticipantDialogReact.bs").make(b("immutable").OrderedMap(b("bs_array").map(function(a){return[a,b("MessengerParticipants.bs").getNow(a)]},a.participants)),a,b("CurrentUser").getID(),[]))})}function a(a){b("MessengerFRXBootloaderUtils").bootloadEmptyThreadFRXDialog(a.thread_id);return 0}function q(a,c,d,e,f,g,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O){__p&&__p();var P=a!==void 0?a:"",Q=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDeleteDialogReact.bs").make(N.folder,N.is_archived,d,t,F,u,[]))})},R=function(){if(f)return b("bs_curry")._1(C,0);else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerMuteDialogReact.bs").make(y,[]))})},S=function(){if(s)if(D!==void 0)return b("bs_curry")._1(D,0);else return 0;else if(z!==void 0)return b("bs_curry")._1(z,0);else return 0},T=function(){if(q)return b("bs_curry")._1(w,0);else return b("bs_curry")._1(x,0)},U=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerIgnoreDialogReact.bs").make(E,j,c,N.thread_fbid,b("MercuryIDs").isGroupChat(N.thread_id),[]))})},V=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatHideDialogReactBootloader.bs").make(t,E,j,[]))})},W=function(){if(r)return b("bs_curry")._1(G,0);else return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(F,c,N.thread_fbid,[]))})},X=function(){return b("MessengerPageUtils.bs").toggleBlock(N,r)},Y=function(){return p(N)},Z=function(){return o(N)},$=function(){return[U,W,X,V,Q,T,R,S,Z,Y]};return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],function(a){var b=a[1];a=a[0];if(b[2]||b[2]!==a[2])return!0;else return b[1]!==a[1]},function(a){__p&&__p();var c=a[1];b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",b("CurrentUser").getID());if(g){var j=s?h._("Unpin"):h._("Pin"),l=b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(N);l=l?N.participants.length===1?h._("Delete Group and Chat"):h._("Leave Group and Chat"):e?d?h._("Leave Chat"):h._("Leave Room"):h._("Leave Group");var o=h._("Ignore Messages"),p=r?h._("Unblock Messages"):h._("Block Messages"),u=r?h._("Turn On Messages"):h._("Turn Off Messages"),w=b("bs_caml_obj").caml_equal(N.other_user_fbid,b("CurrentUser").getID()),x=N.message_count===0,y=N.thread_id,z=b("MessengerGalahadGating.bs").isGalahadUIEnabled(0),B=b("Utils.bs").isSomeTrue(K),C=b("Utils.bs").isSomeTrue(K),D=b("CurrentUser").isWorkUser()&&b("gkx")("762398")||N.is_archived||N.folder!==b("MessagingTag").INBOX,E=!b("CurrentUser").isWorkUser()||!b("gkx")("762398")||N.is_archived||N.folder!==b("MessagingTag").INBOX,F=b("CurrentUser").isWorkUser()&&b("gkx")("762398"),G=N.is_archived;w=w||x||!N.can_viewer_report;if(w)x=null;else{w=b("Utils.bs").isSomeTrue(L);if(w){w=b("gkx")("956764");x=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,w?h._("Something's Wrong"):h._("Report..."),c[8],void 0,[]))}else{w=b("CurrentUser").isWorkUser();x=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,w?h._("Report Chat"):h._("Something's Wrong"),c[9],void 0,[]))}}w=i(N,r,I);if(I)p=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,p,c[1],void 0,[]));else{var O=b("MessengerPageUtils.bs").isPageThread(N);p=O?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,u,c[2],void 0,[])):null}O=b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").Menu[0]([z?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,h._("Open Quick Chat"),function(){b("WorkGalahadQuickChatActions").openThreadID(y);return 0},void 0,[])):null,B?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,h._("Rename"),A,void 0,[])):null,C?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuSeparator[0]([])):null,J!==void 0&&J?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,j,c[7],void 0,[])):null,b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,f?h._("Unmute"):h._("Mute"),c[6],void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuSeparator[0]([])),H?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,l,v,void 0,[])):null,D?null:b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,h._("Archive"),t,void 0,[])),E?null:b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,h._("Hide Chat"),V,void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,F?h._("Delete Message History"):h._("Delete"),c[4],void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuSeparator[0]([])),G?null:b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,q?h._("Mark as Read"):h._("Mark as Unread"),c[5],void 0,[])),x,w?b("ReasonReact.bs").element(void 0,void 0,b("MessengerMenuReact.bs").MenuItem[0](void 0,o,c[0],void 0,[])):null,p]));u=P==="";z=u?n:b("joinClasses")(P,n);return b("React").createElement("div",{className:"_3d85"},b("ReasonReact.bs").element(void 0,function(c){return b("bs_curry")._1(a[3],[c==null?void 0:b("bs_js_primitive").some(c)])},b("MessengerPopoverMenuReact.bs").make(void 0,!0,g,O,function(){return b("bs_curry")._1(a[3],1)},void 0,[b("React").createElement("div",{ref:"button","aria-label":h._("Conversation actions"),className:z,role:"button",tabIndex:0,onClick:k},b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null)])))}else{B=P==="";C=B?m:b("joinClasses")(P,m);return b("React").createElement("div",{className:"_3d85"},b("React").createElement("div",{ref:"button","aria-label":h._("Conversation actions"),className:C,role:"button",tabIndex:M,onKeyUp:function(c){c=c.keyCode===b("Keys").RETURN;return b("bs_curry")._1(a[3],c?0:2)},onClick:function(){return b("bs_curry")._1(a[3],0)}},b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null))}},$,g,function(c,a){__p&&__p();if(typeof c==="number")switch(c){case 0:return b("bs_block").__(2,[$(0),function(){return b("bs_curry")._1(B,!0)}]);case 1:return b("bs_block").__(1,[function(){return b("bs_curry")._1(B,!1)}]);case 2:return 0}else{a=c[0];if(a!==void 0){var d=b("bs_js_primitive").valFromOption(a);return b("bs_block").__(1,[function(){return d.showPopover()}])}else return 0}},l[12]]}c=b("ReasonReact.bs").wrapReasonForJs(l,function(a){var c=a.tabIndex;return q(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.contact),a.isGroupChat,a.isJoinableThread,a.isMuted,a.isOpen,a.isUnread,a.isBlocked,a.isPinned,a.onArchive,a.onDelete,b("bs_js_primitive").nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkUnread,a.onMute,a.onPin,b("bs_js_primitive").nullable_to_opt(a.onRename),a.onToggle,a.onUnmute,a.onUnpin,a.onIgnore,a.onBlock,a.onUnblock,a.showLeaveGroup,a.showBlock,b("bs_js_primitive").nullable_to_opt(a.showPin),b("bs_js_primitive").nullable_to_opt(a.showRename),b("bs_js_primitive").nullable_to_opt(a.showReport),c==null?-1:c,a.thread,[])});f.shouldRenderIgnoreMessagesButton=i;f.handleReasonDialogToggle=j;f.handleClick=k;f.component=l;f.actionButtonClassesClosed=m;f.actionButtonClassesOpen=n;f.handleReportPageThread=o;f.handleReportThread=p;f.handleReportEmptyThread=a;f.make=q;f.jsComponent=c}),null);
__d("MessengerThreadlistRowPendingThreadButtonsReact.bs",["cx","fbt","bs_curry","React","Bootload.bs","Bootloader","MercuryIDs","CurrentUser","ReasonReact.bs","bs_js_primitive","MessagingTag","MessengerDialogs.bs","MercuryThreadActions","MessengerButtonReact.bs","MessengerDeclineDialogReact.bs","MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.onBlock,d=a.onDelete,e=a.onToggle,f=a.thread;a=function(a){b("Bootloader").loadModules(["BootloadableMessengerDeclineDialogReact.bs"],a,"MessengerThreadlistRowPendingThreadButtonsReact.bs");return 0};a=[a];var g=b("Bootload.bs").Create(a),i=b("MercuryIDs").getThreadKeyfromThreadIDUserID(f.thread_id,b("CurrentUser").getID()),j=function(a){a.preventDefault();a.stopPropagation();b("MercuryThreadActions").get().changeFolder(f.thread_id,b("MessagingTag").INBOX);new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_accept_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(f.thread_id)).setFolderType("pending").setThreadKey(i).setEntryPoint("inbox_banner").log();return 0},k=function(a){a.preventDefault();a.stopPropagation();return b("bs_curry")._1(g[0],function(){var a=b("MercuryIDs").isGroupChat(f.thread_id);b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDeclineDialogReact.bs").make(void 0,c,d,e,a,b("bs_js_primitive").some(f),[]))});new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_decline_attempt").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(f.thread_id)).setFolderType("pending").setThreadKey(i).setEntryPoint("inbox_banner").log();return 0})};a=function(){return b("React").createElement(b("MessengerButtonReact.bs").make,{onClick:j,className:"_3yvh",label:h._("Accept"),type:0})};var l=function(){return b("React").createElement(b("MessengerButtonReact.bs").make,{onClick:k,className:"_3yvh _1d-z",label:h._("Decline"),type:2})};return b("React").createElement("div",{className:"_5l-3"},a(0),l(0))}c=a;f.make=c}),null);
__d("MessengerThreadlistRowPendingThreadButtonsReact.re",["MessengerThreadlistRowPendingThreadButtonsReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerThreadlistRowPendingThreadButtonsReact.bs").make;f.make=a}),null);
__d("MessengerThreadlistRowSeenHeadReact.bs",["cx","Image.bs","MercuryIDs","ReasonReact.bs","joinClasses","bs_js_primitive","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d,e){__p&&__p();var f=d.snippet_sender;if(e!==void 0){e=b("bs_js_primitive").valFromOption(e);if(e.author===a&&c.watermark>=e.timestamp&&!b("MessengerMessage.bs").isSending(e))return!b("MessengerMessage.bs").hasError(e);else return!1}else if(!(f==null)&&f===a)return c.watermark>=d.timestamp;else return!1}var i=b("ReasonReact.bs").statelessComponent("MessengerThreadlistRowSeenHeadReact");function j(a,c,d,e,f,g,j,k){__p&&__p();var l=a!==void 0?a:"";return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var a=g.is_canonical,i=g.other_user_fbid;if(c!==void 0&&a&&!(i==null||c)){a=b("MercuryIDs").getParticipantIDFromUserID(j);i=b("MercuryIDs").getParticipantIDFromUserID(i);var k=f.get(i);i=e.get(i);if(!(i==null)&&!(k==null)&&h(a,k,g,d))return b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(l,"_2_a2"),void 0,void 0,void 0,i.image_src,void 0,i.name,void 0,void 0,[]));else return null}else return null},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.isHidden),b("bs_js_primitive").nullable_to_opt(a.lastMessage),a.participants,a.readReceipts,a.thread,a.viewer,[])});f.shouldRender=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("WorkGalahadChannelStatusBadge.react",["cx","fbt","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.canToggle,d=a.onClick,e=a.unread;a=a.isNested;a=a===void 0?!1:a;var f=i({canToggle:c,unread:e});return b("React").createElement("div",{"aria-label":f,className:(a?"":"_2ph-")+(e?"":" _1qum")+(e?" _1qun":"")+(c?" _1quo":""),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":f,onClick:c?function(a){a.stopPropagation(),a.preventDefault(),d&&d()}:void 0,role:c?"button":void 0},b("React").createElement("div",{className:"_1qvo"}))}function i(a){var b=a.canToggle;a=a.unread;return!b?null:a?h._("Mark as Read"):h._("Mark as Unread")}e.exports=a}),null);
__d("WorkChatHidePermanentlyConfirmationDialogReact.bs",["cx","fbt","bs_curry","React","ReasonReact.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("WorkChatHidePermanentlyConfirmationDialogReact");function j(a,c,d){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){var d=function(){b("bs_curry")._1(a,0);return b("bs_curry")._1(c,!1)},e=h._("This chat will move to 'Permanently Hidden' and will stay hidden until you unhide it.");return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0](void 0,c,void 0,void 0,void 0,void 0,void 0,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Hide this conversation permanently?")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogBodyReact.bs").make(void 0,[b("React").createElement("div",{className:"_1q73 _7q7a"},e)])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer[0](void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton[0](void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](void 0,h._("Hide Permanently"),void 0,"danger",d,0,void 0,void 0,void 0,[]))]))]))},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.onIgnore,a.onToggle,[])});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("WorkChatHidePermanentlyConfirmationDialogReact.re",["bs_curry","ReasonReact.bs","WorkChatHidePermanentlyConfirmationDialogReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("WorkChatHidePermanentlyConfirmationDialogReact.bs").component,function(a){return b("bs_curry")._3(b("WorkChatHidePermanentlyConfirmationDialogReact.bs").make,a.onIgnore,a.onToggle,a.children)});f.component=a;f["default"]=a}),null);
__d("WorkForeignEntityInfo.re",["WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){a=b("WorkForeignEntityInfo.bs").isCoworker;f.isCoworker=a;c=b("WorkForeignEntityInfo.bs").areAllCoworkers;f.areAllCoworkers=c}),null);
__d("WorkGalahadAsyncStatefulActionHelper",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useReducer;function h(a,b){switch(b.type){case"reset":return{loading:!1,requested:!1,error:null};case"startAction":return babelHelpers["extends"]({},a,{loading:!0,error:null});case"actionSuccess":return babelHelpers["extends"]({},a,{loading:!1,requested:!0});case"actionFailed":return babelHelpers["extends"]({},a,{loading:!1,requested:!0,error:b.error});default:return a}}a={useAsyncActionReducer:function(){var a=g(h,{loading:!1,requested:!1,error:null}),b=a[0],c=b.loading,d=b.requested;b=b.error;a=a[1];var e=!c&&d&&b==null,f=!c&&d&&b!=null;return[{loading:c,requested:d,error:b,isSuccessful:e,isFailed:f},a]}};e.exports=a}),null);
__d("WorkGalahadChangeChatPhotoMenuItem.react",["cx","fbt","AsyncRequest","FileInput.react","FileInputUploader","LayerFadeOnHide","MercuryConfig","MercuryIDs","React","WorkGalahadAsyncStatefulActionHelper","WorkGalahadDropdownMenuItem.react","XMessagingSetThreadImageController","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useCallback,j=b("WorkGalahadAsyncStatefulActionHelper").useAsyncActionReducer;function a(a){__p&&__p();var c=a.label,d=a.icons,e=a.desc,f=a.threadID;a=j();var g=a[0],l=g.loading,m=g.error,n=g.isFailed,o=a[1],p=i(function(){o({type:"actionFailed",error:h._("There was an error in the uploading process.")})},[]),q=i(function(a,c){a=c.response.payload;a=(c=a.metadata[0])==null?void 0:c.image_id;if(!a)return;c=b("XMessagingSetThreadImageController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({thread_id:b("MercuryIDs").getThreadFBIDFromThreadID(f),thread_image_id:a}).setHandler(function(){o({type:"actionSuccess"})}).setErrorHandler(function(a){p()}).send()},[f]),r=i(function(a){var c=a.target.files&&a.target.files.length;if(!c)return;o({type:"startAction"});c=new(b("FileInputUploader"))(a.target).setURI(b("MercuryConfig").upload_url).setAllowCrossOrigin(!0).setAllowCrossPageTransition(!0).setData({images_only:!0});c.subscribe("success",q);c.subscribe("falure",p);c.send()},[f,q,p]);g=function(a){a=a.children;return b("React").createElement(b("FileInput.react"),{accept:"image/*",containerClassName:"_21op",name:"file",onChange:r},a,b("React").createElement(k,{shown:n,onHide:function(){o({type:"reset"})},description:m}))};return b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{id:"chat-photo-upload",LinkRenderer:g,label:c,icons:d,desc:e,isLoading:l})}function k(a){var c=a.onHide,d=a.shown;a=a.description;return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},isStrictlyControlled:!0,onHide:c,shown:d,width:400},b("React").createElement(b("XUIDialogTitle.react"),null,h._("Failed to change group photo")),b("React").createElement(b("XUIDialogBody.react"),null,a),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogOkayButton.react"),{use:"confirm",action:"cancel"})))}e.exports=a}),null);
__d("WorkGalahadChatMenuHelper",["cx","fbt","requireDeferred","Bootloader","ChatPinnedThreadsEntryPoint","CurrentUser","EmojiLikeConstants","IgnoreMessagesTypedLogger","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryThreadActions","MercuryThreadInfo","MessagingTag","MessagingThreadCustomizationSource","MessengerActions","MessengerAdminGroupUtils","MessengerApprovalModeTypes","MessengerBlockDialogReact.bs","MessengerChangeColorDialogReact.bs","MessengerConfirmBlockThreadDialogReact.bs","MessengerConfirmLeaveGroupDialogReact.bs","MessengerContactAdapters","MessengerCustomColorUtils.bs","MessengerDeleteDialogReact.re","MessengerDialogs.bs","MessengerFRXBootloaderUtils","MessengerLeaveGroupAction","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerState.bs","React","WorkChatHidePermanentlyConfirmationDialogReact.re","WorkForeignEntityInfo.re","WorkGalahadChangeChatPhotoMenuItem.react","WorkGalahadDropdownMenuHelper","WorkGalahadDropdownMenuItem.react","formatDate","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerBlockDialogReact.bs").jsComponent,j=b("MessengerChangeColorDialogReact.bs").jsComponent,k=b("requireDeferred")("MessengerChangeEmojiDialogReact.bs"),l=b("MessengerConfirmBlockThreadDialogReact.bs").jsComponent,m=b("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,n=b("MessengerDeleteDialogReact.re").component,o=b("requireDeferred")("MessengerEditNicknamesDialogReact.bs"),p=b("WorkChatHidePermanentlyConfirmationDialogReact.re").component,q=b("requireDeferred")("WorkChatOptInGroupSyncDialogReact.bs"),r=b("requireDeferred")("WorkChatRenameThreadDialogReact.bs"),s=3600;function t(a){a||b("MessengerDialogs.bs").removeDialog()}function u(a,c,d){b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(l,{participantName:d})});c=b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.thread_id,b("MercuryIDs").getParticipantIDFromUserID(c));a.folder===b("MessagingTag").PENDING&&new(b("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)).setSurface("thread").setFolderType(b("MessagingTag").PENDING).setThreadKey(c).setEntryPoint("settings").log()}function v(a,c,d){var e=a.thread_id,f=d&&d.short_name||h._("sender");e&&b("MercuryThreadActions").getForFBID(c).blockIgnoreOnMessengerDotCom(!0,e,function(){u(a,c,f)})}var w={createMuteChatItems:function(a){var c=a==null?void 0:a.mute_until,d=h._("Mute chat"),e=h._("Pause notifications for messages"),f=w.isChatMuted(a);f&&(d=h._("Unmute chat"),e=function(a){a=a.hovered;return b("React").createElement("span",{className:"_7vy2"+(a?" _7vy3":"")},c===-1?h._("Muted indefinitely"):h._("Muted until {date}",[h._param("date",b("formatDate")(c,{today:"g:ia",withinDay:"g:ia",thisYear:"M jS, g:ia",future:"M d, Y g:ia"}))]))});return f?[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-notification",id:"chat-notification",isStatic:b("gkx")("1088452")&&w.isChatMutedIndefinitely(a),label:d,desc:e,icons:"bell_null",onClick:function(){return w.unmuteChat(a)},hideOnClick:!0})]:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-notification",id:"chat-notification",label:d,desc:e,icons:"bell_null_cross",items:w.createChatMuteOptionsMenu(!0,function(b){w.muteChat(a,b)},a)})]},isChatMuted:function(a){if(a==null)return!1;a=a.mute_until;return!!a&&Number.isInteger(a)&&(a===-1||a*1e3>Date.now())},isChatMutedIndefinitely:function(a){if(a==null)return!1;a=a.mute_until;return!!a&&Number.isInteger(a)&&a===-1},unmuteChat:function(a){if(a==null||!w.isChatMuted(a))return;b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).updateMuteSetting(a.thread_id,0)},muteChat:function(a,c){if(a==null)return;b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).updateMuteSetting(a.thread_id,c)},createGroupChatMuteExplanationItem:function(){return b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"mention",id:"mention",label:h._("While muted, you'll still be notified about {\u0040mentions} in this chat.",[h._param("@mentions",b("React").createElement("strong",null,"@mentions"))]),isStatic:!0})},createChatMuteOptionsMenu:function(a,c,d){return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Header,{key:"mute-chat-header",label:h._("Mute this chat...")})].concat(w.createChatMuteOptionItems(a,c,d),[b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Separator,{key:"mute-chat-separator"}),w.createGroupChatMuteExplanationItem()])},createChatMuteOptionItems:function(a,c,d){__p&&__p();return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-mute-1-hour",id:"chat-mute-1-hour",label:h._("For 1 hour"),onClick:function(){c(s)},hideOnClick:!0,navigateBackOnClick:a}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-mute-2-hour",id:"chat-mute-2-hour",label:h._("For 2 hours"),onClick:function(){c(2*s)},hideOnClick:!0,navigateBackOnClick:a})].concat(b("gkx")("1088452")&&d.work_associated_group!=null?[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-mute-4-hour",id:"chat-mute-4-hour",label:h._("For 4 hours"),onClick:function(){c(4*s)},hideOnClick:!0,navigateBackOnClick:a})]:[],[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-mute-until-tomorrow",id:"chat-mute-until-tomorrow",label:h._("Until tomorrow at 8 am"),onClick:function(){var a=new Date(),b=a.getHours()>=8;b&&a.setDate(a.getDate()+1);a.setHours(8,0,0,0);c(Math.ceil((a.getTime()-Date.now())/1e3))},hideOnClick:!0,navigateBackOnClick:a}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-mute-next-week",id:"chat-mute-next-week",label:h._("Until next week (Monday at 8 am)"),onClick:function(){var a=new Date();a.setDate(a.getDate()+(7-a.getDay())%7+1);a.setHours(8,0,0,0);c(Math.ceil((a.getTime()-Date.now())/1e3))},hideOnClick:!0,navigateBackOnClick:a})],!b("gkx")("1088452")||d.work_associated_group==null?[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-mute-until-changed",id:"chat-mute-until-changed",label:h._("Until I change it"),onClick:function(){c(-1)},hideOnClick:!0,navigateBackOnClick:a})]:[])},createCustomizeItems:function(a){__p&&__p();var c=[];!a.is_canonical&&!a.work_associated_group&&(a.is_subscribed&&!a.is_canonical&&b("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,b("CurrentUser").getAccountID())&&(b("gkx")("997564")||c.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"rename-chat",id:"rename-chat",icons:"text",label:h._("Rename Chat"),hideOnClick:!0,onClick:function(){r.onReady(function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(d,{currentThreadName:a.name,onSave:function(c){b("MercuryThreadInfo").isEmptyLocalThread(a)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeGroupThreadName(a.thread_id,c)}})})})}})),c.push(b("React").createElement(b("WorkGalahadChangeChatPhotoMenuItem.react"),{key:"change-chat-photo",icons:"photo",label:h._("Change Chat Photo"),threadID:a.thread_id}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Separator,{key:"customize-options-separator"}))));a.customization_enabled&&(c.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"edit-chat-nicknames",id:"edit-chat-nicknames",icons:"pencil_underline",label:h._("Edit Nicknames"),hideOnClick:!0,onClick:function(){o.onReady(function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(d,{thread:a,participants:b("immutable").Map(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.bs").getNow(c),a))},{})),viewer:b("CurrentUser").getID(),onSave:function(c){var d=c[0];c=c[1];b("MercuryThreadInfo").isEmptyLocalThread(a)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeThreadNicknames(a.thread_id,d,c,b("MessagingThreadCustomizationSource").SETTINGS)},onClose:function(){}})})})}})),b("gkx")("819043")&&c.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"edit-chat-color",id:"edit-chat-color",icons:"color",label:h._("Change Color"),hideOnClick:!0,onClick:function(){b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(j,{currentColor:b("MessengerCustomColorUtils.bs").customColorOrBlue(a),onSave:function(c){b("MercuryThreadInfo").isEmptyLocalThread(a)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeThreadTheme(a.thread_id,c,"SETTINGS")},onClose:function(){}})})}})),c.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"change-chat-emoji",id:"change-chat-emoji",icons:"emoji",label:h._("Change Emoji"),hideOnClick:!0,onClick:function(){k.onReady(function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(d,{currentEmoji:a.custom_like_icon?a.custom_like_icon.emoji:String.fromCodePoint.apply(String,b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI),onClose:function(){},onSave:function(c){b("MercuryThreadInfo").isEmptyLocalThread(a)||b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).changeThreadEmoji(a.thread_id,c,b("MessagingThreadCustomizationSource").SETTINGS)}})})})}})));if(c.length===0)return[];var d=a.is_canonical||a.work_associated_group?h._("Edit emoji, nicknames and more"):h._("Edit chat name, photo and more");return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"customize-chat",id:"customize-chat",icons:"pencil",label:h._("Customize Chat"),desc:d,items:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Header,{key:"customize-chat-header",label:h._("Customize Chat")})].concat(c)})]},getOnHideChatCallback:function(a){return function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());a.is_pinned===!0&&c.unpin(a.thread_id);c.archive(a.thread_id);b("MessengerActions").selectThread(null)}},getOnUnhideChatCallback:function(a){return function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());a.is_archived===!0&&c.unarchive(a.thread_id);a.folder===b("MessagingTag").OTHER&&c.changeFolder(a.thread_id,b("MessagingTag").INBOX);b("MessengerActions").selectThread(a.thread_id)}},createHideChatItems:function(a){var c=a.folder===b("MessagingTag").OTHER;if(!a.is_archived&&!c)return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"hide-chat",id:"hide-chat",label:h._("Hide Chat"),icons:"hide",desc:h._("Hide this chat from your inbox"),onClick:this.getOnHideChatCallback(a),hideOnClick:!0})];else return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"unhide-chat",id:"unhide-chat",label:h._("Unhide Chat"),icons:"undo",desc:h._("Show this chat in your inbox"),onClick:this.getOnUnhideChatCallback(a),hideOnClick:!0})]},createRemoveChatItems:function(a){__p&&__p();var c=this,d={label:h._("Delete Message History"),desc:h._("Delete your copy of this chat and all of the messages within it."),onClick:function(){var d=function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID())["delete"](a.thread_id,b("ChatPinnedThreadsEntryPoint").MENU_ITEM_IN_OVERFLOW_MENU),b("MessengerActions").selectThread(null)};b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(n,{folder:a.folder,isArchived:a.is_archived,isGroupChat:b("MercuryIDs").isGroupChat(a.thread_id),onArchive:c.getOnHideChatCallback(a),onBlock:function(){},onDelete:d})})},hideOnClick:!0},e=a.folder===b("MessagingTag").OTHER;if(!a.is_subscribed||a.is_archived||e){delete d.desc;return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),babelHelpers["extends"]({key:"delete-chat-history",id:"delete-chat-history",icons:"trash"},d))]}var f=[];if(!e){var g=function(){var c=b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID());c.changeFolder(a.thread_id,b("MessagingTag").OTHER);b("MessengerActions").selectThread(null);new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(a.thread_id).setPlatform("messengerdotcom").log()};f.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"hide-chat-permanently",id:"hide-chat-permanently",label:h._("Permanently Hide"),desc:h._("This chat will move to 'Permanently Hidden'. It will stay there until you unhide it."),onClick:function(){b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(p,{onIgnore:g,onToggle:t})})},hideOnClick:!0}))}f.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),babelHelpers["extends"]({key:"delete-chat-history",id:"delete-chat-history"},d)));return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"remove-chat",id:"remove-chat",icons:"trash",label:h._("Remove Chat"),items:f})]},createBlockMessagesItems:function(a){__p&&__p();var c=b("CurrentUser").getID(),d=!1;b("MessengerState.bs").compute(c,function(e){e=e.blocked_ids;d=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(c,e,a)});var e=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id));if(e==null)return[];return!b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(a,c,e)?[]:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"block-chat",id:"block-chat",icons:"friend_block",label:d?h._("Unblock Messages"):h._("Block Messages"),onClick:function(){if(d)b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).unblockOnMessengerDotCom(a.thread_id);else{var f=b("MessengerContactAdapters").fromMercuryParticipant(e);b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(i,{onBlock:function(){v(a,c,f)},contact:f,threadID:a.thread_fbid})})}},hideOnClick:!0})]},createReportChatItems:function(a,c){return a.message_count===0||a.participants.length<=1?[]:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"report-chat",id:"report-chat",icons:"report",label:h._("Report Chat"),desc:c?h._("Give feedback and report something a person has shared in this chat"):null,hideOnClick:!0,onClick:function(){a.is_canonical?b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id):b("Bootloader").loadModules(["WorkChatReportParticipantDialogReact.bs"],function(c){var d=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(d,{thread:a,participants:b("immutable").Map(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.bs").getNow(c),a))},{})),viewer:b("CurrentUser").getID()})})},"WorkGalahadChatMenuHelper")}})]},createChatPrivacySubMenuItems:function(a){var c=a.other_user_fbid===b("CurrentUser").getID(),d=b("MercuryThreadInfo").isEmptyLocalThread(a);if(!a.is_subscribed||c||d)return[];c=w.createReportChatItems(a,!0);return b("WorkGalahadDropdownMenuHelper").createItemsFromSections([[].concat(c),[].concat(this.createBlockMessagesItems(a))])},createPrivacyItems:function(a){var c=w.createChatPrivacySubMenuItems(a);if(c.length===0)return[];return c.length===1?w.createReportChatItems(a,!1):[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"privacy-chat-options",id:"privacy-chat-options",icons:"privacy",label:h._("Privacy Options"),items:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Header,{key:"privacy-options-header",id:"privacy-options-header",label:h._("Privacy Options")})].concat(c)})]},createPinOrUnpinItems:function(a){if(!a.is_subscribed||a.message_count==0)return[];if(!a.is_pinned)return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"pin-chat",id:"pin-chat",icons:"pushpin",label:h._("Pin Chat"),desc:h._("Pin this chat to the top of inbox"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).pin(a.thread_id,b("ChatPinnedThreadsEntryPoint").MENU_ITEM_IN_OVERFLOW_MENU)},hideOnClick:!0})];else return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"unpin-chat",id:"unpin-chat",icons:"pushpin_slash",label:h._("Unpin Chat"),desc:h._("Unpin this chat in your inbox"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).unpin(a.thread_id,b("ChatPinnedThreadsEntryPoint").MENU_ITEM_IN_OVERFLOW_MENU)},hideOnClick:!0})]},createAdminOptionsItems:function(a){__p&&__p();var c=b("MessengerAdminGroupUtils").isAdmin(a.admins,b("CurrentUser").getID());if(a.is_canonical||!c)return[];c=!b("MessengerAdminGroupUtils").isApprovalOpenThread(a);c=[b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Header,{key:"chat-admin-options-header",label:h._("Membership Approval")}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"membership-approval-on",id:"membership-approval-on",label:h._("On"),desc:h._("Admins can approve new people that are added by non-admins."),icons:c?"checkmark_selected":"checkmark_unselected",onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).setApprovalMode(b("MessengerApprovalModeTypes").APPROVALS,a)},hideOnClick:!0}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"membership-approval-off",id:"membership-approval-off",label:h._("Off"),desc:h._("Any member can add new people to the chat without approval."),icons:c?"checkmark_unselected":"checkmark_selected",onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getAccountID()).setApprovalMode(b("MessengerApprovalModeTypes").OPEN,a)},hideOnClick:!0})];var d=b("immutable").OrderedMap(a.participants.reduce(function(a,c){return babelHelpers["extends"]({},a,(a={},a[c]=b("MessengerParticipants.bs").getNow(c),a))},{})),e=!b("WorkForeignEntityInfo.re").areAllCoworkers(d);a.is_subscribed&&!a.work_associated_group&&!e&&(c.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Separator,{key:"admin-create-group-option-separator"})),c.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"create-group",id:"create-group",icons:"group_plus",label:h._("Create Group"),hideOnClick:!0,onClick:function(){q.onReady(function(c){var e=c.jsComponent;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(e,{thread:a,participants:d})})})}})));return[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"chat-admin-options",id:"chat-admin-options",icons:"badge_admin",label:h._("Admin Options"),items:c})]},createLeaveItems:function(a){return a.is_canonical||!a.is_subscribed?[]:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"leave-chat",id:"leave-chat",icons:"leave",label:h._("Leave Chat"),onClick:function(){var c=b("MessengerAdminGroupUtils").isAdmin(a.admins,b("CurrentUser").getID());b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(m,{onLeave:function(){b("MessengerLeaveGroupAction").leaveGroup(a,b("CurrentUser").getID())},isViewerAdmin:c,thread:a})})},hideOnClick:!0})]},createMarkAsReadOrUnreadItems:function(a){return a.unread_count>0?[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"mark-as-read",id:"mark-as-read",icons:"envelope",label:h._("Mark As Read"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).markRead(a.thread_id)},hideOnClick:!0})]:[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"mark-as-unread",id:"mark-as-unread",icons:"envelope_open",label:h._("Mark As Unread"),onClick:function(){b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).markUnread(a.thread_id)},hideOnClick:!0})]}};e.exports=w}),null);
__d("WorkGalahadQuickChatAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPEN:"OPEN",EXPAND:"EXPAND",CLOSE:"CLOSE"})}),null);
__d("WorkGalahadQuickChatLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHANNEL:"CHANNEL",NOTIFICATION:"NOTIFICATION",QUICKCHAT:"QUICKCHAT"})}),null);
__d("WorkGalahadQuickChatMenuItem.react",["fbt","React","WorkGalahadDropdownMenuItem.react","WorkGalahadQuickChatAction","WorkGalahadQuickChatActions","WorkGalahadQuickChatLocation","WorkQuickChatTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React").useCallback;function a(a){var c=a.threadID;a=h(function(){new(b("WorkQuickChatTypedLogger"))().setThreadID(c).setActionType(b("WorkGalahadQuickChatAction").OPEN).setLocation(b("WorkGalahadQuickChatLocation").CHANNEL).log(),b("WorkGalahadQuickChatActions").openThreadID(c)},[c]);return b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{id:"quickchat",icons:"square_corner_bottom_right_box",label:g._("Open Chat Window"),desc:g._("Chat while you use Workplace"),onClick:a,hideOnClick:!0})}e.exports=a}),null);
__d("WorkGalahadChatChannelOverflowButton.react",["cx","fbt","AbstractPopoverButton.react","Link.react","React","WorkGalahadChatMenuHelper","WorkGalahadDropdownMenuHelper","WorkGalahadQuickChatMenuItem.react","cxMargin","gkx","joinClasses","useGalahadDropdownMenu"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.thread,d=a.className;c=b("WorkGalahadDropdownMenuHelper").createItemsFromSections([b("gkx")("997564")?[].concat(b("WorkGalahadChatMenuHelper").createPinOrUnpinItems(c)):[b("React").createElement(b("WorkGalahadQuickChatMenuItem.react"),{key:"quickChat",threadID:c.thread_id})].concat(b("WorkGalahadChatMenuHelper").createPinOrUnpinItems(c)),[].concat(b("WorkGalahadChatMenuHelper").createMuteChatItems(c),b("WorkGalahadChatMenuHelper").createHideChatItems(c)),[].concat(b("WorkGalahadChatMenuHelper").createMarkAsReadOrUnreadItems(c),b("WorkGalahadChatMenuHelper").createRemoveChatItems(c),b("WorkGalahadChatMenuHelper").createLeaveItems(c))]);var e=b("useGalahadDropdownMenu")({label:void 0,alignment:"left",items:c,onShow:function(){a.onToggle(!0)},onHide:function(){a.onToggle(!1)},width:280,offsetX:-12}),f=e[0];e=e[1];if(c.length===0)return null;c={button:b("React").createElement(b("Link.react"),babelHelpers["extends"]({"aria-label":h._("Group actions"),className:b("joinClasses")(d,"_7kl6")},e))};return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("AbstractPopoverButton.react"),{className:"_3-99",config:c,haschevron:!1}),f)}e.exports=a}),null);
__d("WorkGalahadMessageRow.react",["cx","React","WorkGalahadHoverHelper"],(function(a,b,c,d,e,f,g){var h=b("WorkGalahadHoverHelper").useHover;function a(a){var c=a.children,d=a.isActive,e=a.meta;a=a.hideMeta;var f=h(),g=f[0];f=f[1];return b("React").createElement("div",babelHelpers["extends"]({className:"_3-gp _23dk _6inw"+(d?" _69pu":"")+(g?" _6aio":"")},f),c,e!=null&&a!==!0?b("React").createElement("div",{className:"_3-gq _3nmu"},e):null)}e.exports=a}),null);
__d("MessengerThreadlistRowContainerReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","MessengerThreadlistRowContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistRowContainer.react"),{folder:b("bs_js_null_undefined").fromOption(a),blockedIds:n,isActive:b("Utils.bs").optionBoolToBool(c),isFocused:b("Utils.bs").optionBoolToBool(d),isActionsFocused:b("Utils.bs").optionBoolToBool(f),isTabbable:b("Utils.bs").optionBoolToBool(h),isDenseRow:b("Utils.bs").optionBoolToBool(e),onOverrideSelect:b("bs_js_null_undefined").fromOption(g),onFocus:i,onScrollIntoView:j,thread:k,viewer:l,readReceipts:m},o)}f.make=a}),null);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/fb_iframe_target/",{gk_spoof:{type:"String"}})}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/messenger_dot_com_iframe/",{redirect_uri:{type:"String",required:!0}})}),null);
__d("ReasonReasonResource",["Promise","JSResourceReference","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.load=function(){var a=this;return new(b("Promise"))(function(c){b("promiseDone")(a.getFullComponent(),function(a){c(a.$$module)})})};d.getModuleIfRequired=function(){var a;return(a=this.__reference.getModuleIfRequired())==null?void 0:a.$$module};d.getFullComponent=function(){return this.__reference.load()};d.setResourceReference=function(a){this.__reference=a;return this};return a}(b("JSResourceReference"));function a(a){return new g(a.getModuleIdAsRef()).setResourceReference(a)}e.exports=a}),null);
__d("SRPinningNub",["Event","SRDevModeParams","URI"],(function(a,b,c,d,e,f){__p&&__p();a={watchForm:function(a){__p&&__p();b("Event").listen(a,"submit",function(a){__p&&__p();var c=b("URI").getRequestURI();c.removeQueryData(b("SRDevModeParams").items);c.removeQueryData(b("SRDevModeParams").escapeParam);var d=a.target.getElementsByTagName("input");for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.addQueryData(g.name,g.value)}g=a.target.getElementsByTagName("select");for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;c.addQueryData(g.name,g.value)}c.go(!0);return!1})},watchLink:function(a){__p&&__p();a=b("URI").getRequestURI();for(var c=b("SRDevModeParams").items,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.removeQueryData(f)}a.go(!0);return!1},resetPage:function(a){a=b("URI").getRequestURI();a.addQueryData(b("SRDevModeParams").escapeParam,"");a.go(!0);return!1}};e.exports=a}),null);
__d("WorkChatCustomMenuItem",["cx","CSS","DOM","MenuItem","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["href","rel","ajaxify","target","accesskey"];function i(a,c){var d={};h.forEach(function(a){c[a]&&(d[a]=c[a])});b("DOM").setAttributes(a,d)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d._renderItemContent=function(){__p&&__p();this._anchor=b("DOM").create(this._data.renderas==="label"?"label":"a",{className:"_54nc"+(this._data.icon?" _54nu":"")});if(this._data.children){var a=this._data.icon?b("React").cloneElement(this._data.icon,{className:b("joinClasses")(this._data.icon.props.className,"mrs")}):null;b("ReactDOM").render(b("React").createElement("div",null,a,b("React").createElement("div",{className:"_54nh"},this._data.children)),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent}else{a=b("DOM").create("div",null,b("DOM").create("div",{className:"_54nh"},this._data.markup||this._data.label));this._data.icon&&b("DOM").prependContent(a,this._data.icon);b("DOM").setContent(this._anchor,a)}this._data.href||(this._data.href="#");this.isDisabled()||i(this._anchor,this._data);b("DOM").setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute("role",this._ARIARole);return this._anchor};d.render=function(){var c=a.prototype.render.call(this);b("CSS").addClass(c,"_1ydp");this._disabled&&b("CSS").addClass(c,"_5arm");return c};return c}(b("MenuItem"));e.exports=a}),null);
__d("WorkChatCustomMenuItem.bs",["ReasonReact.bs","bs_js_null_undefined","WorkChatCustomMenuItem"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("WorkChatCustomMenuItem"),{href:b("bs_js_null_undefined").fromOption(a),label:c,onclick:b("bs_js_null_undefined").fromOption(d),target:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("WorkChatDoNotDisturbDialogReactBootloader.bs",["bs_block","bs_curry","React","Bootload.bs","Bootloader","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableWorkChatDoNotDisturbDialogReact.bs"],a,"WorkChatDoNotDisturbDialogReactBootloader.bs");return 0}d=[a];var g=b("Bootload.bs").Create(d),h=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbDialogReactBootloader");function i(a,c){return b("bs_curry")._1(a[3],[c])}function c(a,c){return[h[0],h[1],h[2],h[3],function(a){return b("bs_curry")._1(g[0],function(b){return i(a,b)})},h[5],h[6],h[7],function(c){c=c[1][0];if(c!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._2(c[13],a,[]));else return b("React").createElement("div",void 0)},function(){return[void 0]},h[10],function(c,a){return b("bs_block").__(0,[[c[0]]])},h[12]]}f.BootloadableWorkChatDoNotDisturbDialogReact=d;f.LoadableWorkChatDoNotDisturbDialogReact=g;f.component=h;f.handleDoNotDisturbDialogLoad=i;f.make=c}),null);
__d("WorkChatDoNotDisturbMenuItemContentReactBootloader.bs",["fbt","bs_block","bs_curry","Bootload.bs","Bootloader","ReasonReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableWorkChatDoNotDisturbMenuItemContentReact.bs"],a,"WorkChatDoNotDisturbMenuItemContentReactBootloader.bs");return 0}d=[a];var h=b("Bootload.bs").Create(d),i=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbMenuItemContentReactBootloader");function j(a,c){if(a[1][1][0])return b("bs_curry")._1(a[3],[c]);else return 0}function c(a,c){__p&&__p();return[i[0],i[1],i[2],i[3],function(a){a[1][1][0]=!0;return b("bs_curry")._1(h[0],function(b){return j(a,b)})},i[5],function(a){a[1][1][0]=!1;return 0},i[7],function(c){c=c[1][0];if(c!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._2(c[2],a,[]));else return g._("Do Not Disturb")},function(){return[void 0,[!1]]},i[10],function(a,c){return b("bs_block").__(0,[[a[0],c[1]]])},i[12]]}f.BootloadableWorkChatDoNotDisturbMenuItemContentReact=d;f.LoadableWorkChatDoNotDisturbMenuItemContentReact=h;f.component=i;f.handleDoNotDisturbMenuItemContentLoad=j;f.make=c}),null);
__d("WorkUserDoNotDisturbSettingsEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",SCHEDULED_DND_SETTINGS_DIALOG_IMPRESSION:"scheduled_dnd_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION:"status_settings_dialog_impression",TURN_OFF:"turn_off",TURN_ON:"turn_on"})}),null);
__d("WorkUserDoNotDisturbSettingsSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLUE_BAR_MODERN_MENU:"blue_bar_modern_menu",BOOKMARK_NAV_MENU:"bookmark_nav_menu",GALAHAD_NAV_BAR_MENU:"galahad_nav_bar_menu",WORKPLACE_CHAT_MENU:"workplace_chat_menu",WORKPLACE_QUICKCHAT:"workplace_quickchat"})}),null);
__d("XMessengerDotComDYIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dyi/",{error:{type:"Exists",defaultValue:!1},x:{type:"String"},tab:{type:"String"},start:{type:"Int"},end:{type:"Int"},quality:{type:"Enum",enumType:0},format:{type:"Enum",enumType:0},sections:{type:"EnumKeyset",enumType:null},referrer:{type:"Enum",enumType:1},settings_tracking:{type:"String"},target_id:{type:"FBID"}})}),null);
__d("XWorkLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/logout/",{next:{type:"String"}})}),null);
__d("WorkChatActivityTypedLogger.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();switch(a){case 0:return"group_sync_new_post_button_click";case 1:return"notifs_jewel_links_click";case 2:return"nav_tab_click";case 3:return"info_panel_profile_link_click";case 4:return"notifs_jewel_click";case 5:return"info_panel_group_sync_top_link_click";case 6:return"info_panel_group_sync_about_link_click";case 7:return"info_panel_group_sync_posts_link_click";case 8:return"info_panel_group_sync_saved_link_click";case 9:return"info_panel_group_sync_events_link_click"}}f.string_of_event=a}),null);
__d("WorkChatThreadlistTabsReact.bs",["cx","fbt","React","LinkReact.bs","ReasonReact.bs","MessagingTag","MessengerView","MercuryFilters.bs","MessengerActions","MessengerSettingsMenuReact.bs","WorkChatActivityTypedLogger.bs","WorkChatActivityTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.filter;c=c!==void 0?c:b("MercuryFilters.bs").all;var d=a.folder,e=d!==void 0?d:"";d=a.view;a=a.viewer;var f=function(c){e!==b("MessagingTag").INBOX&&b("MessengerActions").changeFolder(b("MessagingTag").INBOX);var a=c===b("MessengerView").MASTER.RECENT;new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(2)).addToExtraData("data",[a?"recent":"people"]).log();b("MessengerActions").changeMasterView(c);return 0},g=h._("Home"),i=h._("People"),j=d===b("MessengerView").MASTER.RECENT&&e===b("MessagingTag").INBOX;return b("React").createElement("div",{className:"_65ty"},b("React").createElement("div",{className:"_65tz"},b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,g,"_65t-"+(j?"":" _65t_")+(j?" _65u0":""),void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){return f(b("MessengerView").MASTER.RECENT)},void 0,void 0,"button",void 0,void 0,void 0,void 0,g,[]))),b("React").createElement("div",{className:"_65tz"},b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,i,"_65t-"+(d!==b("MessengerView").MASTER.PEOPLE?" _65u1":"")+(d===b("MessengerView").MASTER.PEOPLE?" _65u2":""),void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(){return f(b("MessengerView").MASTER.PEOPLE)},void 0,void 0,"button",void 0,void 0,void 0,void 0,i,[]))),b("React").createElement("div",{className:"_65tz"},b("React").createElement(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:e,view:d,viewer:a})))}c=a;f.make=c}),null);
__d("SavedDashboardSectionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL:"ALL",ARCHIVED:"ARCHIVED",BOOKS:"BOOKS",EVENTS:"EVENTS",LINKS:"LINKS",MOVIES:"MOVIES",MUSIC:"MUSIC",PLACES:"PLACES",TV_SHOWS:"TV_SHOWS",VIDEOS:"VIDEOS",PAGES:"PAGES",PHOTOS:"PHOTOS",PRODUCTS:"PRODUCTS",PROFILES:"PROFILES",MESSAGES:"MESSAGES",FUNDRAISERS:"FUNDRAISERS",JOBS:"JOBS",MEDIA:"MEDIA",POSTS:"POSTS",EXTERNAL_URLS:"EXTERNAL_URLS",LISTS:"LISTS",GROUP_POSTS:"GROUP_POSTS",OFFERS:"OFFERS",ASSET3DS:"ASSET3DS",MARKETPLACE_NEARBUY_DEALS:"MARKETPLACE_NEARBUY_DEALS",GAMES:"GAMES",APPS:"APPS",FILES:"FILES"})}),null);
__d("WorkGalahadChatsThreadlistMenu",["fbt","requireDeferred","BasicFBNux","MercuryFilters.bs","MessagingTag","MessengerDialogs.bs","React","SavedDashboardSectionType","WorkChatSavedMessagesOnHeaderMenuNux","WorkGalahadChatChannelActions","WorkGalahadDropdownMenuItem.react","XSavedForLaterDashboardController","gkx"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("requireDeferred")("MessengerSettingsDialogWrapper.bs");function i(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").INBOX),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.bs").all)}function j(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").INBOX),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.bs").unread)}function k(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").ACTION_ARCHIVED),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.bs").all)}function l(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").OTHER),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.bs").all)}function m(){b("WorkGalahadChatChannelActions").changeFolder(b("MessagingTag").PENDING),b("WorkGalahadChatChannelActions").changeFilter(b("MercuryFilters.bs").all)}function n(a){h.onReady(function(a){var c=a.make;b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(c,{viewer:!0})})})}function a(a,c,d){__p&&__p();var e=b("gkx")("762398"),f=b("gkx")("843916"),h=[b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"inbox",id:"inbox",icons:a===b("MercuryFilters.bs").all&&c===b("MessagingTag").INBOX?"checkmark_selected":"checkmark_unselected",label:g._("Inbox"),onClick:i,hideOnClick:!0}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"unread",id:"unread",icons:a===b("MercuryFilters.bs").unread&&c===b("MessagingTag").INBOX?"checkmark_selected":"checkmark_unselected",label:g._("Unread"),onClick:j,hideOnClick:!0}),b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"hidden",id:"hidden",icons:a===b("MercuryFilters.bs").all&&c===b("MessagingTag").ACTION_ARCHIVED?"checkmark_selected":"checkmark_unselected",label:e?g._("Hidden"):g._("Archived"),onClick:k,hideOnClick:!0})];e&&h.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"permanently-hidden",id:"permanentlyHidden",icons:a===b("MercuryFilters.bs").all&&c===b("MessagingTag").OTHER?"checkmark_selected":"checkmark_unselected",label:g._("Permanently Hidden"),onClick:l,hideOnClick:!0}));h.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"message-requests",id:"messageRequests",icons:a===b("MercuryFilters.bs").all&&c===b("MessagingTag").PENDING?"checkmark_selected":"checkmark_unselected",label:g._("Message Requests"),onClick:m,hideOnClick:!0}));h.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react").Separator,{key:"workchat-settings-separator"}));f&&h.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"saved-message",id:"savedMessages",icons:"bookmark",label:g._("Saved Messages"),href:b("XSavedForLaterDashboardController").getURIBuilder().setEnum("dashboard_section",b("SavedDashboardSectionType").MESSAGES).getURI(),hideOnClick:!0,nux:{content:g._("Find all your saved messages here later."),onDismiss:function(){b("BasicFBNux").onDismiss(b("WorkChatSavedMessagesOnHeaderMenuNux").nuxID)},onShow:function(){b("BasicFBNux").onView(b("WorkChatSavedMessagesOnHeaderMenuNux").nuxID)},shown:b("WorkChatSavedMessagesOnHeaderMenuNux").shouldShowNux,event:"showSavedMessageNux"}}));h.push(b("React").createElement(b("WorkGalahadDropdownMenuItem.react"),{key:"settings",id:"settings",icons:"settings",label:g._("Settings"),onClick:function(){return n(d)},hideOnClick:!0}));return h}e.exports={getMenuItems:a}}),null);
__d("WorkGalahadChatsThreadlistHeader.react",["fbt","requireCond","MercuryFilters.bs","MessagingTag","React","cr:1061624","WorkGalahadChatsThreadlistMenu","WorkGalahadNavHeader.react","gkx"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c){a=a===b("MercuryFilters.bs").unread;switch(c){case b("MessagingTag").INBOX:return a?g._("Unread"):g._("Chats");case b("MessagingTag").ACTION_ARCHIVED:return b("gkx")("762398")?g._("Hidden"):g._("Archived");case b("MessagingTag").PENDING:return g._("Message Requests");case b("MessagingTag").OTHER:return g._("Permanently Hidden")}return null}function a(a){var c=a.filter,d=a.folder;a=a.viewer;return b("React").createElement(b("WorkGalahadNavHeader.react"),{title:h(c,d),action:{items:b("WorkGalahadChatsThreadlistMenu").getMenuItems(c,d,a),extraAction:b("cr:1061624")!=null?b("React").createElement(b("cr:1061624"),null):null}})}e.exports=a}),null);
__d("WorkGalahadChatsThreadlistHeaderReact.bs",["ReasonReact.bs","WorkGalahadChatsThreadlistHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadChatsThreadlistHeader.react"),{filter:c,folder:a,viewer:d},e)}f.make=a}),null);
__d("WorkGalahadNewMessageRow.react",["MessengerThreadlistNewMessageRow.react","React","WorkGalahadMessageRow.react"],(function(a,b,c,d,e,f){function a(a){return b("React").createElement(b("WorkGalahadMessageRow.react"),{isActive:a.isActive},b("React").createElement(b("MessengerThreadlistNewMessageRow.react"),a))}e.exports=a}),null);
__d("WorkGalahadNewMessageRowReact.bs",["ReasonReact.bs","WorkGalahadNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("WorkchatThreadListInviteRow.react",["cssVar","cx","fbt","Link.react","MercuryConfig","MessengerAddIconSVGReact.re","React","WorkInviteSource","XWorkInviteCoworkersDialogController"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerAddIconSVGReact.re").component;function a(){if(!b("MercuryConfig").ShowInviteSurface)return null;var a=b("XWorkInviteCoworkersDialogController").getURIBuilder().setEnum("source",b("WorkInviteSource").WWW_CHAT_THREAD_LIST).getURI();return b("React").createElement("li",{className:"_5l-3 _1q5x",role:"row",tabIndex:0},b("React").createElement("div",{className:"_5l-3 _1q5y",id:"work_thread_list_invite_row",role:"gridcell",tabIndex:-1},b("React").createElement(b("Link.react"),{href:"#",ajaxify:a,rel:"dialog",className:"_1q5y _1q61 _5l-3",s:"true",role:"link",tabIndex:-1},b("React").createElement("div",{className:"_5l-3 _1q60"},b("React").createElement("div",{"aria-hidden":!0,className:"_1qt3 _5l-3"},b("React").createElement(j,{className:"_1q5z",customColor:"#0084ff"})),b("React").createElement("div",{className:"_1qt4 _5l-m"},b("React").createElement("div",{className:"_1qt5 _5l-3"},b("React").createElement("div",{className:"_1ht6"},i._("Invite Coworkers"))))))))}e.exports=a}),null);
__d("WorkchatThreadListInviteRowReact.bs",["ReasonReact.bs","WorkchatThreadListInviteRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("WorkchatThreadListInviteRow.react"),{},a)}f.make=a}),null);
__d("MessengerThreadlistReact.bs",["cx","csx","fbt","bs_array","bs_block","bs_curry","React","Parent","gkx","bs_belt_Set","ReactDOM","debounce","LinkReact.bs","UserAgent","bs_caml_array","MercuryIDs","setTimeout","bs_belt_Option","CurrentUser","ReasonReact.bs","bs_js_primitive","MessagingTag","MessengerView","ParticipantId.bs","bs_caml_primitive","MercuryFilters.bs","MessengerState.bs","MessengerConfig","MessengerActions","MercuryThreadInfo","KeyEventController","MessageRequestLogger.bs","SubscriptionsHandler","ChatSidebarSheetReact.bs","MessengerSpinnerReact.bs","MessengerGalahadGating.bs","QuickPerformanceLogger","MessengerTypeaheadUtils","MessengerComposerActions","MercuryTypeaheadConstants","MessengerSearchFunnelState","WorkChatThreadlistTabsReact.bs","WorkGalahadNewMessageRowReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerNewMessagesNoticeReact.bs","MessengerThreadlistLinkRowReact.bs","MessengerFlexScrollableAreaReact.bs","WorkchatThreadListInviteRowReact.bs","MessengerMessageRequestsInfoReact.bs","MessengerThreadListGridWrapperReact.bs","MessengerGraphQLSearchTypeaheadReact.bs","MessengerSearchFunnelLoggerConstants","MessengerThreadlistRowContainerReact.bs","MessengerThreadlistNewMessageRowReact.bs","WorkGalahadChatsThreadlistHeaderReact.bs","MessengerThreadlistMessageRequestsRowReact.bs","MessengerUniversalSearchFunnelLoggerConstants","BootloadableMessengerUniversalSearchFunnelLogger.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d){if(d!==void 0&&a.length>0&&c.length>0){a=b("bs_caml_array").caml_array_get(a,0);c=b("bs_caml_array").caml_array_get(c,0);if(a.unread_count>0&&a.thread_id!==b("bs_js_primitive").valFromOption(d)&&a!==c)return b("MercuryThreadInfo").isMuted(a);else return!1}else return!1}function k(a,c){var d=a.ctrlKey,e=a.metaKey,f=a.shiftKey,g=b("KeyEventController").filterEventTypes(a,c);c=b("KeyEventController").filterEventTargets(a,c);a=b("Parent").bySelector(a.target,"._150g");if(d||e||f||!(g&&c))return!1;else return(a==null?void 0:b("bs_js_primitive").some(a))===void 0}function l(a,c){__p&&__p();var d=a.ctrlKey,e=a.metaKey,f=b("UserAgent").isPlatform("Mac OS X"),g=b("UserAgent").isPlatform("iOS");c=b("KeyEventController").filterEventTypes(a,c);a=b("Parent").bySelector(a.target,"._150g");a=a==null?void 0:b("bs_js_primitive").some(a);if(d)if(e||f||g||!c)return!1;else return a===void 0;else if(e)if(f)if(g||!c)return!1;else return a===void 0;else if(g&&c)return a===void 0;else return!1;else return!1}a=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("iOS")?"Cmd":"Ctrl";var m="K",n=a+" + K";function o(a,c){c[1][6][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function p(a,c,d){var e=d.findIndex(function(c){if(a!==void 0)return c.thread_id===b("bs_js_primitive").valFromOption(a);else return!1});e=b("bs_caml_primitive").caml_int_min(b("bs_caml_primitive").caml_int_max(e+c|0,0),d.length-1|0);return b("bs_caml_array").caml_array_get(d,e).thread_id}function q(a,c){a.preventDefault();a=c[1][4][0];if(a!==void 0)return b("bs_js_primitive").valFromOption(a).focusInput();else return 0}function r(a,c){c[1][4][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function s(a,c){var d=c[1];b("setTimeout")(function(){var c=d[6][0];if(c!==void 0){b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_js_primitive").valFromOption(c));return 0}else return 0},0);return 0}function t(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").OTHER);return 0}function u(a){a.preventDefault();b("MessengerActions").changeFilter(b("MercuryFilters.bs").all);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0}function v(a,c,d,e){__p&&__p();var f=[];b("bs_array").iter(function(d){__p&&__p();d=c[d];if(d!==void 0){var e=d[1];d=d[0];if(d==null)return 0;else{d=b("ReactDOM").findDOMNode(d).getBoundingClientRect();if(d.top>a.top-10&&d.bottom<a.bottom+10){f.push({threadID:e.thread_id,unread:e.unread_count>0});return 0}else return 0}}else return 0},Object.keys(c));if(f.length){var g=b("bs_array").map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.threadID,e)},f);g=g.join(",");return b("MessageRequestLogger.bs").logItemImpression(f,g,d)}else return 0}var w=b("debounce")(function(a){__p&&__p();var c=a[1];a=a[0];var d=a[6][0];if(d!==void 0){d=b("bs_js_primitive").valFromOption(d).getArea();if(d==null)return 0;else{d=d.getElement().getBoundingClientRect();v(d,a[8],b("MessagingTag").PENDING,c);return v(d,a[9],b("MessagingTag").OTHER,c)}}else return 0},500);function x(a,c,d){__p&&__p();d=d[1];if(a.folder===b("MessagingTag").PENDING){d[8][a.thread_id]=[c,a];return 0}else if(a.folder===b("MessagingTag").OTHER){d[9][a.thread_id]=[c,a];return 0}else return 0}function y(a,c){return b("bs_curry")._1(a[3],b("bs_block").__(2,[c]))}function z(a,c,d,e,f,g,h,i,j){__p&&__p();var k=d[1];a=a!==void 0?b("bs_js_primitive").valFromOption(a)===j.thread_id:!1;var l=k[0];l=l!==void 0;var m=k[0];m=m!==void 0?b("bs_js_primitive").valFromOption(m)===j.thread_id:!1;l=a?l&&!m?!1:!0:m?!0:!1;var n=j.folder===b("MessagingTag").PENDING||j.folder===b("MessagingTag").OTHER;return b("ReasonReact.bs").element(j.thread_id,n?b("bs_curry")._1(d[0],function(a,b){return x(j,a,b)}):function(){return 0},b("MessengerThreadlistRowContainerReact.bs").make(e,a,m,h,k[2],i,l,b("bs_curry")._1(d[1][19],[d,y]),b("bs_curry")._1(d[1][18],[d,s]),j,c,g,f,[]))}function A(a,c){__p&&__p();c=c[1];var d=a[2],e=a[1],f=a[0],g=e==null?b("MessengerSearchFunnelLoggerConstants").OTHER:e===b("MercuryTypeaheadConstants").FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_CONTACT:e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT:e===b("MercuryTypeaheadConstants").FB4C_TYPE?b("MessengerSearchFunnelLoggerConstants").COWORKER:e===b("MercuryTypeaheadConstants").GAME_TYPE?b("MessengerSearchFunnelLoggerConstants").GAME:e===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE||e===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||e===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE||e===b("MercuryTypeaheadConstants").PAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").PAGE:e===b("MercuryTypeaheadConstants").THREAD_TYPE?b("MessengerSearchFunnelLoggerConstants").GROUP:e===b("MercuryTypeaheadConstants").MESSAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").MESSAGE:b("MessengerSearchFunnelLoggerConstants").OTHER;if(d!==void 0){a=d;b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),f,b("bs_curry").__1(a),null)}else g===b("MessengerSearchFunnelLoggerConstants").MESSAGE?b("MessengerActions").searchForMessagesInAThread(f,c[3]):b("MessengerActions").selectThread(f,e);d=c[3];var h=d===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,i=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST,j=c[3],k=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger[3];return b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable[0],function(a){return k(j,f,g,h,i,a)})}var B=b("MessengerDotComAndInboxM4Check.bs").yes?"_3bll _6ybw":"_3bll",C=b("ReasonReact.bs").reducerComponent("MessengerThreadlistReact");function D(a,c,d,e,f,g,h,v,x,y,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,aa){__p&&__p();var W=S!==void 0?S:!0,X=function(d,e,f){__p&&__p();var g=f[1],a=g[10],c=g[11];d=typeof d==="number"?d!==0?a.length-1|0:(-a.length|0)-1|0:d[0];var h=e.altKey,i=b("Parent").bySelector(e.target,"._4rv3"),j=g[0],k=b("Parent").bySelector(e.target,"._1ht1");if(h&&!(i==null)){h=g[16];if(h)if(d===1&&a.length>0){b("MessengerActions").selectThread(b("bs_caml_array").caml_array_get(a,0).thread_id,null);return 0}else return 0;else{i=function(d,c){return c.findIndex(function(c){return c===b("bs_caml_array").caml_array_get(a,d)})};h=function(c,a,d){c=c;var e=!1;while(!e)b("bs_caml_array").caml_array_get(a,c).is_pinned===!1?e=!0:c=c+d|0;return c};var l=a.findIndex(function(c){var a=g[14];if(a!==void 0)return b("bs_js_primitive").valFromOption(a)===c.thread_id;else return!1});if(l!==-1){var m=c.length>0;if(m){m=b("bs_caml_array").caml_array_get(c,c.length-1|0)===b("bs_caml_array").caml_array_get(a,l);m=m?!0:!1}else m=!1;var n=l===h(0,a,1);n=n?!0:!1;var o=b("bs_caml_array").caml_array_get(a,l).is_pinned,p,q=0;o?m?n?q=2:p=c.length===a.length?b("bs_caml_array").caml_array_get(a,l):d<0&&c.length>1?b("bs_caml_array").caml_array_get(c,c.length-2|0):c.length===1&&d<0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(a,h(0,a,d)):n?q=2:p=i(l,c)===0&&d<0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(c,i(l,c)+d|0):m?q=2:p=n?c.length>0&&d<0?b("bs_caml_array").caml_array_get(c,c.length-1|0):b("bs_caml_array").caml_array_get(a,h(l+d|0,a,d)):l===(a.length-1|0)&&d>0?b("bs_caml_array").caml_array_get(a,l):b("bs_caml_array").caml_array_get(a,l+d|0).is_pinned===!0?b("bs_caml_array").caml_array_get(a,h(l+d|0,a,d)):b("bs_caml_array").caml_array_get(a,l+d|0);q===2&&(p=b("bs_caml_array").caml_array_get(a,l+d|0));b("MessengerActions").selectThread(p.thread_id);g[12]&&l===0&&d===-1&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);if(l===(a.length-1|0))return b("bs_curry")._1(g[15],0);else return 0}else return 0}}else o=1;if(o===1)if(j!==void 0&&!(k==null)){e.preventDefault();return b("bs_curry")._1(f[3],b("bs_block").__(3,[d]))}else return 0},Y=function(c,a){c.stopPropagation();b("MessengerComposerActions").exitComposeStateAbandonSearch();if(x){a=I.find(function(a){return a.unread_count===0});b("MessengerActions").selectThread(a!==void 0?a.thread_id:null,null);return 0}else return 0},Z=function(c,a){c.preventDefault();return b("bs_curry")._1(E,0)},ba=function(a,c,d,e){__p&&__p();var f=0;if(a!==void 0&&a)return null;else a=2;if(a===2)if(c!==void 0&&c)return b("React").createElement("div",{className:"_19hf"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerSpinnerReact.bs").make(void 0,void 0,void 0,void 0,[])));else f=1;if(f===1){a=e[6][0];if(a!==void 0){b("bs_js_primitive").valFromOption(a).isScrolledToBottom()&&b("bs_curry")._1(E,0);return null}else return b("React").createElement("div",{className:"_19hf"},b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"#",void 0,b("bs_curry")._1(d[0],Z),void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[i._("Show Older")])))}},$=Q!==void 0?Q:!1,ca=function(d){__p&&__p();b("bs_array").stable_sort(function(a,b){a=a.thread_pin_timestamp;b=b.thread_pin_timestamp;if(a==null)if(b==null)return 0;else return-1;else if(b==null)return 1;else return a-b|0},J);if(J.length<1)return null;else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadListGridWrapperReact.bs").make(i._("Pinned conversations"),[b("bs_array").map(function(b){return z(a,K,d,f,c,L,$,P,b)},J)]))},da=function(d){__p&&__p();if(I.length===0&&v===!1)if(b("MessengerDotComAndInboxM4Check.bs").yes&&G!==void 0){var g=G;g=i._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[i._param("query",g)]);return b("React").createElement("div",{className:"_8b0j"},b("React").createElement("span",{className:"_8b0k"},i._("No Messages Found")),b("React").createElement("span",{className:"_8b0l"},g))}else{if(f===b("MessagingTag").INBOX){g=e===b("MercuryFilters.bs").unread;g=g?i._("No unread messages found."):i._("No messages found.")}else g=f===b("MessagingTag").PENDING?i._("No Message requests found."):i._("No filtered messages found.");var h=f!==b("MessagingTag").INBOX||e!==b("MercuryFilters.bs").all;h=h?b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,u,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[i._("Return to Chats")])):null;return b("React").createElement("div",{className:"_3blk"},g,b("React").createElement("div",{className:B},h))}else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadListGridWrapperReact.bs").make(i._("Conversation List"),[b("bs_array").map(function(e){if(e.is_pinned===!0&&(b("gkx")("678624")||b("MessengerConfig").MPT>0))return null;else return z(a,K,d,f,c,L,$,P,e)},I)]))};return[C[0],C[1],C[2],function(c){__p&&__p();var d=c[6][0];d=d!==void 0?b("bs_js_primitive").valFromOption(d).isScrolledToTop():!1;var e=j(I,c[10],a),h=0,i=0;if(d||!e)i=2;else if(G!==void 0){e=G;var k=e.length===0;return[c[0],c[1],c[2],k?e:c[3],c[4],!0,c[6],c[7],c[8],c[9],I,J,g,c[13],a,E,x,f,c[18],c[19]]}else h=1;if(i===2)if(G!==void 0){k=G;e=k.length===0;return[c[0],c[1],c[2],e?k:c[3],c[4],c[5]&&!d,c[6],c[7],c[8],c[9],I,J,g,c[13],a,E,x,f,c[18],c[19]]}else h=1;if(h===1)return[c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],I,J,g,c[13],a,E,x,f,c[18],c[19]]},function(a){__p&&__p();var c=function(c,d){var e=b("Parent").bySelector(d.target,"._1ht1");if(e==null)return 0;else{d.preventDefault();return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))}},d=new(b("SubscriptionsHandler"))(),e=[-1],f=[1],g=[-5],h=[5];d.addSubscriptions(b("KeyEventController").registerKey("UP",b("bs_curry")._1(a[0],function(a,b){return X(e,a,b)}),k),b("KeyEventController").registerKey("DOWN",b("bs_curry")._1(a[0],function(a,b){return X(f,a,b)}),k),b("KeyEventController").registerKey("PAGE_UP",b("bs_curry")._1(a[0],function(a,b){return X(g,a,b)})),b("KeyEventController").registerKey("PAGE_DOWN",b("bs_curry")._1(a[0],function(a,b){return X(h,a,b)})),b("KeyEventController").registerKey("HOME",b("bs_curry")._1(a[0],function(a,b){return X(0,a,b)})),b("KeyEventController").registerKey("END",b("bs_curry")._1(a[0],function(a,b){return X(1,a,b)})),b("KeyEventController").registerKey("LEFT",function(a){return c(!1,a)}),b("KeyEventController").registerKey("RIGHT",function(a){return c(!0,a)}),b("KeyEventController").registerKey(m,b("bs_curry")._1(a[0],q),l));b("bs_curry")._1(a[4],function(){d.release();return 0});b("QuickPerformanceLogger").markerStartFromNavStart(25296901);b("QuickPerformanceLogger").markerEnd(25296901,"SUCCESS");return w([a[1],K])},function(a){__p&&__p();var c=a[1];a=a[0];c[1][17]!==f&&w([c[1],K]);var d=c[1][1]!==a[1][1];a=g&&!a[1][12];c=c[1][6][0];if(d&&a&&c!==void 0){b("bs_js_primitive").valFromOption(c).scrollToTop();return 0}else return 0},C[6],C[7],function(a){__p&&__p();var c=a[1],j=c[5]&&!c[1],k=b("MessengerGalahadGating.bs").isGalahadUIEnabled(0),l=!c[1]&&b("MessengerConfig").MPT>0&&J.length>0&&f===b("MessagingTag").INBOX,m=b("CurrentUser").isWorkUser()&&!c[1]&&b("gkx")("678624")&&J.length>0&&e===b("MercuryFilters.bs").all&&f===b("MessagingTag").INBOX,p=i._("Conversations"),q=G!==void 0,u=M!==void 0?M:!1,w=N!==void 0?N:!1,z=O!==void 0?O:!1,B;if(U!==void 0)B=U;else{var C=b("CurrentUser").isWorkUser();if(C){C=c[1];B=i._("Search chats{keyboard shortcut help}",[i._param("keyboard shortcut help",C?"":" ("+(n+")"))])}else B=i._("Search Messenger")}var E;C=0;R!==void 0&&R?E=null:C=1;if(C===1){C=f===b("MessagingTag").INBOX;E=C?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a[0],r),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-_b":"")+(c[1]||c[3].length>0?" _5iwn":"")+" _150g",W,!1,!1,!1,c[3]===""&&!q,q,c[1],function(){if(q)return b("bs_curry")._1(a[3],1);else{var d=c[3]==="",e=d?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD,f=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST,g=b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.ABANDON,h=b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,i=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger[1];b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable[0],function(a){return i(h,g,"",e,f,a)});return b("bs_curry")._1(a[3],2)}},function(c){c=c.target.value;return b("bs_curry")._1(a[3],b("bs_block").__(0,[c]))},function(){d!==void 0&&b("bs_curry")._1(d,0);return b("bs_curry")._1(a[3],3)},function(){if(q)return b("bs_curry")._1(a[3],4);else return b("bs_curry")._1(a[3],0)},b("bs_curry")._1(a[1][18],[a,s]),function(e,f){var d=c[3]==="",g=d?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("bs_curry")._2(a[0],A,[e,f,P]);var h=b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST,i=b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.RESULT_SELECTED,j=b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,k=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger[1];return b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable[0],function(a){return k(j,i,"",g,h,a)})},B,c[3],!0,!0,"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c[3].length<2?" _8cg4":""),K,T,V,[])):k?b("React").createElement("div",{className:"_7cyu"}):null}C=b("CurrentUser").isWorkUser()&&!c[1];B=k&&!c[1]&&!u;u=m||l;if(u){m=l||w;u=b("React").createElement("div",void 0,ca(a),m?null:b("React").createElement("div",{className:"_1s38"}))}else u=null;l=f===b("MessagingTag").PENDING;w=f===b("MessagingTag").INBOX&&D.length>0;m=f===b("MessagingTag").PENDING&&!(b("CurrentUser").isWorkUser()&&b("gkx")("762398"));var I=b("CurrentUser").isWorkUser()&&!k&&b("gkx")("678606");return b("React").createElement("div",{className:"_2xhi"+(b("MessengerConfig").MPT>0?" _6q63":"")},b("ReasonReact.bs").element(void 0,void 0,b("ChatSidebarSheetReact.bs").make("_p0g",K,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerNewMessagesNoticeReact.bs").make(j,function(c){c.preventDefault();return b("bs_curry")._1(a[3],6)},void 0,[])),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a[0],o),b("MessengerFlexScrollableAreaReact.bs").make(function(){return b("bs_curry")._1(a[3],5)},"_3_e8"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7slg":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&c[7]?" _7slh":""),y,z,[E,C?b("ReasonReact.bs").element(void 0,void 0,b("WorkchatThreadListInviteRowReact.bs").make([])):null,B?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadChatsThreadlistHeaderReact.bs").make(f,e,K,[])):null,u,l?b("React").createElement("div",{className:"_5u15"},b("React").createElement(b("MessengerMessageRequestsInfoReact.bs").make,{})):null,b("React").createElement("div",{"aria-label":p,className:c[1]&&!q?"accessible_elem":"",role:"navigation"},w?b("React").createElement(b("MessengerThreadlistMessageRequestsRowReact.bs").make,{pendingFolderUnseenCount:F,newMessageRequestThreads:D,viewer:K}):null,g?k?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadNewMessageRowReact.bs").make(x,b("bs_curry")._1(a[0],Y),[])):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistNewMessageRowReact.bs").make(x,b("bs_curry")._1(a[0],Y),[])):null,da(a),m?b("MessengerThreadlistLinkRowReact.bs").make(t):null,H!==void 0?b("bs_curry")._1(H,0):ba(h,v,a,c))])),I?b("React").createElement(b("WorkChatThreadlistTabsReact.bs").make,{filter:e,folder:f,view:b("MessengerView").MASTER.RECENT,viewer:K}):null)},function(){return[void 0,!1,!1,b("bs_belt_Option").getWithDefault(G,""),[void 0],!1,[void 0],!1,{},{},I,J,g,void 0,a,E,x,f,b("ReasonReact.bs").Props[0](function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[0][0],a[1])}),b("ReasonReact.bs").Props[0](function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[1],a[0])})]},C[10],function(c,d){__p&&__p();if(typeof c==="number")switch(c){case 0:var e=new(b("MessengerSearchFunnelState"))();e.setSessionID(0);var f=b("MessengerUniversalSearchFunnelLoggerConstants").INTERFACES.MESSENGER_DOT_COM,g=b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX,h=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger[0];b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable[0],function(a){return h(g,f,e,a)});return b("bs_block").__(0,[[d[0],!0,d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],b("bs_js_primitive").some(e),d[14],d[15],d[16],d[17],d[18],d[19]]]);case 1:return b("bs_block").__(0,[[d[0],!1,d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]]);case 2:return b("bs_block").__(0,[[d[0],!1,d[2],"",d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]]);case 3:return b("bs_block").__(0,[[d[0],d[1],d[2],"",d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],void 0,d[14],d[15],d[16],d[17],d[18],d[19]]]);case 4:return b("bs_block").__(0,[[d[0],!0,d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]]);case 5:if(d[1])return 0;else{var i=d[6][0];if(i!==void 0){i=b("bs_js_primitive").valFromOption(i);var j=i.isScrolledToTop(),k=d[0],l=d[1],m=d[2],n=d[3],o=d[4],q=d[5],r=d[6],s=!j,t=d[8],u=d[9],v=d[10],x=d[11],y=d[12],z=d[13],A=d[14],B=d[15],C=d[16],D=d[17],F=d[18],H=d[19];q=[k,l,m,n,o,q,r,s,t,u,v,x,y,z,A,B,C,D,F,H];i=i.isScrolledToBottom();var J=d[5];if(i){if(j&&J)return b("bs_block").__(2,[[k,l,m,n,o,!1,r,s,t,u,v,x,y,z,A,B,C,D,F,H],function(a){b("bs_curry")._1(E,0);return w([a[1],K])}]);else i=1;if(i===1)return b("bs_block").__(2,[q,function(a){b("bs_curry")._1(E,0);return w([a[1],K])}])}else{if(j&&J)return b("bs_block").__(2,[[k,l,m,n,o,!1,r,s,t,u,v,x,y,z,A,B,C,D,F,H],function(a){return w([a[1],K])}]);else i=1;if(i===1)return b("bs_block").__(2,[q,function(a){return w([a[1],K])}])}}else return 0}break;case 6:return b("bs_block").__(2,[[d[0],d[1],d[2],d[3],d[4],!1,d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]],function(a){a=a[1][6][0];if(a!==void 0){b("bs_js_primitive").valFromOption(a).scrollToTop();return 0}else return 0}])}else switch(c.tag|0){case 0:var a=c[0],L=b("BootloadableMessengerUniversalSearchFunnelLogger.bs").FunnelLogger[2];b("bs_curry")._1(b("BootloadableMessengerUniversalSearchFunnelLogger.bs").Loadable[0],function(b){return L(a,b)});return b("bs_block").__(0,[[d[0],d[1],d[2],a,d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]]);case 1:return b("bs_block").__(0,[[d[0],d[1],c[0],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]]);case 2:return b("bs_block").__(0,[[b("bs_js_primitive").some(c[0]),d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]]);case 3:return b("bs_block").__(0,[[b("bs_js_primitive").some(p(d[0],c[0],I)),d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19]]])}},C[12]]}c=b("ReasonReact.bs").wrapReasonForJs(C,function(a){var c=a.blockedIds,d=a.isComposing;return D(b("bs_js_primitive").nullable_to_opt(a.activeThreadID),c==null?b("bs_belt_Set").make([b("ParticipantId.bs").cmp]):c,b("bs_js_primitive").nullable_to_opt(a.handleClear),a.filter,a.folder,d==null?!1:d,b("bs_js_primitive").nullable_to_opt(a.isLoaded),b("bs_js_primitive").nullable_to_opt(a.isLoading),a.isNewMessageActive,b("bs_js_primitive").nullable_to_opt(a.maxHeight),a.newMessageRequestThreads,a.onLoadMoreRequest,a.pendingFolderUnseenCount,b("bs_js_primitive").nullable_to_opt(a.queryString),b("bs_js_primitive").nullable_to_opt(a.renderLoadMore),a.threads,b("bs_belt_Option").getWithDefault(b("bs_js_primitive").nullable_to_opt(a.pinnedThreads),[]),a.viewer,a.readReceipts,b("bs_js_primitive").nullable_to_opt(a.hideThreadListHeader),b("bs_js_primitive").nullable_to_opt(a.hidePinnedThreadSeparator),b("bs_js_primitive").nullable_to_opt(a.skipViewportHeightCalculationForScrollarea),b("bs_js_primitive").nullable_to_opt(a.onOverrideSelect),b("bs_js_primitive").nullable_to_opt(a.isDenseRow),b("bs_js_primitive").nullable_to_opt(a.hideSearchBox),a.enableMessageSearch,b("bs_js_primitive").nullable_to_opt(a.searchResultRowComponent),b("bs_js_primitive").nullable_to_opt(a.searchPlaceholder),b("bs_js_primitive").nullable_to_opt(a.searchInputPortalRef),[])});d=b("bs_belt_Option").getWithDefault;e=25296901;g=10;f.$pipe$unknown=d;f.qpl_module_page_load_mdotcom=e;f.hasNewUnreadMessages=j;f.filterKeyEvent=k;f.filterPlatformSpecificModifierKey=l;f.platformSpecificModiferKeyLabel=a;f.searchKeyboardMainKey=m;f.searchKeyboardShortcut=n;f.setScrollable=o;f.getFocusedThreadId=p;f.handleFocusSearchBar=q;f.setSearchInputNode=r;f.handleScrollIntoView=s;f.handleFilteredRequestsClick=t;f.handleReturnToInboxClick=u;f.impressionOffset=g;f.logNodeImpressions=v;f.checkAndUpdateMessageRequestImpressions=w;f.setter=x;f.onFocus=y;f.renderThread=z;f.handleSelect=A;f.emptyInboxLinkClasses=B;f.component=C;f.make=D;f.jsComponent=c}),null);
__d("MessengerUtilityJitterReact.bs",["ReasonReact.bs","MessengerUtilityJitter.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("MessengerUtilityJitter.react"),{},a)}f.make=a}),null);
__d("PagesPlatformDialogContainerReact.bs",["ReasonReact.bs","PagesPlatformDialogContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("PagesPlatformDialogContainer.react"),{},a)}f.make=a}),null);
__d("ReplyingToMessageReact.bs",["ix","cx","fbt","Image.bs","React","asset","ReasonReact.bs","bs_js_primitive","XUICloseButtonReact.bs","MercuryAttachmentType","MercuryMessageBodyReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReasonReact.bs").statelessComponent("ReplyingToMessageReact");function k(a,c,d,e,f,h){__p&&__p();return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(){__p&&__p();var f,j=0;if(c!==void 0){var k=c;k===""?j=1:f=[b("ReasonReact.bs").element(void 0,void 0,b("MercuryMessageBodyReact.bs").make(k,[])),null]}else j=1;if(j===1){if(d.length!==1)k=[i._({"*":"{number of attachments in message being replied to} Attachments","_1":"{number of attachments in message being replied to} Attachment"},[i._param("number of attachments in message being replied to",String(d.length)),i._plural(d.length)]),g("596865")];else{j=d[0];var l=j.attach_type===b("MercuryAttachmentType").PHOTO;if(l)k=[i._("Photo"),g("596858")];else{l=j.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE;if(l)k=[i._("GIF"),g("596858")];else{l=j.attach_type===b("MercuryAttachmentType").VIDEO;if(l)k=[i._("Video"),g("596874")];else{l=j.attach_type===b("MercuryAttachmentType").STICKER||j.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER;k=l?[i._("Sticker"),g("596858")]:[i._("Attachment"),g("596852")]}}}}f=[k[0],b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_6ees",void 0,void 0,void 0,k[1],void 0,void 0,void 0,void 0,[]))]}return b("React").createElement("div",{className:(h?"_692o":"")+" _67tu"},b("ReasonReact.bs").element(void 0,void 0,b("XUICloseButtonReact.bs").make("_67tv",1,h?1:2,e,void 0,[])),i._("Replying to")," ",b("React").createElement("strong",void 0,i._("{name}",[i._param("name",a)])),b("React").createElement("div",{className:"_67tw _1nc6 ellipsis"},f[0],f[1]))},j[9],j[10],j[11],j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(a.name,b("bs_js_primitive").nullable_to_opt(a.body),a.attachments,a.onCancelReplyingToMessage,[],a.isChatTab)});f.component=j;f.make=k;f.jsComponent=a}),null);
__d("ShimButtonReact.bs",["ReasonReact.bs","ShimButton.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("ShimButton.react"),{className:b("bs_js_null_undefined").fromOption(a),inline:b("bs_js_null_undefined").fromOption(c),onClick:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("SpotlightMessengerSharedMediaViewerContainerReact.bs",["ReasonReact.bs","SpotlightMessengerSharedMediaViewerContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h){return b("ReasonReact.bs").wrapJsForReason(b("SpotlightMessengerSharedMediaViewerContainer.react"),{onClosePhotoView:a,openAlbum:c,photoID:d,rootClassName:e,threadID:f,disableForward:g},[])}f.make=a}),null);
__d("SpotlightViewerReact.bs",["ReasonReact.bs","SpotlightViewer"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("SpotlightViewer"),{className:a,onHide:c,open:d},e)}f.make=a}),null);
__d("MessengerInfoPanelPeopleSectionReact.bs",["ix","cx","fbt","cssVar","Image.bs","React","gkx","bs_caml_obj","asset","LinkReact.bs","immutable","MercuryIDs","CurrentUser","ReasonReact.bs","bs_js_primitive","MessagingTag","bs_js_null_undefined","MessageRequestUtils","MessengerAddIconSVGReact.bs","MessengerAdminGroupUtils","MessengerSortParticipants","MessengerContactListReact.re","MessengerInfoPanelSectionReact.bs","MessengerInfoPanelContactActions.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.admins,d=a.canViewerReply,e=a.contactAdapter,f=a.isCollapsed,h=a.isViewerSubscribed,j=a.onAddPeopleClick,k=a.onContactAction,l=a.onContactSelect,m=a.onToggle,n=a.participants,o=a.thread;a=a.viewer;var p=function(){__p&&__p();if(!d||b("MessageRequestUtils").isMessageRequest(o)||b("bs_caml_obj").caml_equal(o.group_thread_subtype,13))return null;else{var a=b("MessengerAdminGroupUtils").shouldInvite(o);a=a?i._("Invite"):i._("Add People");var c=o.solid_color;if(c==null){var e=b("CurrentUser").isWorkUser();e=e?"#373e4c":"#0084ff"}else e=c;c=b("CurrentUser").isWorkUser();c=c?b("React").createElement("div",{className:"_3-8n _3-8u"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("461758"),void 0,void 0,void 0,void 0,[]))):b("ReasonReact.bs").element(void 0,void 0,b("MessengerAddIconSVGReact.bs").make("_4rpi",e,[]));return b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,"_4rph",void 0,void 0,void 0,void 0,void 0,void 0,void 0,j,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[c,b("React").createElement("div",{className:"_4rpj"},a)]))}};n=o.folder===b("MessagingTag").PENDING&&b("gkx")("890873")?n["delete"](b("MercuryIDs").getParticipantIDFromUserID(a)):n;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelSectionReact.bs").make(b("bs_js_primitive").nullable_to_opt(o.solid_color),!0,f,m,i._("People"),[p(0),b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactListReact.re").make(b("MessengerInfoPanelContactActions.react"),b("bs_js_primitive").option_get(c==null?void 0:b("bs_js_primitive").some(c)),"_4wc-",e,!0,h,b("immutable").OrderedMap([[[null],b("MessengerSortParticipants").sortAlphabeticalWithAdmins(c==null?b("bs_js_null_undefined").fromOption([]):b("bs_js_null_undefined").fromOption(Object.keys(c)),n)]]),k,l,void 0,a,o,[]))]))}c=a;f.make=c}),null);
__d("MessengerInfoPanelPeopleSectionReact.re",["MessengerInfoPanelPeopleSectionReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerInfoPanelPeopleSectionReact.bs").make;f.make=a}),null);
__d("WorkChatEditGroupThreadDescriptionDialogReact.bs",["cx","fbt","bs_curry","React","bs_string","ReasonReact.bs","bs_js_primitive","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerTextWithEmojiInputReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").reducerComponent("WorkChatEditGroupThreadDescriptionDialogReact");function j(a,c){c[1][0][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function a(a,c,d){__p&&__p();var e=function(d,e){d=e[1][0][0];if(d!==void 0){e=b("bs_string").trim(b("bs_js_primitive").valFromOption(d).getValue());d=e===a;d||c!==void 0&&b("bs_curry")._1(c,e)}return b("MessengerDialogs.bs").removeDialog(void 0,0)};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(c){var d=b("ReasonReact.bs").element(void 0,b("bs_curry")._1(c[0],j),b("MessengerTextWithEmojiInputReact.bs").make("_7rkc",void 0,void 0,void 0,h._("Tell your coworkers what this chat is for, note important links or list FAQs"),a,void 0,[]));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0]("_7rkd",void 0,void 0,void 0,void 0,void 0,500,void 0,[b("React").createElement(b("MessengerDialogHeaderReact.bs").make,{children:h._("Edit Description")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogBodyReact.bs").make("_7rke",[d])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer[0](void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton[0](void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](void 0,h._("Save"),void 0,void 0,b("bs_curry")._1(c[0],e),0,void 0,void 0,void 0,[]))]))]))},function(){return[[void 0]]},i[10],function(a,b){return 0},i[12]]}f.component=i;f.setDescriptionInputRef=j;f.make=a}),null);
__d("WorkChatTextWithEntitiesTruncated.bs",["ReasonReact.bs","bs_js_null_undefined","TextWithEntitiesTruncated.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("TextWithEntitiesTruncated.react"),{text:b("bs_js_null_undefined").fromOption(a),ranges:b("bs_js_null_undefined").fromOption(c),maxLines:b("bs_js_null_undefined").fromOption(d),truncationStyle:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs",["ix","cx","fbt","Keys","Image.bs","React","asset","ReasonReact.bs","getURLRanges","MessengerDialogs.bs","WorkChatTextWithEntitiesTruncated.bs","WorkChatEditGroupThreadDescriptionDialogReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.thread,d=a.actionsEnabled,e=a.onEdit;a=c.description;a=a==null?[]:b("getURLRanges")(a);var f=c.description,h=f==null?"":f,j=function(){return b("MessengerDialogs.bs").showDialog(function(){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatEditGroupThreadDescriptionDialogReact.bs").make(h,e,[]))})};f=function(a){a.preventDefault();return j(0)};var k=function(a){if(a.keyCode===b("Keys").RETURN){a.preventDefault();return j(0)}else return 0},l=c.description;l=l==null?d?[b("React").createElement("div",{className:"_7rkb",role:"button",tabIndex:0,onKeyDown:k,onClick:f},i._("Add a Description")),!1]:[i._("No description"),!0]:[b("ReasonReact.bs").element(void 0,void 0,b("WorkChatTextWithEntitiesTruncated.bs").make(l,a,4,"see-more-and-less",[])),!1];a=c.description;c=d&&!(a==null)?b("React").createElement("div",{className:"_7rev"},b("React").createElement("div",{className:"_7rew",role:"button",tabIndex:0,onKeyDown:k,onClick:f},b("React").createElement("div",{className:"_7rex"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("478817"),void 0,void 0,void 0,void 0,[]))),b("React").createElement("div",{className:"_7rey"},i._("Edit")))):null;return b("React").createElement("div",{className:"_7rez"},b("React").createElement("div",{className:"_7re-",role:"button",tabIndex:0},b("React").createElement("div",{className:"_7re_"+(l[1]?" _7rf0":"")},l[0])),c)}c=a;f.make=c}),null);
__d("WorkChatInfoPanelGroupThreadDescriptionContainerReact.bs",["cx","fbt","bs_curry","React","ReasonReact.bs","bs_js_primitive","MercuryThreadInfo","MessageRequestUtils","MercuryThreadActions","MessengerAdminGroupUtils","MessengerInfoPanelSectionReact.bs","MessagingThreadCustomizationSource","WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("WorkChatInfoPanelGroupThreadDescriptionContainerReact");function j(a,c,d,e,f){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(f){__p&&__p();if(!d.is_subscribed||b("MessageRequestUtils").isMessageRequest(d))return null;else{var g=b("MessengerAdminGroupUtils").canUpdateThreadDescription(d,e),i=function(c,a){if(b("MercuryThreadInfo").isEmptyLocalThread(d))return 0;else{b("MercuryThreadActions").getForFBID(e).changeGroupThreadDescription(d.thread_id,c,b("MessagingThreadCustomizationSource").SETTINGS);return 0}};g=b("React").createElement("div",{className:"_7rka"},b("React").createElement(b("WorkChatInfoPanelGroupThreadDescriptionSectionReact.bs").make,{thread:d,actionsEnabled:g,onEdit:b("bs_curry")._1(f[0],i)}));return b("ReasonReact.bs").element(void 0,void 0,b("MessengerInfoPanelSectionReact.bs").make(b("bs_js_primitive").nullable_to_opt(d.solid_color),!0,a,c,h._("Group Description"),[g]))}},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(a.isCollapsed,a.onToggle,a.thread,a.viewer,[])});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerGroupCreateDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{entryPoint:this.props.entryPoint,isShown:this.props.isShown,onClose:this.props.onClose}),loader:b("JSResource")("MessengerGroupCreateDialogImpl.react").__setRef("MessengerGroupCreateDialog.react"),placeholder:b("React").createElement("div",null)})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerGroupCreationEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_TAB:"chat_tab_add_people",JEWEL:"jewel_new_message",CHAT_SIDEBAR:"chat_sidebar_new_message",GCF_JEWEL:"jewel_new_group",GCF_CHAT_SIDEBAR:"chat_sidebar_new_group",GCF_SHARE_FLOW:"chat_share_message_to_messenger",CHAT_POLL:"chat_poll_button",WORK_CHAT_HEADER_NEW_GROUP_BUTTON:"work_chat_header_new_group_button"})}),null);
__d("WorkchatNotificationsJewelBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";function a(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),null),loader:b("JSResource")("workchatNotificationsJewelReactComponent").__setRef("WorkchatNotificationsJewelBootloader.react"),placeholder:b("React").createElement("div",null)})}e.exports=a}),null);
__d("WorkchatNotificationsJewelBootloaderReact.bs",["ReasonReact.bs","WorkchatNotificationsJewelBootloader.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReasonReact.bs").wrapJsForReason(b("WorkchatNotificationsJewelBootloader.react"),{},a)}f.make=a}),null);
__d("WorkplaceLogoReact.bs",["cx","fbt","React","LinkReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){var a=h._("Go to Workplace News Feed");return b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,a,"_2z9u",void 0,void 0,void 0,void 0,void 0,"/feed",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"_blank",a,[b("React").createElement("span",{className:"_2z9t"},a)]))}c=a;f.make=c}),null);
__d("WorkChatMasterViewHeaderReact.bs",["cx","fbt","bs_block","bs_curry","React","gkx","QE2Logger","ReasonReact.bs","MessagingTag","MercuryConfig","MessengerView","MessengerActions","WorkplaceLogoReact.bs","MessengerURIConstants","LinkWithHiddenURLBarReact.bs","MessengerSettingsMenuReact.bs","MessengerDeleteAllMenuReact.bs","MessengerGroupCreateDialogReact.bs","XWorkSaveGroupPurposeController","MessengerGroupCreationEntryPoint","WorkSyncedGroupCreationEntryPoint","WorkchatNotificationsJewelBootloaderReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){a.preventDefault();b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);b("MessengerActions").changeQuery(null);return 0}function a(a){a.preventDefault();b("MessengerActions").changeFolder(b("MessagingTag").PENDING);return 0}var j="_30yy _2oc8",k="_4kzu",l="_36ic _5l-3",m=b("MessengerGroupCreationEntryPoint").WORK_CHAT_HEADER_NEW_GROUP_BUTTON;function n(a){var c=a[1][0];if(c)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerGroupCreateDialogReact.bs").make(m,!0,function(){return b("bs_curry")._1(a[3],1)},[]));else return null}var o=b("ReasonReact.bs").reducerComponent("WorkChatMasterViewHeaderReact");function c(a,c,d,e,f,g){__p&&__p();var m=function(a){a.preventDefault();e!==b("MessengerView").MASTER.RECENT&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT);b("MessengerActions").changeFolder(b("MessagingTag").INBOX);return 0},p=function(){var a=h._("Back to Recent Messages");return b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(a,"_30yy _2oc9",void 0,void 0,void 0,void 0,void 0,void 0,m,void 0,void 0,void 0,"button",void 0,void 0,void 0,void 0,a,[]))},q;if(c===b("MessagingTag").ACTION_ARCHIVED){g=b("gkx")("762398");q=g?h._("Hidden Chats"):h._("Archived Threads")}else if(c===b("MessagingTag").PENDING)q=h._("Message Requests");else if(c===b("MessagingTag").OTHER){g=b("gkx")("762398");q=g?h._("Permanently Hidden"):h._("Filtered Messages")}else q=e===b("MessengerView").MASTER.PEOPLE?h._("People"):h._("Chat");var r=b("gkx")("678606");return[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],function(g){__p&&__p();var m=c!==b("MessagingTag").INBOX||e!==b("MessengerView").MASTER.RECENT?p(0):r?b("ReasonReact.bs").element(void 0,void 0,b("WorkchatNotificationsJewelBootloaderReact.bs").make([])):b("React").createElement("div",{className:k},b("React").createElement(b("MessengerSettingsMenuReact.bs").make,{filter:a,folder:c,view:e,viewer:f})),o=c!==b("MessagingTag").PENDING&&c!==b("MessagingTag").OTHER;b("QE2Logger").logExposureForUser("workchat_synced_groups_universe",f);var s=function(){if(b("MercuryConfig").WorkSyncedGroupEntryPointEnabled){var a=b("MercuryConfig").WorkSyncedGroupAutoCreateEnabled;a=a?[b("XWorkSaveGroupPurposeController").getURIBuilder().setString("purpose","work_teamwork").setString("ref",b("WorkSyncedGroupCreationEntryPoint").COMPOSE_BUTTON_ON_WORKCHAT).setBool("back_disallowed",!0).getURI(),function(){return 0},"dialog"]:["#",function(){return b("bs_curry")._1(g[3],0)},""];var c=h._("New Group");return b("React").createElement(b("React").Fragment,void 0,n(g),b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(c,"_30yy _6u29",void 0,void 0,void 0,void 0,a[0],void 0,a[1],void 0,void 0,void 0,void 0,a[2],void 0,void 0,void 0,c,[])))}else return null};if(o){var t=h._("New Message");t=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(t,j,void 0,void 0,void 0,void 0,b("MessengerURIConstants").COMPOSE_SUBPATH,void 0,i,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,t,[]))}else t=b("React").createElement("div",{className:k},b("React").createElement(b("MessengerDeleteAllMenuReact.bs").make,{filter:a,folder:c,threadlistOrderMap:d,viewer:f}));return b("React").createElement("div",{className:l,role:"banner"},r?b("React").createElement(b("WorkplaceLogoReact.bs").make,{}):null,m,b("React").createElement("h1",{className:"_1tqi"},q),o?s(0):null,t)},function(){return[!1]},o[10],function(c,a){if(c)return b("bs_block").__(0,[[!1]]);else return b("bs_block").__(0,[[!0]])},o[12]]}f.handleAddClick=i;f.handleFilteredRequestsBackArrowClick=a;f.composeButtonClasses=j;f.settingsMenuClasses=k;f.rootClasses=l;f.entryPoint=m;f.renderDialog=n;f.component=o;f.make=c}),null);
__d("WorkMultiCompanyChatBetaNotice.bs",["cx","fbt","React","gkx","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.isMultiCompany;var c=b("gkx")("678587"),d=b("CurrentUser").isWorkUser();if(c&&d&&a)return b("React").createElement("div",{className:"_3eus"},h._("You have early access to multi-company chat"));else return null}c=a;f.make=c}),null);
__d("MessengerPage",["EventEmitter","EventEmitterWithHolding","EventHolder","keyMirror","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";a={Events:b("keyMirror")({APP_MOUNTED:null,DATA_INITIALIZED:null,JS_LOADED:null}),addRetroactiveListener:function(a,b){return g.addRetroactiveListener(a,b)},emit:function(a){g.emitAndHold(a,b("performanceAbsoluteNow")())},removeCurrentListener:function(){g.removeCurrentListener()}};var g=new(b("EventEmitterWithHolding"))(new(b("EventEmitter"))(),new(b("EventHolder"))());e.exports=a}),null);
__d("MessengerPromotionDataStore",["FluxStore","MessengerPromotionDataDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerPromotionDataDispatcher"))||this;c.$MessengerPromotionDataStore1=null;return c}var d=c.prototype;d.getPromotionData=function(){return this.$MessengerPromotionDataStore1};d.__onDispatch=function(a){switch(a.type){case"SET_PROMOTION_DATA":this.$MessengerPromotionDataStore1!==a.promotionData&&(this.$MessengerPromotionDataStore1=a.promotionData,this.__emitChange());break}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("FourLetterMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";a=3;c="\\b[a-z][^\\s"+b("DocumentMentionsRegex").PUNCTUATION+"]";var g=new RegExp("(^|[^#])((?:"+c+"{"+a+",})$)");d={name:"FourLetterMentionsStrategy",findMentionableString:function(a){a=g.exec(a);return a!==null?{matchingString:a[2],leadOffset:a[2].length}:null}};e.exports=d}),null);
__d("MessengerEmojiUsageUtils",["MessengerSupportedEmojiUtils","Utf16"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=65039;a={findAllEmojis:function(a){__p&&__p();var c=[];a=b("MessengerSupportedEmojiUtils").parse(a);a.forEach(function(a){var d=[];a.emoji.forEach(function(a){a=b("Utf16").decode(a);a&&d.push(a)});d[d.length-1]===g&&d.pop();c.push(d)});return c}};e.exports=a}),null);
__d("ReasonBootloadOnInteraction.react",["React","ReasonBootloadOnRender.react"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hadUserInteraction:!1},c.$1=function(){c.setState({hadUserInteraction:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.state.hadUserInteraction)return b("React").cloneElement(this.props.placeholder,{onFocus:this.$1,onMouseOver:this.$1,onClick:this.$1});var a=this.props,c=a.loader,d=a.component;a=a.placeholder;return b("React").createElement(b("ReasonBootloadOnRender.react"),{placeholder:a,loader:c,component:d})};return c}(b("React").Component);e.exports=a}),null);
__d("MercurySendMessageHandler",["MercuryMessageActions","MercuryMessageObject","MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};function a(a){this.$1=a,this.$2=b("MercuryMessageActions").getForFBID(this.$1),this.$3=b("MercuryMessageObject").getForFBID(this.$1)}var c=a.prototype;c.sendPlainTextMessage=function(a,b,c){b=this.$3.constructUserGeneratedMessageObject(b,c,a);this.$2.send(b)};c.sendSticker=function(a,b,c){b=this.$3.constructStickerMessageObject(b,c,a);this.$2.send(b)};c.sendAttachment=function(a,b,c){c=this.$3.constructAttachmentMessageObject(c,a);this.$2.addAttachmentPlaceholder(c,b.upload_id,b)};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("makeMarketplaceFolderPayload",["ImmutableObject","MessagingTag","MessagingThreadType","makeMercuryThreadPayload"],(function(a,b,c,d,e,f){"use strict";function a(a){a===void 0&&(a={});return new(b("ImmutableObject"))(babelHelpers["extends"]({},b("makeMercuryThreadPayload")({folder:b("MessagingTag").INBOX,name:"Marketplace",thread_id:"marketplace",thread_type:b("MessagingThreadType").FOLDER}),a))}e.exports=a}),null);
__d("MercuryThreadlistContainer.react",["LogHistory","MercuryAPIArgsSource","MercuryFilters.bs","MercuryServerRequests","MercuryThreadlistConstants","MessagingTag","MessagingThreadType","MessengerConfig","MessengerEnvironment","MessengerState.bs","MessengerThread.bs","React","emptyFunction","gkx","immutable","makeMarketplaceFolderPayload","qex","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="search";a=3;var h=5e3,i=b("MercuryThreadlistConstants").JEWEL_THREAD_COUNT+a,j=b("LogHistory").getInstance("threadlist_container");function k(a,b,c){a=a[b];return a?a[c]:null}function l(a,b,c){a=k(a,b,c);return a?a.reachedEnd:!1}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isLoading:null,isSearching:!1,unreadMessageRequestThreads:[],threads:b("immutable").Map(),pinnedThreads:[]},d.$1=null,d.$5=function(){var a=function(){d.setState({suspended:!1}),d.handleThreadListUpdate()};b("gkx")("678640")&&(d.setState({suspended:!0}),b("setTimeout")(a,h))},d.$8=function(){!d.state.isSearching&&!d.state.isLoading&&!l(d.props.threadlistOrderMap,d.props.folder,d.props.filter)&&d.$13(d.props.folder,d.props.filter,b("MercuryThreadlistConstants").JEWEL_MORE_COUNT+1)},d.$10=function(a,c){d.setState({searchThreads:[]},function(){return d.$3(g,b("MercuryFilters.bs").all,a)})},d.$9=function(a){d.setState({isSearching:!!a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props.threadlistOrderMap,this.props.folder,this.props.filter),this.$3(this.props.folder,this.props.filter)};d.UNSAFE_componentWillReceiveProps=function(a){(a.folder!==this.props.folder||a.filter!==this.props.filter)&&this.$2(a.threadlistOrderMap,a.folder,a.filter);var b=this.state.isLoading;if(b&&a.folder===b.folder&&a.filter===b.filter){var c=k(a.threadlistOrderMap,a.folder,a.filter);(c&&c.threadlist.length>=b.limit||l(a.threadlistOrderMap,a.folder,a.filter))&&this.setState({isLoading:null})}this.$3(a.folder,a.filter)};d.componentWillUnmount=function(){this.$4()};d.handleThreadListUpdate=function(){this.$3(this.props.folder,this.props.filter)};d.$6=function(){var a=this,c=k(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread);return!c?[]:c.threadlist.map(function(b){return a.props.threads[b]})};d.$7=function(a,c){__p&&__p();var d=this;if(this.state.isSearching)return this.state.threads.get(g)||[];if(a==="inbox"&&this.props.threadlistOrderMap.marketplace_folder&&this.props.threadlistOrderMap.marketplace_folder.all.threadlist.length>0&&b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom){var e=this.state.threads.get(a)?[].concat(this.state.threads.get(a)).filter(function(a){return a.thread_type!==b("MessagingThreadType").MARKETPLACE}):[],f=this.props.threadlistOrderMap.marketplace_folder.all.threadlist.reduce(function(a,c){return a+b("MessengerState.bs").getThreadMetaNow(d.props.viewer,c).unread_count},0);if(c==="unread"&&f===0)return e;c=b("MessengerState.bs").getThreadMetaNow(this.props.viewer,this.props.threadlistOrderMap.marketplace_folder.all.threadlist[0]);e.push(b("makeMarketplaceFolderPayload")({timestamp:c.timestamp,unread_count:f,snippet:c.snippet,snippet_sender:c.snippet_sender,participants:c.participants}));e.sort(function(a,b){return b.timestamp-a.timestamp});return e}else if(a==="marketplace_folder"&&this.props.threadlistOrderMap.marketplace_folder&&this.props.threadlistOrderMap.marketplace_folder.groups.threadlist.length>0&&b("qex")._("998180")&&b("MessengerEnvironment").messengerdotcom)return this.props.threadlistOrderMap.marketplace_folder.groups.threadlist.map(function(a){return b("MessengerState.bs").getThreadMetaNow(d.props.viewer,a)}).filter(function(a){return a.message_count>0});return this.state.threads.get(a)||[]};d.render=function(){var a=this.props,c=a.ChildClass,d=a.folder,e=a.filter,f=a.threadlistOrderMap;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass","folder","filter","threadlistOrderMap"]);var g=this.$7(d,e);return b("React").createElement(c,babelHelpers["extends"]({},a,{filter:e,folder:d,isLoaded:l(f,d,e),isLoading:!!this.state.isLoading,isSearching:this.state.isSearching,maxHeight:this.props.maxHeight,newMessageRequestThreads:this.$6(),pendingFolderUnseenCount:this.props.pendingFolderUnseenCount,threads:g,pinnedThreads:this.state.pinnedThreads,onLoadMoreRequest:this.$8,onQuery:this.$9,onSearchResults:this.$10,maxInitialThreadCount:i,handleChatTabOpen:this.props.source==="jewel"&&b("gkx")("678640")?this.$5:b("emptyFunction")}))};d.$2=function(a,c,d){var e=this;c===b("MessagingTag").INBOX&&this.props.source!==b("MercuryAPIArgsSource").JEWEL&&this.$11();!this.$12(c,d,a)?this.$13(c,d,i):this.state.isLoading?this.setState({isLoading:null},function(){e.$3(c,d)}):this.$3(c,d)};d.$11=function(){if(l(this.props.threadlistOrderMap,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread))return;b("MercuryServerRequests").getForFBID(this.props.viewer).fetchThreadlistInfo(0,b("MercuryThreadlistConstants").MAX_UNREAD_COUNT,b("MessagingTag").PENDING,b("MercuryFilters.bs").unread,this.props.source,null)};d.$14=function(a,b){var c=k(this.props.threadlistOrderMap,a,b);c=c?c.threadlist:[];c=c&&c.length>0?c[c.length-1]:null;if(!c)return null;c=this.props.threads[c];var d=c?c.timestamp:null;a==="inbox"&&b==="all"&&j.debug("load threads after timestamp "+(d?d:"null"),c?c.thread_id:null);return d};d.$13=function(a,c,d){var e=this;a===b("MessagingTag").MARKETPLACE_FOLDER&&(a=b("MessagingTag").INBOX);var f=function(){b("MercuryServerRequests").getForFBID(e.props.viewer).fetchThreadlistInfo(b("MercuryThreadlistConstants").RECENT_THREAD_OFFSET,d,a,c===b("MercuryFilters.bs").all?null:c,e.props.source,e.$14(a,c))};this.setState({isLoading:{folder:a,filter:c,limit:d}},f)};d.$3=function(a,c,d){__p&&__p();var e=this;this.$4();c=k(this.props.threadlistOrderMap,a,c);var f=d||(c?c.threadlist:[]);d=[].concat.apply([],f);this.$1=b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,d,function(b){e.setState(function(c){var d=c.threads.set(a,e.$15(f,b));return babelHelpers["extends"]({},c,{threads:d})})});this.$16()};d.$16=function(){var a=this,c=b("MessengerState.bs").getPinnedThreadlist(this.props.viewer);b("MessengerConfig").MPT>0&&c.reverse();b("MessengerState.bs").getMultiThreadMeta(this.props.viewer,c,function(b){a.setState({pinnedThreads:a.$15(c,b)})})};d.$15=function(a,b){return a.map(function(a){if(Array.isArray(a))return a.map(function(a){return b[a]});else return b[a]})};d.$12=function(a,b,c){var d=i,e=k(c,a,b);return!!(e&&(e.threadlist.length>=d||l(c,a,b)))};d.$4=function(){this.$1&&b("MessengerState.bs").unsubscribeThread(this.props.viewer,this.$1)};return c}(b("React").Component);c.defaultProps={source:b("MercuryAPIArgsSource").JEWEL};e.exports=c}),null);
__d("createMentionsSearchSourceFromParticipants",["fbt","ix","AtSignAllowEmptyMentionsStrategy","CapitalizedNameMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","FilteredSearchSource","FourLetterMentionsStrategy","LogHistory","SearchableEntry","StaticSearchSource","filterCapitalizedNames","gkx","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LogHistory").getInstance("messenger_mentions"),j=h("91674").uri,k=171602870233241;function a(a,c,d,e,f){__p&&__p();if(!a||!c)return null;var g=null,h=[],j=c.length>2;!j&&f?g=[o()]:(j||b("gkx")("1101638"))&&(g=c.reduce(function(c,e){if(!e||e.fbid===a)return c;var f=d&&d.custom_nickname&&d.custom_nickname[e.fbid]?d.custom_nickname[e.fbid]:"";c.push(new(b("SearchableEntry"))({uniqueID:e.fbid,type:"user",title:"@"+e.name,subtitle:f,photo:e.image_src,keywordString:f,auxiliaryData:{workForeignEntityInfo:e.work_foreign_entity_info}}));return c},[]),h=[].concat(g),f&&g.push(o()),j&&e&&d&&d.thread_fbid&&(g.push(m(d.thread_fbid)),g.push(n(d.thread_fbid))));if(g===null)return null;f=new(b("StaticSearchSource"))(g);j=new(b("StaticSearchSource"))(h);b("gkx")("846032")&&(j=new(b("FilteredSearchSource"))(l("@"),j));i.debug("constructed_search_source",JSON.stringify({participants:c.map(function(a){return a&&a.fbid})}));return new(b("DocumentCompositeMentionsSource"))([new(b("DocumentMentionsSource"))(b("AtSignAllowEmptyMentionsStrategy"),f),new(b("DocumentMentionsSource"))(b("CapitalizedNameMentionsStrategy"),j),new(b("DocumentMentionsSource"))(b("FourLetterMentionsStrategy"),j)])}function l(a){return function(c,d){return b("filterCapitalizedNames")(c,d,a)}}function m(a){var c=g._("everyone").toString(),d=g._("Mention everyone in this chat").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a),subtitle:d})}function n(a){var c=g._("here").toString(),d=g._("Mention everyone in this chat who is active").toString();return new(b("SearchableEntry"))({photo:j,title:"@"+c,uniqueID:b("nullthrows")(a)+"-active",subtitle:d})}function o(){var a=g._("M").toString(),c=g._("Messenger Assistant").toString();return new(b("SearchableEntry"))({photo:h("581082").uri,title:"@"+a,uniqueID:k,subtitle:c})}e.exports=a}),null);
__d("createMessengerMentionTypeaheadDraftEntity",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.createEntity("ASSISTANT_TYPEAHEAD","SEGMENTED",{mid:b.getUniqueID()})}e.exports=a}),null);
__d("MercuryCanonicalGroupThreadActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({THREAD_SEARCH_UPDATED:null})}),null);
__d("MercuryCanonicalGroupThreadStore",["FluxStore","MercuryCanonicalGroupThreadActionTypes","MercuryCanonicalGroupThreadManager","MessengerDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerDispatcher"))||this;c.$MercuryCanonicalGroupThreadStore1=b("MercuryCanonicalGroupThreadManager").get();return c}var d=c.prototype;d.__onDispatch=function(a){a=a.type;switch(a){case b("MercuryCanonicalGroupThreadActionTypes").THREAD_SEARCH_UPDATED:this.__emitChange();break;default:break}};d.getOrFetch=function(a){var c=this.$MercuryCanonicalGroupThreadStore1.getNow(a);c||this.$MercuryCanonicalGroupThreadStore1.getCanonicalGroupThreadIDForParticipants(a,function(){b("MessengerDispatcher").dispatch({type:b("MercuryCanonicalGroupThreadActionTypes").THREAD_SEARCH_UPDATED})});return c};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MercuryReadOnlyReason",["fbt","Link.react","MercuryConfig","React","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getReason:function(a){__p&&__p();a===void 0&&(a=!1);if(a){a=b("MercuryConfig").DYIDeepLink;return g._("Sorry, this conversation isn't active anymore because messages can no longer be sent to email addresses. After May 1st 2016, conversations with email addresses will only be available in a copy of your Facebook data. {download your information}",[g._param("download your information",b("React").createElement("a",{href:a},g._("Learn More")))])}else if(b("MercuryConfig").ViewerIsReadOnly)return g._("You're temporarily blocked from sending messages. {learn more about blocks}",[g._param("learn more about blocks",b("React").createElement(b("Link.react"),{href:new(b("URI"))("https://www.facebook.com/help/181183045316843"),target:"_blank"},"Learn more"))]);else if(b("MercuryConfig").ColdOpenBlock)return g._("You're temporarily blocked from starting new conversations. {learn more about blocks}",[g._param("learn more about blocks",b("React").createElement(b("Link.react"),{href:new(b("URI"))("https://www.facebook.com/help/181183045316843"),target:"_blank"},"Learn more"))]);else return g._("You cannot reply to this conversation.")}};e.exports=a}),null);
__d("MNCommercePromotionManageBlockDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("MNCommercePromotionManageBlockDialogContainer.react").__setRef("MNCommercePromotionManageBlockDialogBootloader.react"),placeholder:b("React").createElement("div",null)})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MNBotsLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BOT_COMPOSER_MENU_ICON_DISPLAYED:"bot_composer_menu_icon_displayed",BOT_COMPOSER_MENU_ICON_TAPPED:"bot_composer_menu_icon_tapped",BOT_COMPOSER_MENU_ITEM_DID_SELECT:"bot_composer_menu_item_did_select",BOT_COMPOSER_QUICK_REPLY_DISPLAYED:"bot_composer_quick_reply_displayed",BOT_COMPOSER_QUICK_REPLY_TAPPED:"bot_composer_quick_reply_tapped"})}),null);
__d("MessengerBotMenuButton.react",["AutoFocusableLink.react","BootloadOnRender.react","ChatFlyoutPlaceholder.react","JSResource","LazyComponent.react","MessengerBotMenuDataFetcher","MessengerBotsWebTypedLogger","MessengerContextualDialog.react","MessengerEnvironment","MNBotsLoggerEvents","React","XUIContextualDialog.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g=302,h=280;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={flyoutOpen:!!c.props.clicked,isLoading:!1,menuItems:null},c.$3=function(){c.setState({flyoutOpen:!1})},c.$7=function(){c.state.flyoutOpen&&c.$3()},c.$5=function(){c.$1=c.state.flyoutOpen},c.$4=function(a){a.stopPropagation();if(c.state.flyoutOpen||c.$1)return;c.state.menuItems===null&&(c.setState({isLoading:!0}),c.$2());c.setState({flyoutOpen:!c.state.flyoutOpen})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.state.flyoutOpen&&this.state.menuItems===null&&(this.setState({isLoading:!0}),this.$2())};d.componentDidMount=function(){new(b("MessengerBotsWebTypedLogger"))().setEvent(b("MNBotsLoggerEvents").BOT_COMPOSER_MENU_ICON_DISPLAYED).setPageID(this.props.pageID).log()};d.componentWillUnmount=function(){this.state.flyoutOpen&&this.$3()};d.render=function(){return b("React").createElement("span",null,b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:this.props.className,href:"#",onClick:this.$4,onMouseDown:this.$5,role:"button",ref:"link"}),this.$6())};d.$6=function(){var a=this;if(!this.state.flyoutOpen)return null;var c=b("MessengerEnvironment").messengerui,d=c?g:h;c=c?b("MessengerContextualDialog.react"):b("XUIContextualDialog.react");return b("React").createElement(c,babelHelpers["extends"]({alignment:this.props.flyoutAlignment,width:d,position:"above",contextRef:function(){return a.refs.link},onBeforeHide:this.$7,onBlur:this.$3,shown:this.state.flyoutOpen},this.props,{key:"contextualDialog"}),b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{onEscKeyDown:this.$3,shown:this.state.flyoutOpen,isLoading:this.state.isLoading,menuItems:this.state.menuItems,pageID:this.props.pageID,threadID:this.props.threadID,onClick:this.$3}),loader:b("JSResource")("MessengerBotMenuDialog.react").__setRef("MessengerBotMenuButton.react"),placeholder:b("React").createElement(b("ChatFlyoutPlaceholder.react"),null)}))};d.$2=function(){var a=this;b("MessengerBotMenuDataFetcher").getMenuItems(this.props.pageID,function(b){a.setState({menuItems:b,isLoading:!1})},function(){a.setState({menuItems:[],isLoading:!1})})};return c}(b("React").Component);c.propTypes={autoFocus:a.bool,className:a.string,clicked:a.bool,flyoutAlignment:a.string.isRequired,threadID:a.string.isRequired,pageID:a.string.isRequired};e.exports=c}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1570574486349284"};b.getQueryID=function(){return"389945858066688"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("MNPlatformClickSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"UNKNOWN",ATTACHMENT_ATTRIBUTION_ICON:"ATTACHMENT_ATTRIBUTION_ICON",GAMES_SCREENSHOT_ATTACHMENT:'GAMES_SCREENSHOT_ATTACHMENT"',GAMES_SEARCH:"GAMES_SEARCH",GAMES_SHARE_ATTACHMENT:"GAMES_SHARE_ATTACHMENT",GIF_ATTRIBUTION:"GIF_ATTRIBUTION",LANDING_PAGE_GETTING_STARTED:"LANDING_PAGE_GETTING_STARTED",M_SUGGESTION:"M_SUGGESTION",MORE_DRAWER_CHAT_EXTENSION:"MORE_DRAWER_CHAT_EXTENSION",MORE_DRAWER_CHAT_EXTENSION_SEEMORE:"MORE_DRAWER_CHAT_EXTENSION_SEEMORE",MORE_DRAWER_PAGES_CHAT_EXTENSION:"MORE_DRAWER_PAGES_CHAT_EXTENSION",MUSIC_ATTACHMENT:"MUSIC_ATTACHMENT",PLATFORM_GENERIC_ATTACHMENT:"PLATFORM_GENERIC_ATTACHMENT",PLATFORM_MEDIA_ATTACHMENT:"PLATFORM_MEDIA_ATTACHMENT",PLATFORM_MENU:"PLATFORM_MENU",QUICK_REPLY:"QUICK_REPLY",THREAD_SETTING:"THREAD_SETTING",THREAD_VIEW_MESSAGE:"THREAD_VIEW_MESSAGE",UNSUPPORTED_OR_NOT_RECOGNIZED:"UNSUPPORTED_OR_NOT_RECOGNIZED"})}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation","MessengerPlatformClientTypedLogger","MNPlatformClickSource","PopupWindow","XMNCommerceCTAPostProcessController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.process=function(a,c){c===void 0&&(c=null);var d=b("PopupWindow").open("",500,1024);a=b("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",c).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return d.location=a.payload}).send()};c.postHandle=function(a,c){a=b("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation").getURI({cta_id:a,message_id:c});new(b("AsyncRequest"))().setURI(a).send()};c.logCTAClick=function(a){var c,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:b("MNPlatformClickSource").UNKNOWN;e={action_id:(c=a)!=null?c.id:c,action_title:((c=a)!=null?c.action_title:c)||((c=a)!=null?c.title:c)||((c=a)!=null?c.translated_title:c),action_type:(c=a)!=null?c.action_type:c,action_url:((c=a)!=null?c.action_url:c)||((c=a)!=null?c.action_link:c),click_source:e,page_id:(c=a)!=null?c.page_id:c};new(b("MessengerPlatformClientTypedLogger"))().setClientUserID(b("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();e.exports=new a()}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:!0},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1},should_ignore:{type:"Bool",defaultValue:!1}})}),null);
__d("MNCommercePostbackCTADataManager",["AsyncRequest","BanzaiODS","CurrentUser","getPageIDFromThreadID","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MNPlatformTagsDataManager","XMNCommercePostbackCTAController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MercuryMessageActions").get();a=function(){__p&&__p();function a(){}var c=a.prototype;c.send=function(a,c,d,e,f){c===void 0&&(c=null);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","postback_send_clicked");a=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a).setString("ref",d).setString("message_id",e).setEnum("ref_source",f).getURI();!c?new(b("AsyncRequest"))().setURI(a).setMethod("POST").send():new(b("AsyncRequest"))().setURI(a).setMethod("POST").setErrorHandler(c).send()};c.sendAndConfirm=function(a,c,d,e,f,g,h,i,j,k){f===void 0;g===void 0&&(g=null);h===void 0&&(h=[]);i===void 0&&(i=null);j===void 0&&(j=null);k===void 0&&(k=b("MercurySourceType").TITAN_WEB);f={cta_id:a,prev_message_id:i,ref:g,force_handle:!0,postback_cta_ref_source:j?j.toString():null};this.sendConfirmationText(c,d,e,h,f,k)};c.sendConfirmationText=function(a,c,d,e,f,h){e===void 0&&(e=[]);if(!c)b("BanzaiODS").bumpEntityKey(2966,"messenger_commerce","confirm_message_failed.empty_threadID");else{var i=new(b("MercuryMessageObject"))(b("CurrentUser").getID()),j=b("getPageIDFromThreadID")(c);b("MNPlatformTagsDataManager").hasThreadTags(j)&&e.concat(b("MNPlatformTagsDataManager").getThreadTags());g.send(i.constructCTAConfirmationMessageObject(a,h,c,d,e,f));e&&e.length>0&&b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread()}};return a}();e.exports=new a()}),null);
__d("XMNCommercePostbackRefSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback_ref/",{page_id:{type:"String",required:!0},ref:{type:"String",required:!0},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("MNCommercePostbackRefSendManager",["AsyncRequest","MessengerActions","MessengerMDotMeReferralStore","XMNCommercePostbackRefSendController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.sendMDotMeRef=function(a,c){var d=this.getMdotMeRef();if(this.shouldSendRef(c,a)){c=b("XMNCommercePostbackRefSendController").getURIBuilder().setString("page_id",a).setString("ref",d).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").send();b("MessengerActions").changeMDotMeReferral()}};c.shouldSendRef=function(a,b){return!b||!a?!1:this.hasMDotMeRef(b)};c.hasMDotMeRef=function(a){var c=b("MessengerMDotMeReferralStore").getState();return!!(c.refCode&&a&&c.refThreadID&&c.refThreadID===a)};c.getMdotMeRef=function(){var a=b("MessengerMDotMeReferralStore").getState();return a.refCode};return a}();e.exports=new a()}),null);
__d("WorkNuxID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DO_NOT_DISTURB_PROMOTION_NUX_ID:6237,WORK_CHAT_DOWNLOAD_UPSELL_BANNER:5468})}),null);
__d("WorkOnboardingLogAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_THREAD_CREATED_WITH_INVITER:"CHAT_THREAD_CREATED_WITH_INVITER",CLICKED_HOWTO_GUIDE:"CLICKED_HOWTO_GUIDE",CREATE_SECRET_GROUP:"CREATE_SECRET_GROUP",CREATE_SECRET_GROUP_FAILED:"CREATE_SECRET_GROUP_FAILED",LANDED_IN_GROUP_START_AFTER_SIGNUP:"LANDED_IN_GROUP_START_AFTER_SIGNUP",NEW_USER_CREATED:"NEW_USER_CREATED",SHOWN_HOWTO_RHC:"SHOWN_HOWTO_RHC",SURVEY_COMPLETED:"SURVEY_COMPLETED",SURVEY_SHOWN:"SURVEY_SHOWN",SURVEY_SKIPPED:"SURVEY_SKIPPED",SURVEY_JOB_TITLE_COMPLETED:"SURVEY_JOB_TITLE_COMPLETED",SURVEY_COMPANY_SIZE_COMPLETED:"SURVEY_COMPANY_SIZE_COMPLETED",SURVEY_ROLLOUT_COMPLETED:"SURVEY_ROLLOUT_COMPLETED",GROUP_BOT_RESPONSE:"GROUP_BOT_RESPONSE",ADD_FEEDBACK_TO_GROUP_NUX_DISSMISSED:"ADD_FEEDBACK_TO_GROUP_NUX_DISSMISSED",ADD_FEEDBACK_TO_GROUP_NUX_SHOWN:"ADD_FEEDBACK_TO_GROUP_NUX_SHOWN",ADD_NEW_MEMBER_NUX_SHOWN:"ADD_NEW_MEMBER_NUX_SHOWN",ADD_NEW_MEMBER_NUX_DISMISSED:"ADD_NEW_MEMBER_NUX_DISMISSED",CREATE_GROUP_NUX_SHOWN:"CREATE_GROUP_NUX_SHOWN",CREATE_GROUP_NUX_DISMISSED:"CREATE_GROUP_NUX_DISMISSED",DEMO_GROUP_NUX_SHOWN:"DEMO_GROUP_NUX_SHOWN",DEMO_GROUP_NUX_DISMISSED:"DEMO_GROUP_NUX_DISMISSED",GROUP_EMPTY_POST_NUX_SHOWN:"GROUP_EMPTY_POST_NUX_SHOWN",GROUP_EMPTY_POST_NUX_DISMISSED:"GROUP_EMPTY_POST_NUX_DISMISSED",LANDING_NUX_SHOWN:"LANDING_NUX_SHOWN",LANDING_NUX_DISSMISSED:"LANDING_NUX_DISSMISSED",POST_TO_GROUP_NUX_DISSMISSED:"POST_TO_GROUP_NUX_DISSMISSED",POST_TO_GROUP_NUX_SHOWN:"POST_TO_GROUP_NUX_SHOWN",GROUP_MODAL_NUX_SHOWN:"GROUP_MODAL_NUX_SHOWN",GROUP_MODAL_NUX_DISMISSED:"GROUP_MODAL_NUX_DISMISSED",CHAT_APP_UPSELL_BANNER_SHOWN:"CHAT_APP_UPSELL_BANNER_SHOWN",CHAT_APP_UPSELL_BANNER_BUTTON_CLICKED:"CHAT_APP_UPSELL_BANNER_BUTTON_CLICKED",CHAT_APP_UPSELL_BANNER_DISMISSED:"CHAT_APP_UPSELL_BANNER_DISMISSED",INSTANCE_ACTIVE_CONDITION_CHECK:"INSTANCE_ACTIVE_CONDITION_CHECK",GROUP_EMPTY_UI_SHOWN:"GROUP_EMPTY_UI_SHOWN",GROUP_EMPTY_POST_CLICKED:"GROUP_EMPTY_POST_CLICKED",NEWSFEED_EMPTY_UI_SHOWN:"NEWSFEED_EMPTY_UI_SHOWN",NEWSFEED_EMPTY_UI_CLICKED:"NEWSFEED_EMPTY_UI_CLICKED",ADD_MEMBER_TO_NEW_GROUP_BUTTON_SHOWN:"ADD_MEMBER_TO_NEW_GROUP_BUTTON_SHOWN",ADD_NEW_MEMBER_TO_SMALL_GROUP_CLICKED:"ADD_MEMBER_TO_NEW_GROUP_CLICKED",GROUP_START_CREATE_GROUP_CLICKED:"GROUP_START_CREATE_GROUP_CLICKED",GROUP_START_FIX_GROUP_SUGGESTIONS:"GROUP_START_FIX_GROUP_SUGGESTIONS",GROUP_START_GROUP_CLICKED:"GROUP_START_GROUP_CLICKED",GROUP_START_JOIN_GROUP_CLICKED:"GROUP_START_JOIN_GROUP_CLICKED",GROUP_START_NAVIGATED_TO:"GROUP_START_NAVIGATED_TO",GROUP_START_SUGGESTED_GROUP_CLICKED:"GROUP_START_SUGGESTED_GROUP_CLICKED",GROUP_START_WATERMARK_SHOWN:"GROUP_START_WATERMARK_SHOWN",GROUP_DASH_NAVIGATED_TO:"GROUP_DASH_NAVIGATED_TO"})}),null);
__d("WorkplaceChatUpsellBanner.react",["ix","cx","fbt","Promise","BasicFBNux","Bootloader","Event","Image.react","Link.react","React","SubscriptionsHandler","UserAgent","WorkNuxID","WorkOnboardingLogAction","XUIButton.react","XWorkplaceDesktopDownloadController","asset","cxMargin","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="https://play.google.com/store/apps/details?id=com.facebook.workchat",k="https://itunes.apple.com/app/work-chat/id958124798";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.state={xOutAppUpsell:!1};c.$2=new(b("SubscriptionsHandler"))();return c}var d=c.prototype;d.componentDidMount=function(){this.$3()};d.componentWillUnmount=function(){this.$2.release()};d.render=function(){return b("React").createElement("div",{className:"_3ej0"+(this.state.xOutAppUpsell?" _3ej2":"")},i._("Get the app and chat anywhere, anytime"),this.$4(),this.$5())};d.$4=function(){var a=null;b("UserAgent").isPlatform("Mac OS X")?a=b("XWorkplaceDesktopDownloadController").getURIBuilder().setString("file","mac").setString("ref","chat_upsell").getURI():b("UserAgent").isPlatform("Windows")&&(a=b("XWorkplaceDesktopDownloadController").getURIBuilder().setString("file","win").setString("ref","chat_upsell").getURI());return b("React").createElement("div",{className:"_3-9a"},a?this.$6(a.toString(),i._("Desktop App")):null,this.$6(k,i._("iOS")),this.$6(j,i._("Android")))};d.$6=function(a,c){var d=this;return b("React").createElement(b("XUIButton.react"),{target:"_blank",className:"_3ej4",label:c,href:a,onClick:function(){return d.$7(c)}})};d.$5=function(){var a=this;return b("React").createElement(b("Link.react"),{className:"_7fxb",onClick:function(){return a.$8()}},b("React").createElement(b("Image.react"),{alt:"X",src:g("480720")}))};d.$8=function(){this.$9(),this.setState({xOutAppUpsell:!0}),window.setTimeout(function(){return b("Event").fire(window,"resize")},300)};d.$7=function(a){b("promiseDone")(this.$10(),function(c){c=c.logger;c.clear();c.setAction(b("WorkOnboardingLogAction").CHAT_APP_UPSELL_BANNER_BUTTON_CLICKED).addToExtraData("button",a.toString()).log()})};d.$9=function(){b("promiseDone")(this.$10(),function(a){a=a.logger;a.clear();a.setAction(b("WorkOnboardingLogAction").CHAT_APP_UPSELL_BANNER_DISMISSED).log()})};d.$3=function(){b("BasicFBNux").onView(b("WorkNuxID").WORK_CHAT_DOWNLOAD_UPSELL_BANNER),b("promiseDone")(this.$10(),function(a){a=a.logger;a.clear();a.setAction(b("WorkOnboardingLogAction").CHAT_APP_UPSELL_BANNER_SHOWN).log()})};d.$10=function(){var a=this;this.$1||(this.$1=new(b("Promise"))(function(c,d){a.$2.addSubscriptions(b("Bootloader").loadModules(["WorkOnboardingTypedLogger"],function(a,b){b=new a();c({logger:b})},"WorkplaceChatUpsellBanner.react"))}));return this.$1};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerComposerInputStore",["FluxStore","MessengerUserInputAppDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("MessengerUserInputAppDispatcher"))||this;c.$MessengerComposerInputStore1={isUserInputRequested:!1,requestNumResults:g,requestType:null};return c}var d=c.prototype;d.getState=function(){return this.$MessengerComposerInputStore1};d.__onDispatch=function(a){var b=a.type;a=a.data;switch(b){case"UPDATE_USER_INPUT_REQUESTED":this.$MessengerComposerInputStore1={isUserInputRequested:a.isUserInputRequested,requestNumResults:a.requestNumResults,requestType:a.requestType};this.__emitChange();break}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("WorkGalahadChatSendButton.react",["cssVar","cx","fbt","Link.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){var c=a.customColor,d=a.onClick;a=a.className;c=c!==null?c:"#373e4c";return b("React").createElement(b("Link.react"),{href:"#",role:"button",onClick:d,className:b("joinClasses")(a,"_7dch")},b("React").createElement("span",{className:"accessible_elem"},i._("Send")),b("React").createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",version:"1.1"},b("React").createElement("g",{id:"workplace-chat-send",stroke:"none",strokeWidth:"1",fill:c,fillRule:"evenodd"},b("React").createElement("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",id:"Path",fill:c}))))}e.exports=a}),null);
__d("P2PPaymentPickerDialog.react",["cx","fbt","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerGraphQLTokenizer.react","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogHeaderReact.re").make,j=b("MessengerDialogTitleReact.re").make;a=b("React").PropTypes;var k=460,l=b("immutable").Set();c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={entries:b("immutable").Set()},d.$1=function(){var a=d.state.entries;d.props.handleContinue(a)},d.$2=function(){var a=d.state.entries;d.props.handleCancel(a)},d.handleAddEntryAttempt=function(a){d.props.multiSelect?d.setState({entries:d.state.entries.add(a)}):d.setState({entries:b("immutable").Set.of(a)})},d.handleRemoveEntryAttempt=function(a){d.setState({entries:d.state.entries["delete"](a)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.renderHeader=function(){return b("React").createElement(i,null,b("React").createElement(b("MessengerDialogCancelButton.react"),null),b("React").createElement(j,null,h._("Send Money")),b("React").createElement(b("MessengerDialogButton.react"),{disabled:!this.state.entries.size,label:h._("Continue"),type:"primary",onClick:this.$1}))};d.renderTokenizer=function(){return b("React").createElement(b("MessengerGraphQLTokenizer.react"),{autoFocus:!0,canViewerSendMoneyFilter:!0,className:"_2wsl",context:null,enableMessageSearch:!1,entries:this.state.entries.toList(),excludeGroups:!0,excludePages:!0,forceHideClearButton:!0,hasHoverState:!1,originalEntryIDs:l,placeholder:h._("Type the name of a person"),scrollableViewClassName:"_2wsm",shouldQueryInternalBot:!1,shouldQueryVCEndpoint:!1,useLayer:!1,viewer:this.props.viewer,width:k,onAddEntryAttempt:this.handleAddEntryAttempt,onClear:null,onRemoveEntryAttempt:this.handleRemoveEntryAttempt})};d.render=function(){return b("React").createElement(b("MessengerDialog.react"),{className:"_2wsn",type:"default",width:k,onToggle:this.$2},this.renderHeader(),this.renderTokenizer())};return c}(b("React").Component);c.propTypes={viewer:a.string.isRequired,handleContinue:a.func.isRequired,handleCancel:a.func.isRequired,multiSelect:a.bool.isRequired};e.exports=c}),null);
__d("MessengerP2PDialogContainer.react",["Bootloader","MercuryIDs","MessengerActions","MessengerURIStore","MessengerView","P2PActions","P2PDialogContainer.react","P2PPaymentPickerDialog.react","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this,c=b("MessengerURIStore").getState();c.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER&&this.$1();var d=c.extraQueryParams;d&&d.id&&b("Bootloader").loadModules(["P2PSendMoneyDialogStore"],function(){a.$2(d)},"MessengerP2PDialogContainer.react")};d.componentDidUpdate=function(){var a=b("MessengerURIStore").getState();a.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER&&this.$1();a=b("MessengerURIStore").getState().extraQueryParams;a&&a.id&&this.$2(a)};d.$1=function(){var a=function(a){b("P2PActions").hideDialog();a=a.first().getUniqueID();b("MessengerActions").changeID(a)},c=function(a){b("P2PActions").hideDialog(),b("MessengerActions").selectThread(null)};b("P2PActions").showDialog(b("P2PPaymentPickerDialog.react"),{viewer:this.props.viewer,handleContinue:a,handleCancel:c,multiSelect:!1})};d.$2=function(a){var c=b("MercuryIDs").getThreadIDFromUserID(a.id);b("P2PActions").chatSendViewOpened({referrer:"chat",threadID:c,amount:a.a,memoText:a.m})};d.render=function(){return b("React").createElement(b("P2PDialogContainer.react"),null)};return c}(b("React").Component);c.propTypes={viewer:a.string.isRequired};e.exports=c}),null);
__d("QuickPromotionActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",CLOSE:"close",CUSTOM_URL:"custom",DIALOG_URL:"dialog_url",INSTALL_APP:"install_app",FACEWEB_URL:"faceweb_url",ITEMS_LIST:"items_list"})}),null);
__d("bs_marshal",["bs_caml_string","bs_caml_missing_polyfill","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){if(c<0||d<0||c>(a.length-d|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Marshal.to_buffer: substring out of bounds"];else return b("bs_caml_missing_polyfill").not_implemented("caml_output_value_to_buffer")}function g(a,c){if(c<0||c>(a.length-20|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Marshal.data_size"];else return b("bs_caml_missing_polyfill").not_implemented("caml_marshal_data_size")}function c(a,b){return 20+g(a,b)|0}function h(a,c){if(c<0||c>(a.length-20|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Marshal.from_bytes"];else{var d=b("bs_caml_missing_polyfill").not_implemented("caml_marshal_data_size");if(c>(a.length-(20+d|0)|0))throw[b("bs_caml_builtin_exceptions").invalid_argument,"Marshal.from_bytes"];else return b("bs_caml_missing_polyfill").not_implemented("caml_input_value_from_string")}}function d(a,c){return h(b("bs_caml_string").bytes_of_string(a),c)}function e(a,c,d){return b("bs_caml_missing_polyfill").not_implemented("caml_output_value")}function i(){return b("bs_caml_missing_polyfill").not_implemented("caml_input_value")}var j=20;f.to_channel=e;f.to_buffer=a;f.from_channel=i;f.from_bytes=h;f.from_string=d;f.header_size=j;f.data_size=g;f.total_size=c}),null);
__d("bs_obj",["bs_marshal","bs_caml_array","bs_caml_missing_polyfill","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("bs_caml_array").caml_array_get,h=b("bs_caml_array").caml_array_set;function a(){return b("bs_caml_missing_polyfill").not_implemented("caml_output_value_to_string")}function c(a,c){return[b("bs_marshal").from_bytes(a,c),c+b("bs_marshal").total_size(a,c)|0]}function i(a){a=a.length!==void 0&&(a.tag|0)!==248&&a.length>=1?a[0]:a;var c;if(a.length!==void 0&&a.tag===248)c=a[0];else throw b("bs_caml_builtin_exceptions").not_found;if(c.tag===252)return a;else throw b("bs_caml_builtin_exceptions").not_found}function d(a){try{a=i(a);return a[0]}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Obj.extension_name"];else throw a}}function e(a){try{a=i(a);return a[1]}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Obj.extension_id"];else throw a}}function j(a){try{return i(a)}catch(a){if(a===b("bs_caml_builtin_exceptions").not_found)throw[b("bs_caml_builtin_exceptions").invalid_argument,"Obj.extension_slot"];else throw a}}var k=0,l=245,m=246,n=247,o=248,p=249,q=250,r=251,s=251,t=252,u=253,v=254,w=255,x=255,y=1e3,z=1001,A=1002;f.double_field=g;f.set_double_field=h;f.first_non_constant_constructor_tag=k;f.last_non_constant_constructor_tag=l;f.lazy_tag=m;f.closure_tag=n;f.object_tag=o;f.infix_tag=p;f.forward_tag=q;f.no_scan_tag=r;f.abstract_tag=s;f.string_tag=t;f.double_tag=u;f.double_array_tag=v;f.custom_tag=w;f.final_tag=x;f.int_tag=y;f.out_of_heap_tag=z;f.unaligned_tag=A;f.extension_name=d;f.extension_id=e;f.extension_slot=j;f.marshal=a;f.unmarshal=c}),null);
__d("bs_camlinternalLazy",["bs_obj","bs_curry","bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("bs_caml_exceptions").create("CamlinternalLazy.Undefined");function h(){throw g}function i(a){__p&&__p();var c=a[0];a[0]=h;try{c=b("bs_curry")._1(c,0);a[0]=c;a.tag=b("bs_obj").forward_tag;return c}catch(b){a[0]=function(){throw b};throw b}}function j(a){var c=a[0];a[0]=h;c=b("bs_curry")._1(c,0);a[0]=c;a.tag=b("bs_obj").forward_tag;return c}function a(a){var c=a.tag|0;if(c===b("bs_obj").forward_tag)return a[0];else if(c!==b("bs_obj").lazy_tag)return a;else return i(a)}function c(a){var c=a.tag|0;if(c===b("bs_obj").forward_tag)return a[0];else if(c!==b("bs_obj").lazy_tag)return a;else return j(a)}f.Undefined=g;f.force_lazy_block=i;f.force_val_lazy_block=j;f.force=a;f.force_val=c}),null);
__d("MessengerGroupPersonalApprovalRequestsToRespondResponseMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1574519202665847"};b.getQueryID=function(){return"337579896759283"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("MessengerThreadSharedFilesWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2150199688342867"};b.getQueryID=function(){return"1887039681373281"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedLinksWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2289069757800221"};b.getQueryID=function(){return"498775913895223"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMNCommercePageNullStateCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/page/nullstate/",{})}),null);