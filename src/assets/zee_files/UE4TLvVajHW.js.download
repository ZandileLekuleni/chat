if (self.CavalryLogger) { CavalryLogger.start_js(["rImz3"]); }

__d("WorkSignupProfileHelper",["DeferredCookie","Event"],(function(a,b,c,d,e,f){a={flushCookiesOnClick:function(a){b("Event").listen(a,"click",function(a){b("DeferredCookie").flushAllCookies()})}};e.exports=a}),null);
__d("VisualCompletionInst",["csx","getElementRect","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/url\(.*(http.*)\)/gi,i=1,j=0;a=function(){__p&&__p();function a(a){this.$5=new Map(),this.$3=new Map(),this.$1=[],this.$2=[],this.$8=0,this.$12=a}var c=a.prototype;c.calculate=function(a,c,d){__p&&__p();var e=this;if(!this.$12.size)return null;j++;var f=b("performanceAbsoluteNow")();this.$4=a;this.$8=0;this.$10=0;this.$11=0;this.setResourceTimingMap();this.setViewportSize();this.initTree();this.getImages();b("gkx")("676838")&&this.getBackgroundImages();this.$9=this.traverseTree(this.$1,this.$6.width*this.$6.height);var g={viewport:this.$6,totalPixels:this.$9,paintedPixels:this.$10,bgNum:0,imgNum:0,compNum:0,bgPixels:0,imgPixels:0,compPixels:0,elements:this.$2,calcLatency:0,bgChecked:this.$8,bgCheckLatency:this.$11,speedIndex:0,startTime:a,visuallyComplete:0,scrollY:window.scrollY,navSequence:j,pageType:c,page:d};this.$2.length&&(this.$2=this.$2.sort(function(a,b){return b.latency-a.latency}),g.visuallyComplete=this.$2[0].latency,this.$2.forEach(function(a){__p&&__p();g.speedIndex+=a.pixels/e.$10*a.latency;switch(a.type){case"component":g.compNum++;g.compPixels+=a.pixels;break;case"img":g.imgNum++;g.imgPixels+=a.pixels;break;case"bg":g.bgNum++;g.bgPixels+=a.pixels;break}}));g.calcLatency=b("performanceAbsoluteNow")()-f;return g};c.findParent=function(a){a=a.parentElement;while(a){var b=a.getAttribute("data-veid");if(b!=null&&b!==""&&this.$3.has(b))return this.$3.get(b);a=a.parentElement}return null};c.getBackgroundImages=function(){__p&&__p();var a=this,c=b("performanceAbsoluteNow")();this.$1.forEach(function(b){__p&&__p();b=b.element.querySelectorAll(":not(img)");Array.prototype.forEach.call(b,function(b){__p&&__p();var c=a.findParent(b);if(!c)return;var d=a.getRectangle(b,c.rectangle),e=a.getPixels(d);if(!e)return;var f=a.trimHash(a.getStyleBackground(b));if(f!=null&&f!==""&&a.$5.has(f)){b={veid:String(i++),element:b,rectangle:d,pixels:e,children:[],parent:c,type:"bg",latency:a.$5.get(f)+performance.timing.navigationStart-a.$4,timestamp:a.$5.get(f)+performance.timing.navigationStart,url:f};c.children.push(b)}})});this.$11=b("performanceAbsoluteNow")()-c};c.getImages=function(){__p&&__p();var a=this,b=document.querySelectorAll("img");Array.prototype.forEach.call(b,function(b){__p&&__p();var c=a.findParent(b);if(!c)return;var d=a.getRectangle(b,c.rectangle);if(b.parentElement){var e=a.getRectangle(b.parentElement,c.rectangle);d=a.getRectIntersection(d,e)}e=a.getPixels(d);if(!e)return;var f=a.trimHash(b.getAttribute("src"));if(f!=null&&f!==""&&a.$5.has(f)){b={veid:String(i++),element:b,rectangle:d,pixels:e,children:[],parent:c,type:"img",latency:a.$5.get(f)+performance.timing.navigationStart-a.$4,timestamp:a.$5.get(f)+performance.timing.navigationStart,url:f};c.children.push(b)}})};c.getPixels=function(a){return(a.right-a.left)*(a.bottom-a.top)};c.getRectangle=function(a,c){a=b("getElementRect")(a);return this.getRectIntersection(a,c)};c.getRectIntersection=function(a,b){return{top:Math.min(Math.max(a.top,b.top),b.bottom),bottom:Math.max(Math.min(a.bottom,b.bottom),b.top),left:Math.min(Math.max(a.left,b.left),b.right),right:Math.max(Math.min(a.right,b.right),b.left)}};c.getStyleBackground=function(a){__p&&__p();if(typeof window.getComputedStyle!=="function")return null;this.$8++;a=window.getComputedStyle(a);var b=a["background-image"];if(a.visibility!=="hidden"&&b&&b!=="none"){h.lastIndex=0;a=h.exec(b);if(a&&a.length>1)return a[1].replace('"',"")}return null};c.initTree=function(){__p&&__p();var a=this,b={top:0,left:0,bottom:this.$6.height,right:this.$6.width};this.$12.forEach(function(c){var d=c[0],e=c[1];c=c[2];var f=a.getRectangle(e,b);if(a.getPixels(f)===0)e.removeAttribute("data-veid"),a.$12["delete"](d);else{e={veid:d,element:e,rectangle:f,pixels:a.getPixels(f),children:[],parent:null,type:"component",latency:c-a.$4,timestamp:c};a.$3.set(d,e)}});this.$3.forEach(function(b){var c=a.findParent(b.element);c?(b.rectangle=a.getRectIntersection(b.rectangle,c.rectangle),b.pixels=a.getPixels(b.rectangle),c.children.push(b),b.parent=c):(a.$1.forEach(function(c){c=a.getRectIntersection(b.rectangle,c.rectangle);a.getPixels(c)>0&&(b.rectangle.top=c.bottom,b.pixels=a.getPixels(b.rectangle))}),a.$1.push(b))})};c.setResourceTimingMap=function(){var a=this;if(window.performance&&typeof window.performance.getEntriesByType==="function"){var b=window.performance.getEntriesByType("resource");b.forEach(function(b){var c=a.trimHash(b.name);c!=null&&c!==""&&a.$5.set(c,b.responseEnd)})}};c.setViewportSize=function(){this.$6={width:window.innerWidth,height:window.innerHeight}};c.traverseTree=function(a,b){var c=this,d=b,e=0;a.sort(function(a,b){return b.timestamp-a.timestamp}).forEach(function(a){a.pixels=Math.min(d,a.pixels),e+=a.pixels,d-=a.pixels,a.pixels-=c.traverseTree(a.children,a.pixels),a.timestamp>c.$4&&(a.type!=="component"&&a.parent&&a.parent.timestamp>a.timestamp&&(a.latency=a.parent.latency),c.$10+=a.pixels,c.$2.push(a))});return e};c.trimHash=function(a){return a!=null&&a!==""&&a.indexOf("#")>=0?a.substring(0,a.indexOf("#")):a};return a}();e.exports=a}),null);
__d("VisualCompletionQPL",["CometVisualCompletionQuickLogModule","QuickPerformanceLogger","VisibilityListener","performance","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={log:function(a,c){__p&&__p();var d=b("VisibilityListener").getHiddenTime(a.startTime,a.startTime+a.visuallyComplete);d=d!=null&&d>0?1:0;b("QuickPerformanceLogger").markerStartFromNavStart(b("CometVisualCompletionQuickLogModule").BLUE_VISUALLY_COMPLETE_WWW);var e=a.navSequence===1&&b("performance")&&b("performance").timing&&b("performance").timing.responseStart;e&&b("QuickPerformanceLogger").markerPoint(b("CometVisualCompletionQuickLogModule").BLUE_VISUALLY_COMPLETE_WWW,"TTFB",null,0,e);if(a.elements.length){e=a.elements[a.elements.length-1].timestamp;b("QuickPerformanceLogger").markerPoint(b("CometVisualCompletionQuickLogModule").BLUE_VISUALLY_COMPLETE_WWW,"FP",null,0,e)}c.set("height",a.viewport.height);c.set("width",a.viewport.width);c.set("page",a.page);c.set("scrollY",a.scrollY);c.set("overhead",a.calcLatency);c.set("navSequence",a.navSequence);c.set("hidden",d);c.forEach(function(a,c){typeof a==="number"?b("QuickPerformanceLogger").annotateMarkerInt(b("CometVisualCompletionQuickLogModule").BLUE_VISUALLY_COMPLETE_WWW,c,a,0):b("QuickPerformanceLogger").annotateMarkerString(b("CometVisualCompletionQuickLogModule").BLUE_VISUALLY_COMPLETE_WWW,c,a,0)});b("QuickPerformanceLogger").markerEnd(b("CometVisualCompletionQuickLogModule").BLUE_VISUALLY_COMPLETE_WWW,"SUCCESS",0,a.visuallyComplete+b("performanceNavigationStart")());b("QuickPerformanceLogger").markerStartFromNavStart(b("CometVisualCompletionQuickLogModule").BLUE_SPEED_INDEX_WWW);c.forEach(function(a,c){typeof a==="number"?b("QuickPerformanceLogger").annotateMarkerInt(b("CometVisualCompletionQuickLogModule").BLUE_SPEED_INDEX_WWW,c,a,0):b("QuickPerformanceLogger").annotateMarkerString(b("CometVisualCompletionQuickLogModule").BLUE_SPEED_INDEX_WWW,c,a,0)});b("QuickPerformanceLogger").markerEnd(b("CometVisualCompletionQuickLogModule").BLUE_SPEED_INDEX_WWW,"SUCCESS",0,a.speedIndex+b("performanceNavigationStart")())}};e.exports=a}),null);
__d("VisualCompletion",["csx","NavigationMetrics","VisualCompletionInst","VisualCompletionQPL"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map(),i=!1,j,k=[],l=new Set(),m=new Map(),n=1;function o(a,b){if(!a)return;var c="vc_"+n++,d=a.getAttribute("data-veid");d!=null&&d!==""&&m["delete"](d);a.setAttribute("data-veid",c);m.set(c,[c,a,b])}function p(){k.forEach(function(a){a(j)}),j&&b("VisualCompletionQPL").log(j,h)}var q={addElements:function(a,b,c){__p&&__p();i||q.init();b&&b.forEach(function(a){o(a,c)});if(a==="first_response"){if(l.has(a))return;b=document.getElementById("pagelet_bluebar");if(b!=null){b=b.querySelector("._2s1y");b&&o(b,c)}l.add(a)}else if(a==="pagelet_sidebar"){if(l.has(a))return;b=document.getElementById("pagelet_sidebar");if(b!=null){b=b.querySelector("._51x_");b&&o(b,c)}l.add(a)}},getReport:function(){return j},init:function(){b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.NAVIGATION_DONE,function(a,c){if(c.pageType!=="normal"&&c.pageType!=="quickling")return;a=new(b("VisualCompletionInst"))(m);j=a.calculate(c.start,c.pageType,c.page);p()}),i=!0},subscribe:function(a){k.push(a)},unsubscribe:function(a){k=k.filter(function(b){return b!==a})}};e.exports=q}),null);