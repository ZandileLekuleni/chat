if (self.CavalryLogger) { CavalryLogger.start_js(["AhiKe"]); }

__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("LatchBoundary.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.shouldRender;this.$1=this.$1||a;return this.$1?b("React").Children.only(this.props.children):null};return c}(b("React").Component);e.exports=a}),null);
__d("AdsTargetingTogglerSafeMixin",[],(function(a,b,c,d,e,f){"use strict";a={setStateSafe:function(a,b){setTimeout(function(){this.setState(a,b)}.bind(this),0)}};e.exports=a}),null);
__d("FBRTCAvailability",["ChannelConstants","PresenceStatus"],(function(a,b,c,d,e,f){"use strict";a={isCallable:function(a){a=b("PresenceStatus").getCapabilities(a);var c=b("ChannelConstants").CAPABILITY_VOIP_INTEROP;return!!(a&c)}};e.exports=a}),null);
__d("FBRTCCallUIWrapper",["regeneratorRuntime","Bootloader","UserAgent","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h={openGroupCallUI:function(a,c,d,e,f,h,i){return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:g=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallUI(a,c,d,e,f,h,g,i)},"FBRTCCallUIWrapper");case 2:case"end":return j.stop()}},null,this)},openGroupCallURI:function(a,c,d,e,f,h,i,j,k){return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:g=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallURI({conferenceName:a,callID:c,hasVideo:d,initializeVideo:e,serverInfoData:i,trigger:j,callSummary:k,callWindow:g,multiwayWwwTier:h,multiwayCoreTier:f})},"FBRTCCallUIWrapper");case 2:case"end":return l.stop()}},null,this)},openAsCaller:function(a,c,d,e){!g&&window.rtcCallChildWindow&&(g=window.rtcCallChildWindow,window.rtcCallChildWindow=null);if(this._shouldFocusCallWindow(a)){g&&g.focus();return}this._shouldCloseCallWindow()&&(g&&g.close());g=this._openWindow("Video Call",{isP2P:!0});b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCaller(a,c,d,e,g)},"FBRTCCallUIWrapper")},openAsCallee:function(a,c,d,e,f){g=this._openWindow("Video Call",{isP2P:!0}),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCallee(a,c,d,e,g,f)},"FBRTCCallUIWrapper")},_shouldFocusCallWindow:function(a){return!!g&&!g.closed&&g.rtcCallInProgessWith===a},_shouldCloseCallWindow:function(){return!!g&&!g.closed&&!g.rtcCallInProgessWith},_openWindow:function(a,c){__p&&__p();c=c===void 0?{isP2P:!1}:c;c=c.isP2P;c=c===void 0?!1:c;c=this._windowPosition({isP2P:c});c=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no",c.height,c.width,c.top,c.left].join(",");this._isSparkBrowser()&&(c="");b("gkx")("859726")&&b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_www_new_tab"})},"FBRTCCallUIWrapper");a=b("gkx")("859726")?window.open("","_blank"):window.open("",a,c);window.callWindow=a;return a},_windowDimension:function(a){a=a.isP2P;var b=960,c=540;screen&&screen.width>1280&&(!a?(b=1100,c=772):(b=1280,c=720));return{height:c,width:b}},_windowPosition:function(a){__p&&__p();a=a.isP2P;a=a===void 0?!1:a;var b,c,d,e;a=h._windowDimension({isP2P:a});var f=a.height;a=a.width;window.innerWidth!==void 0?(c=window.innerWidth,b=window.innerHeight):(c=screen.width,b=screen.height);window.screenLeft!==void 0?(d=window.screenLeft,e=window.screenTop):(d=window.screenX,e=window.screenY);c=Math.floor(c/2-a/2+d);d=Math.floor(b/2-f/2+e);return{height:"height="+f.toString(),width:"width="+a.toString(),top:"top="+d.toString(),left:"left="+c.toString()}},_isSparkBrowser:function(){return b("UserAgent").isBrowser("Chrome < 34")&&b("UserAgent").isBrowser("Chrome > 33")}};e.exports=h}),null);
__d("RTWebLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO_CALL:"audio_button",VIDEO_CALL:"video_button",START_CALL:"start_call_button",END_CALL:"end_call_button",JOIN_CALL:"join_call_button",CANCEL:"cancel_button",CALL_BACK:"call_back",CALL_AGAIN:"call_again",CHAT_PANEL_MESSAGE:"chat_panel_message",REDIAL:"redial",SCREENSHARING:"screensharing",SCREENSHARING_POP_OUT:"screensharing_pop_out_button",TOGGLE_VIDEO:"toggle_video",TOGGLE_AUDIO:"toggle_audio",TOGGLE_CHAT:"toggle_chat",CLOSE_CHAT:"close_chat",TOGGLE_FILTERS:"toggle_filters",SCROLL_FILTERS:"scroll_filters",VIDEO_FILTER_OPTION:"video_filter_option",ADD_PARTICIPANT:"add_participant",FULLSCREEN:"fullscreen",FULLSCREEN_ENABLE:"fullscreen_enable",FULLSCREEN_DISABLE:"fullscreen_disable",CLOSE_WINDOW:"close_window",ACCEPT:"accept_button",DECLINE:"decline_button",NOT_NOW:"rating_not_now",SELF_VIEW:"self_view",SELF_VIEW_MINIMIZE:"self_view_minimize",SELF_VIEW_UNMINIMIZE:"self_view_unminimize",PARTICIPANT_ROW_SELECT:"participant_row_select",PARTICIPANT_ROW_UNSELECT:"participant_row_unselect",STAR_RATING:"star_rating",SUBMIT_FEEDBACK:"submit_feedback",SETTINGS:"settings",CLOSE_DIALOG:"close_dialog",INCOMING_RING_TONE:"incoming_ring_tone",FREE_CALL:"free_call",VIDEO_ESCALATE:"video_escalate",VIDEO_ESCALATE_ACCEPT:"video_escalate_accept",VIDEO_ESCALATE_DECLINE:"video_escalate_decline",RECENT_CALLS:"recent_calls",MESSAGE:"message",SAVE:"save_button",WINDOW_RESIZE:"window_resize",POOR_NETWORK_TOOLTIP:"poor_network_tooltip",VIDEO_LAYOUT_SWITCH:"video_layout_switch",MWEB_ROSTER_ROW:"mweb_roster_row"})}),null);
__d("RTWebLoggingSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_CONTROLS:"call_controls",CHAT_PANEL:"chat_panel",CHAT_TAB:"chat_tab",MESSENGER_HEADER:"messenger_header",INCOMING_DIALOG:"incoming_call_dialog",CALL_HEADER:"call_header",GROUP_CALL_ADD_MEMBERS_DIALOG:"group_call_add_members_dialog",GROUP_CALL_PARTICIPANT_PICKER_DIALOG:"group_call_participant_picker_dialog",CALL_CONTAINER:"call_container",TIMELINE_TOP_SECTION:"timeline_top_section",DROPDOWN_CALL_MENU:"dropdown_call_menu",THREAD_LIST:"thread_list",DESKTOP_NOTIFICATION:"desktop_notification",AUDIO_FALLBACK_DIALOG:"audio_fallback_dialog",STAR_RATING_SURFACE:"star_rating_surface",MISSED_CALL_DIALOG:"missed_call_dialog",UNSUPPORTED_BROWSER_DIALOG:"unsupported_browser_dialog",ADMIN_MESSAGE:"admin_message",WORK_HOVERCARD:"work_hovercard",MESSENGER_BUBBLE:"messenger_bubble",CHAT_SIDEBAR:"chat_sidebar",SETTING_DIALOG:"setting_dialog",SCREENSHARING_POP_OUT:"screensharing_pop_out",MWEB_ROSTER_VIEW:"mweb_roster_view"})}),null);
__d("RTWebCallTriggerMapping",["RTWebLoggingComponent","RTWebLoggingSurface","deepFreezeValue"],(function(a,b,c,d,e,f){"use strict";a={chat_sidebar:{surface:b("RTWebLoggingSurface").CHAT_SIDEBAR,component:b("RTWebLoggingComponent").RECENT_CALLS},chattab_audio_button:{surface:b("RTWebLoggingSurface").CHAT_TAB,component:b("RTWebLoggingComponent").AUDIO_CALL},chattab_video_button:{surface:b("RTWebLoggingSurface").CHAT_TAB,component:b("RTWebLoggingComponent").VIDEO_CALL},messenger_bubble_free_call:{surface:b("RTWebLoggingSurface").MESSENGER_BUBBLE,component:b("RTWebLoggingComponent").FREE_CALL},messenger_dot_com_missed_call_dialog:{surface:b("RTWebLoggingSurface").MISSED_CALL_DIALOG,component:b("RTWebLoggingComponent").START_CALL},messenger_dot_com_video_call:{surface:b("RTWebLoggingSurface").MESSENGER_HEADER,component:b("RTWebLoggingComponent").VIDEO_CALL},messenger_dot_com_audio_call:{surface:b("RTWebLoggingSurface").MESSENGER_HEADER,component:b("RTWebLoggingComponent").AUDIO_CALL},timeline:{surface:b("RTWebLoggingSurface").DROPDOWN_CALL_MENU,component:b("RTWebLoggingComponent").START_CALL},messenger_dot_com_work_hovercard:{surface:b("RTWebLoggingSurface").WORK_HOVERCARD,component:b("RTWebLoggingComponent").START_CALL},admin_message:{surface:b("RTWebLoggingSurface").ADMIN_MESSAGE,component:b("RTWebLoggingComponent").START_CALL},return_call:{surface:b("RTWebLoggingSurface").MISSED_CALL_DIALOG,component:b("RTWebLoggingComponent").START_CALL},popup_start_call_button:{surface:b("RTWebLoggingSurface").CALL_CONTAINER,component:b("RTWebLoggingComponent").START_CALL},redial_button:{surface:b("RTWebLoggingSurface").CALL_CONTAINER,component:b("RTWebLoggingComponent").REDIAL}};b("deepFreezeValue")(a);e.exports=a}),null);
__d("RTWebLoggingCallType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({P2P:"p2p",MW:"mw",ESCALATED:"escalated"})}),null);
__d("RTCWebUserActionsDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setCodebaseVersion=function(a){this.$1.codebase_version=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,codebase_version:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTCWebUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setCodebaseVersion=function(a){this.$1.codebase_version=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,codebase_version:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTWebLoggingEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAP:"tap",IMPRESSION:"impression",ERROR:"error",RING_TONE_PLAYED:"ring_tone_played",CHECKPOINT:"checkpoint"})}),null);
__d("RTWebLoggingMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO:"video",AUDIO:"audio",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingPage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FACEBOOK:"facebook",MOBILE_WEB:"mweb",WORKPLACE:"workplace"})}),null);
__d("RTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RTCWebUserActionsDebugTypedLogger","RTCWebUserActionsTypedLogger","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingEvent","RTWebLoggingMediaType","RTWebLoggingPage","RTWebLoggingSharedInstance","immutable","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;a=function(){__p&&__p();function a(){this.$2=g(),this.$3=new Set(),this.$4=new Set(),this.$5=b("RTWebLoggingSharedInstance").getInstance().getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").IMPRESSION},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").TAP},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").ERROR},a))};c.startTimer=function(a){var c=b("performanceNow")();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").CHECKPOINT},a))};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a){__p&&__p();var b=this.$1;b.callID=this.$10(a.callID)?b.callID:a.callID;b.callType=a.callType||b.callType;b.conferenceState=a.conferenceState||b.conferenceState;b.conferenceName=this.$10(a.conferenceName)?b.conferenceName:a.conferenceName;b.isCaller=a.isCaller==null?b.isCaller:a.isCaller;b.mediaType=a.mediaType||b.mediaType;this.$11(a,b);b=this.$12(a,b);this.$8(a.eventName,b)};c.$12=function(a,c){var d=new(b("RTCWebUserActionsTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Old Codebase").log();return d.getData()};c.$11=function(a,c){var d=new(b("RTCWebUserActionsDebugTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Old Codebase").log();return d.getData()};c.getCallType=function(a,c){c===void 0&&(c=!1);if(a===null||a===void 0)return null;if(a)return b("RTWebLoggingCallType").MW;else if(c)return b("RTWebLoggingCallType").ESCALATED;else return b("RTWebLoggingCallType").P2P};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?b("RTWebLoggingComponent").AUDIO_CALL:b("RTWebLoggingComponent").VIDEO_CALL};c.getMediaType=function(a,c){c===void 0&&(c=!1);if(c)return b("RTWebLoggingMediaType").ESCALATED;else if(a)return b("RTWebLoggingMediaType").AUDIO;else return b("RTWebLoggingMediaType").VIDEO};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){__p&&__p();if(b("FBRTCSupport").isMobileDevice())return b("RTWebLoggingPage").MOBILE_WEB;else if(b("CurrentUser").isWorkUser())return b("RTWebLoggingPage").WORKPLACE;var a=window.location.hostname;if(a.search("facebook")!==-1)return b("RTWebLoggingPage").FACEBOOK;else if(a.search("messenger")!==-1)return b("RTWebLoggingPage").MESSENGER_DOT_COM;return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt(b("performanceNow")()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();e.exports=new a()}),null);
__d("generateRTCCallID",["randomInt"],(function(a,b,c,d,e,f){"use strict";function a(){return b("randomInt")(0,4294967294)+1}e.exports=a}),null);
__d("FBRTCCore",["invariant","Bootloader","FBLogger","FBRTCAvailability","FBRTCCallUIWrapper","FBRTCSupport","RTWebCallTriggerMapping","RTWebLoggingCallType","RTWebUserActionLogger","generateRTCCallID","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!1;a={startOutgoingCall:function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);/\D/.test(a)&&g(0,2478);var f=b("generateRTCCallID")(),i=b("RTWebCallTriggerMapping")[c];(i===null||i===void 0)&&b("FBLogger")("rtweb").mustfix("Unexpected or unknown call trigger: %s",c);b("RTWebUserActionLogger").logPreCallClick(babelHelpers["extends"]({},i,{callID:f.toString(),mediaType:b("RTWebUserActionLogger").getMediaType(d),callType:b("RTWebLoggingCallType").P2P}));if(h)return;h=!0;b("setTimeout")(function(){h=!1},1e3);e&&!b("FBRTCSupport").isCollabSupported()?b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(b,c){b.showForUnsupportedCollabCall(),c.logBrowserNotSupported({peerID:a})},"FBRTCCore"):!b("FBRTCSupport").isWebrtcSupported()?b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage"],function(a){a.showForOutgoingCall(),b("RTWebUserActionLogger").logError({callID:f.toString(),callType:b("RTWebLoggingCallType").P2P,mediaType:b("RTWebUserActionLogger").getMediaType(d),errorDomain:"unsupported browser"})},"FBRTCCore"):b("FBRTCCallUIWrapper").openAsCaller(a,f,c,d)},startGroupCall:function(a){__p&&__p();var c=a.conferenceName,d=a.hasVideo,e=a.serverInfoData,f=a.trigger;a=a.usersToRing;a=a===void 0?[]:a;if(h)return;h=!0;b("setTimeout")(function(){h=!1},1e3);if(!b("FBRTCSupport").isGroupCallWebtrcSupported()){b("Bootloader").loadModules(["MessengerRTCUnsupportedBrowserDialogController"],function(a){b("RTWebUserActionLogger").logError({callType:b("RTWebLoggingCallType").MW,conferenceName:c,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"}),a.render({hasVideo:d,isGroupCall:!0})},"FBRTCCore");return}b("FBRTCCallUIWrapper").openGroupCallUI(c,b("generateRTCCallID")(),a,d,d,f,e)},isAvailableForWebrtcCalling:function(a){return b("FBRTCAvailability").isCallable(a)}};e.exports=a}),null);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={busy:g._("Busy"),callAgain:g._("Call Again"),callEnded:g._("Call Ended"),callFailed:g._("Call Failed"),callInterrupted:g._("Call Interrupted"),cannotConnect:g._("Can't Connect Call"),chatLinksLeftVideoChat:g._("You left the group video chat"),clientEncryptionError:g._("Client Encryption Error"),close:g._("Close"),connected:g._("Connected"),connecting:g._("Connecting..."),connectionDropped:g._("Connection Dropped"),connectionLost:g._("Connection Lost"),contacting:g._("Contacting..."),copiedVideoChatLink:g._("Copied"),copyVideoChatLink:g._("Copy Video Chat Link"),disconnected:g._("Disconnected"),dismiss:g._("Dismiss"),hangingUp:g._("Hanging up..."),inactive:g._("Call is Inactive"),inAnotherCall:g._("In Another Call"),incomingVideoChat:g._("Incoming video chat"),invalidStreamConfiguration:g._("Too many clients connected to the room"),noAnswer:g._("No Answer"),notNow:g._("Not Now"),participantLimitReached:g._("Participant Limit Reached"),pleaseWait:g._("Please wait..."),profilePictureAlt:g._("Profile Picture"),reconnecting:g._("Reconnecting..."),redial:g._("Redial"),ringing:g._("Ringing..."),switchToWiFi:g._("Switch to Wi-Fi to complete your call"),unreachable:g._("Unreachable"),userVideoOff:function(a){return g._("{name}'s camera is off",[g._param("name",a)])},viewerVideoOff:g._("Your camera is off"),waitingForOthers:g._("Waiting for others to join...")};e.exports=a}),null);
__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({FBID:"UNDEFINED",isGuestUser:!1,isMessengerUser:!1,isPartiesUser:!1,lastConnectedAt:0,participantState:null,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:b("immutable").Set(),streams:b("immutable").Set(),userName:"",userShortName:"",vanity:""});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("RTCUser",["FBRTCConstants","FBRTCParticipantCallState","RTCUserRecord","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").MediaContentTypes;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.clone=function(){return new c(this.toObject())};d.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==b("FBRTCParticipantCallState").CONNECTED)&&a.state===b("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};d.getParticipantState=function(){return this.participantState&&this.participantState.state};d.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};d.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};d.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};d.isAudioMuted=function(){var a=this;return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(b){return a.areAllTracksMuted(b)})};d.isVideoMuted=function(){var a=this;return!this.hasVideo()?!0:this.streams.every(function(b){return a.areAllTracksMuted(b.getVideoTracks())})};d.areAllTracksMuted=function(a){return!a.some(function(a){return a.enabled})};d.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};d.toggleMuteAudio=function(a){var b=this;this.getAllStreamAudioTracks().forEach(function(a){return b.$RTCUser1(a)});return this.clone()};d.toggleMuteVideo=function(a){var b=this;this.streams.forEach(function(c){b.$RTCUser1(c.getVideoTracks(),a)});return this.clone()};d.stopVideo=function(){var a=this;this.streams.forEach(function(b){b.getVideoTracks().forEach(function(c){a.$RTCUser1(b.getVideoTracks(),!0),c.readyState!=="ended"&&(c.onended&&c.onended(),c.stop())})});return this.clone()};d.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};d.hasStream=function(){return!this.streams.isEmpty()};d.addStream=function(a){return this.set("streams",this.streams.add(b("nullthrows")(a)))};d.removeStream=function(a){return this.set("streams",this.streams["delete"](a))};d.getStream=function(){return this.hasStream()?this.streams.first():null};d.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};d.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};d.removeAllStreams=function(){return this.set("streams",b("immutable").Set())};d.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};d.hasScreenStream=function(){return!this.screenStreams.isEmpty()};d.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};d.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};d.removeAllScreenStreams=function(){return this.set("screenStreams",b("immutable").Set())};d.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};d.setRoomLocation=function(a){return this.set("roomLocation",a)};d.getRoomLocation=function(){return this.roomLocation};d.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksMuted(a);a.forEach(function(a){return a.enabled=c})};d.getMediaTypeForTracks=function(){var a=new Map(),b=this.getScreenStream();b&&b.getVideoTracks().forEach(function(b){return a.set(b.id,g.SCREEN)});return a};return c}(b("RTCUserRecord"));e.exports=a}),null);
__d("RTCCallTitle.react",["MercuryIDs","MercuryParticipantListRenderer","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.displayViewerName,d=a.viewer,e=a.participants;a=a.className;var f=b("MercuryIDs").getParticipantIDFromUserID(d);d=Object.keys(e.toJS());d.length>1&&(d=d.filter(function(a){return a!==f||c}));d=d.map(function(a){return e.get(a)});d=new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(d);return b("React").createElement("span",{className:a},d)};e.exports=a}),null);
__d("PagesAutomationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesAutomationLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesAutomationLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesAutomationLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={event:!0,page_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerPopoverMenu.react",["cx","ContextualDialogArrow","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","PopoverMenu.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.showPopover=function(){this.refs.menu&&this.refs.menu.showPopover()};d.render=function(){var a=this.props,c=a.children,d=a.className,e=a.isOpen;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","isOpen"]);c=b("React").Children.only(c);return b("React").createElement(b("PopoverMenu.react"),babelHelpers["extends"]({className:b("joinClasses")(d,!a.disableArrowKeyActivation||e?"_150g":""),enableActivationOnEnter:!0,layerBehaviors:[b("ContextualLayerAutoFlip"),b("ContextualLayerUpdateOnScroll"),b("ContextualDialogArrow")]},a,{ref:"menu"}),c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","RTWebStrings","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactImageReact.bs").jsComponent,k=(a={},a[b("FBRTCParticipantCallState").DISCONNECTED]=b("RTWebStrings").disconnected,a[b("FBRTCParticipantCallState").NO_ANSWER]=b("RTWebStrings").noAnswer,a[b("FBRTCParticipantCallState").REJECTED]=b("RTWebStrings").noAnswer,a[b("FBRTCParticipantCallState").UNREACHABLE]=b("RTWebStrings").unreachable,a[b("FBRTCParticipantCallState").CONNECTION_DROPPED]=b("RTWebStrings").connectionDropped,a[b("FBRTCParticipantCallState").CONTACTING]=b("RTWebStrings").contacting,a[b("FBRTCParticipantCallState").RINGING]=b("RTWebStrings").ringing,a[b("FBRTCParticipantCallState").CONNECTING]=b("RTWebStrings").connecting,a[b("FBRTCParticipantCallState").CONNECTED]=b("RTWebStrings").connected,a[b("FBRTCParticipantCallState").PARTICIPANT_LIMIT_REACHED]=b("RTWebStrings").participantLimitReached,a[b("FBRTCParticipantCallState").IN_ANOTHER_CALL]=b("RTWebStrings").inAnotherCall,a),l=32;c=function(a){var c=a.isSelected,d=a.onClick,e=a.user,f=a.dataTestID;a=a.participantState;return b("React").createElement(b("Link.react"),{"aria-checked":c,className:"_4nvn",onClick:o(a)?b("emptyFunction"):d,"data-testid":f,role:"checkbox"},b("React").createElement(j,{className:"_4nvr",isMessengerUser:e.isMessengerUser,isPartiesUser:e.isPartiesUser,size:l,src:e.profilePictureUrl}),b("React").createElement("div",{className:"_4nvs"},b("React").createElement("div",{className:"_4nvt"},b("React").createElement("div",{className:"_4nv_"},e.userName),b("React").createElement(m,{user:e,participantState:a})),b("React").createElement(n,{isSelected:c,participantState:a})))};var m=function(a){var c=a.user;a=a.participantState;if(a){a=k[a.state]||h._("Unknown");return b("React").createElement("div",{className:"_4nw0"},a)}return c.vanity?b("React").createElement("div",{className:"_4nw0"},"@",c.vanity):null},n=function(a){var c=a.isSelected;a=a.participantState;if(o(a))return b("React").createElement("div",{className:"_1j79"},h._("In Call"));else if(c)return b("React").createElement("div",{className:"_1j79"},b("React").createElement(b("Image.react"),{src:i("86852")}));return null};function o(a){if(!a)return!1;switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0;default:return!1}}e.exports=c}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React","VideoCallWebDriverIDs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.isParticipantSelected,d=a.onClick,e=a.remoteUsers;a=a.participantStates;var f=a===void 0?b("immutable").Map():a;a=e.map(function(a){return b("React").createElement(b("MessengerRTCGroupCallContactListItem.react"),{isSelected:c.get(a.FBID),key:a.FBID,onClick:function(){return d(a.FBID)},user:a,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM+a.FBID,participantState:f.get(a.FBID)})});return b("React").createElement(b("MessengerScrollableArea.react"),{className:"_12zw"},a)};e.exports=a}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerProfileImageWrapperReact.bs").jsComponent,j=b("MessengerThreadImageReact.bs").jsComponent,k=function(){return b("React").createElement("div",{className:"_1apf"},h._("People you add to this group video will see previous messages in this conversation."))},l=function(){return b("React").createElement("div",{className:"_1ydy"},h._("You are about to ring people you've blocked."))};a=function(a){var c=a.thread,d=a.displayAddMemberWarning,e=a.displayBlockedMemberWarning,f=a.participants,g=a.viewerID;babelHelpers.objectWithoutPropertiesLoose(a,["thread","displayAddMemberWarning","displayBlockedMemberWarning","participants","viewerID"]);return b("React").createElement("div",{className:"_5y31"},c&&c.image_src?b("React").createElement(j,{className:"_5y32",participants:f,thread:c,viewer:g}):b("React").createElement(i,{className:"_5y32",showBadge:!1},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(f.toJS()),size:50})),b("React").createElement("div",{className:"_5y34"},c&&c.name?b("React").createElement(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_5y37",thread:c,viewer:g}):b("React").createElement(b("RTCCallTitle.react"),{className:"_5y37",participants:f,viewer:g}),d?b("React").createElement(k,null):null,e?b("React").createElement(l,null):null))};e.exports=a}),null);
__d("PagesReplyComposerActionKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONTENT_CHANGE:null,INITIALIZE_STORE:null,DISABLED_CHANGED:null,RECEIVED_SERVER_CONFIG:null,TOKEN_REMOVED:null,TOGGLE_PERSONALIZATION:null,INSERT_MACRO:null,RESET_CONTENT:null,SHOW_ERROR_MESSAGE:null,RESET_ERROR_MESSAGE:null});e.exports=a}),null);
__d("PagesReplyComposerFluxUtilities",[],(function(a,b,c,d,e,f){"use strict";a={createOrGetInstanceByKey:function(a,b,c){b.has(c)||b.set(c,new a(c));return b.get(c)}};e.exports=a}),null);
__d("PagesReplyComposerDispatcher",["ExplicitRegistrationReactDispatcher","PagesReplyComposerFluxUtilities"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);c.getByKey=function(a){return b("PagesReplyComposerFluxUtilities").createOrGetInstanceByKey(c,c.dispatchersByKey,a)};function c(b){var c;c=a.call(this,{strict:!0})||this;c.$PagesReplyComposerDispatcher1=b;return c}return c}(b("ExplicitRegistrationReactDispatcher"));a.dispatchersByKey=new Map();e.exports=a}),null);
__d("PagesReplyComposerActions",["PagesReplyComposerActionKeys","PagesReplyComposerDispatcher","PagesReplyComposerFluxUtilities"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();a.getActionsByKey=function(c){return b("PagesReplyComposerFluxUtilities").createOrGetInstanceByKey(a,a.actionsByKey,c)};function a(a){this.$1=a,this.$2=b("PagesReplyComposerDispatcher").getByKey(a)}var c=a.prototype;c.notifyContentChange=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").CONTENT_CHANGE,newContent:a})};c.initializeStoreWithConfig=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").INITIALIZE_STORE,config:a})};c.notifyDisabledChanged=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").DISABLED_CHANGED,disabled:a})};c.notifyServerConfigReceived=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").RECEIVED_SERVER_CONFIG,config:a})};c.notifyTokenRemoved=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").TOKEN_REMOVED,offsetKey:a})};c.$3=function(a,b){this.$2.dispatch({type:a,isOn:b})};c.notifyToggleOn=function(a){this.$3(a,!0)};c.notifyToggleOff=function(a){this.$3(a,!1)};c.notifyAction=function(a){this.$2.dispatch({type:a})};c.notifyInsertMacro=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").INSERT_MACRO,macro:a})};c.notifyResetContent=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").RESET_CONTENT,content:a})};c.showErrorMessage=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").SHOW_ERROR_MESSAGE,message:a})};c.resetErrorMessage=function(){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").RESET_ERROR_MESSAGE})};return a}();a.actionsByKey=new Map();e.exports=a}),null);
__d("PagesReplyComposerState",["EditorState","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({isInitialized:!1,currentContent:b("EditorState").createEmpty(),disabled:!1,supportedMacros:b("immutable").List(),featureMap:{macroBrowse:!1},shouldShowMacroBrowser:!1,errorMessage:null}));e.exports=a}),null);
__d("PagesMessagingAutomationEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENABLE_INSTANT_REPLY_FROM_CTA:"ENABLE_INSTANT_REPLY_FROM_CTA",INSERT_MACRO_FROM_REPLY_COMPOSER:"INSERT_MACRO_FROM_REPLY_COMPOSER",GUESS_INTENT_FROM_USER_SEND:"GUESS_INTENT_FROM_USER_SEND",TURN_OFF_INSTANT_REPLY_FROM_CTA:"TURN_OFF_INSTANT_REPLY_FROM_CTA",AUTO_RESPONSE_SEND_FAILURE:"AUTO_RESPONSE_SEND_FAILURE",AUTO_RESPONSE_PROCESS_FAILURE:"AUTO_RESPONSE_PROCESS_FAILURE",SHOW_MESSENGER_GREETING:"SHOW_MESSENGER_GREETING",INVALID_AUTO_RESPONSE_LENGTH:"INVALID_AUTO_RESPONSE_LENGTH",MSG_LANGUAGE_DIFFERET_FROM_PAGE:"MSG_LANGUAGE_DIFFERET_FROM_PAGE",INTENT_CLASSIFIER_VERIFICATION:"INTENT_CLASSIFIER_VERIFICATION",CLASSIFIER_CONSOLE_COMPOUND_EYE_ERROR:"CLASSIFIER_CONSOLE_COMPOUND_EYE_ERROR",AIR_TOGGLE_ENABLE_SMART_REPLIES:"AIR_TOGGLE_ENABLE_SMART_REPLIES",AIR_TOGGLE_ENABLE_INTENT:"AIR_TOGGLE_ENABLE_INTENT",AIR_DETECTED_INTENT:"AIR_DETECTED_INTENT",AIR_SMART_REPLY_ELIGIBLE_FOR_SEND:"AIR_SMART_REPLY_ELIGIBLE_FOR_SEND"})}),null);
__d("PagesReplyComposerErrorMessages",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getExceededMaxLengthMessage:function(a){return g._("Please keep the content within {character_limit} characters.",[g._param("character_limit",a)])}};e.exports=a}),null);
__d("PagesReplyComposerLogger",["invariant","PagesAutomationTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.setConfig=function(a){this.$1=a};c.logEvent=function(a,c){var d=this.$1;d||g(0,5756);var e=new(b("PagesAutomationTypedLogger"))();e.setEvent(a).setPageID(d.pageID);this.$2(c,e,d);e.log()};c.$2=function(a,b,c){if(a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.addToExtraData(d,a[d].toString());b.addToExtraData("composer_key",c.composerKey)};return a}();e.exports=a}),null);
__d("PagesReplyComposerTextUtilities",["CompositeDraftDecorator","DraftModifier","DraftOffsetKey","EditorState","SelectionState","UnicodeUtils","createEditorStateWithRanges","getEntityMatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("{{(.*?)}}","ig"),h={_getMacroByKey:function(a,b){return a.find(function(a){return a.key===b})},_codeUnitOffsetToCodePoint:function(a,c,d){d=b("UnicodeUtils").substr(d,c,a-c);a=0;c=0;while(c<d.length)c+=String.fromCodePoint(d.codePointAt(c)).length,++a;return c-a},_parseTemplateFieldTokens:function(a){__p&&__p();a=a;var b=[],c,d=0,e=g.lastIndex;while(c=g.exec(a)){d+=h._codeUnitOffsetToCodePoint(c.index,e,a);var f=c.index-d;f={text:c[0],offset:f,length:c[0].length,entity:{token:c[0],key:c[1]}};b.push(f);a=a.replace(c[0],f.text);g.lastIndex=f.offset+f.length;e=g.lastIndex}if(b.length>0){b[0].offset===0&&(a=" "+a,b.forEach(function(a){return a.offset++}));c=b[b.length-1];c.length+c.offset===a.length&&(a+=" ")}return{ranges:b,text:a}},createEditorStateFromText:function(a,c,d,e){d=new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="TOKEN"}),component:d,props:{supportedMacros:c,onTokenRemoved:e}}]);c=h._parseTemplateFieldTokens(a);e=c.ranges;a=c.text;return b("createEditorStateWithRanges")({text:a,ranges:e,decorator:d,addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("TOKEN","IMMUTABLE",a)}})},insertTokenToEditorState:function(a,c){c={text:"{{"+c.key+"}}",key:c.key};var d=a.getSelection(),e=a.getCurrentContent(),f=d.getStartKey(),g=d.getStartOffset();f=e.getBlockForKey(f);f.getText().substr(g-1,1).trim().length>0?(f=b("DraftModifier").replaceText(e,d," "),d=f.getSelectionAfter(),g=b("DraftModifier").insertText(f,d,c.text,a.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",c).getLastCreatedEntityKey())):g=b("DraftModifier").replaceText(e,d,c.text,a.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",c).getLastCreatedEntityKey());g=b("DraftModifier").insertText(g,g.getSelectionAfter()," ");f=b("EditorState").push(a,g,"insert-fragment");f=b("EditorState").forceSelection(f,f.getSelection());return f},removeTokenFromEditorState:function(a,c){a=b("DraftOffsetKey").decode(a);var d=a.blockKey;a=a.decoratorKey;a=c.getBlockTree(d).getIn([a]);d=new(b("SelectionState"))({anchorKey:d,anchorOffset:a.get("start"),focusKey:d,focusOffset:a.get("end"),isBackward:!1,hasFocus:!0});a=b("DraftModifier").removeRange(c.getCurrentContent(),d,"forward");return b("EditorState").push(c,a,"remove-range")},processMessage:function(a,b){var c=a.match(/\{{(.*?)\}}/g);c&&c.forEach(function(c){var d=c.replace("{{","").replace("}}",""),e=h._getMacroByKey(b,d);e=e?e.value:d;a=a.replace(c,e)});return a}};e.exports=h}),null);
__d("PagesReplyComposerTokenView.react",["cx","React","ReactComponentWithPureRenderMixin","XUICloseButton.react","classWithMixins","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PagesReplyComposerTokenView1=function(){c.props.onTokenRemoved(c.props.offsetKey)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.contentState.getEntity(this.props.entityKey).getData(),c=this.$PagesReplyComposerTokenView2(a);return b("React").createElement("span",{"data-hover":"tooltip","aria-label":c,"data-tooltip-content":c},b("React").createElement("span",{className:"_1mpo",contentEditable:!1,"data-offset-key":this.props.offsetKey,spellCheck:!1},this.$PagesReplyComposerTokenView3(a),b("React").createElement(b("XUICloseButton.react"),{size:"small",className:"_1mpp",onClick:this.$PagesReplyComposerTokenView1})))};d.$PagesReplyComposerTokenView4=function(a){return this.props.supportedMacros.find(function(b){return b.key===a.key})};d.$PagesReplyComposerTokenView3=function(a){var b=this.$PagesReplyComposerTokenView4(a);return b?b.value:a.key};d.$PagesReplyComposerTokenView2=function(a){a=this.$PagesReplyComposerTokenView4(a);return a?a.title:null};return c}(b("classWithMixins")(b("React").Component,b("mixin")(b("ReactComponentWithPureRenderMixin"))));e.exports=a}),null);
__d("XPagesReplyComposerServerConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/reply_composer/server_config/",{})}),null);
__d("PagesReplyComposerStore",["invariant","ActorURI","AsyncRequest","EditorState","FluxReduceStore","PagesMessagingAutomationEvents","PagesReplyComposerActionKeys","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerErrorMessages","PagesReplyComposerFluxUtilities","PagesReplyComposerLogger","PagesReplyComposerState","PagesReplyComposerTextUtilities","PagesReplyComposerTokenView.react","XPagesReplyComposerServerConfigController","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getByKey=function(a){return b("PagesReplyComposerFluxUtilities").createOrGetInstanceByKey(c,c.storesByKey,a)};function c(c){var d;d=a.call(this,b("PagesReplyComposerDispatcher").getByKey(c))||this;d.$PagesReplyComposerStore1=c;d.$PagesReplyComposerStore3=b("PagesReplyComposerActions").getActionsByKey(c);d.$PagesReplyComposerStore4=new(b("PagesReplyComposerLogger"))();return d}var d=c.prototype;d.getInitialState=function(){return new(b("PagesReplyComposerState"))()};d.getCurrentComposerPlainTextContent=function(){return this.getState().currentContent.getCurrentContent().getPlainText()};d.getCurrentProcessedContentLength=function(){return this.$PagesReplyComposerStore5(this.getState().currentContent)};d.getCurrentRawContentLength=function(){return this.$PagesReplyComposerStore6(this.getState().currentContent)};d.reduce=function(a,c){__p&&__p();switch(c.type){case b("PagesReplyComposerActionKeys").CONTENT_CHANGE:return this.$PagesReplyComposerStore7(a,c);case b("PagesReplyComposerActionKeys").INITIALIZE_STORE:return this.$PagesReplyComposerStore8(a,c);case b("PagesReplyComposerActionKeys").DISABLED_CHANGED:return this.$PagesReplyComposerStore9(a,c);case b("PagesReplyComposerActionKeys").TOKEN_REMOVED:return this.$PagesReplyComposerStore10(a,c);case b("PagesReplyComposerActionKeys").RECEIVED_SERVER_CONFIG:return this.$PagesReplyComposerStore11(a,c);case b("PagesReplyComposerActionKeys").TOGGLE_PERSONALIZATION:return a.set("shouldShowMacroBrowser",c.isOn);case b("PagesReplyComposerActionKeys").INSERT_MACRO:return this.$PagesReplyComposerStore12(a,c);case b("PagesReplyComposerActionKeys").RESET_CONTENT:return this.$PagesReplyComposerStore13(a,c);case b("PagesReplyComposerActionKeys").SHOW_ERROR_MESSAGE:return a.set("errorMessage",c.message);case b("PagesReplyComposerActionKeys").RESET_ERROR_MESSAGE:return a.set("errorMessage",null);default:return a}};d.$PagesReplyComposerStore14=function(a){var c=this.$PagesReplyComposerStore2?this.$PagesReplyComposerStore2.maxCharacterLength:null;c||g(0,145);return a.set("errorMessage",b("PagesReplyComposerErrorMessages").getExceededMaxLengthMessage(c))};d.$PagesReplyComposerStore6=function(a){return a.getCurrentContent().getPlainText().length};d.$PagesReplyComposerStore5=function(a){return b("PagesReplyComposerTextUtilities").processMessage(a.getCurrentContent().getPlainText(),this.getState().supportedMacros).length};d.$PagesReplyComposerStore15=function(a){var b=this.$PagesReplyComposerStore2?this.$PagesReplyComposerStore2.maxCharacterLength:null;return!b?!1:this.$PagesReplyComposerStore5(a)>b};d.$PagesReplyComposerStore9=function(a,b){return a.set("disabled",b.disabled)};d.$PagesReplyComposerStore7=function(a,c){if(!this.$PagesReplyComposerStore15(c.newContent))return a.set("currentContent",c.newContent).set("errorMessage",null);var d=this.$PagesReplyComposerStore14(a);if(this.$PagesReplyComposerStore5(c.newContent)<=this.$PagesReplyComposerStore5(a.currentContent))return d.set("currentContent",c.newContent);c=a.currentContent;return d.set("currentContent",b("EditorState").forceSelection(c,c.getSelection()))};d.$PagesReplyComposerStore8=function(a,b){b=b.config;this.$PagesReplyComposerStore2=b;this.$PagesReplyComposerStore4.setConfig(b);a=a.set("disabled",b.initialDisabled);this.$PagesReplyComposerStore16();return a};d.$PagesReplyComposerStore10=function(a,c){return a.set("currentContent",b("PagesReplyComposerTextUtilities").removeTokenFromEditorState(c.offsetKey,a.currentContent))};d.$PagesReplyComposerStore11=function(a,c){var d=this,e=this.$PagesReplyComposerStore2;e||g(0,146);var f=h(c.config.macros);e=b("PagesReplyComposerTextUtilities").createEditorStateFromText(e.initialReply,f,b("PagesReplyComposerTokenView.react"),function(a){return d.$PagesReplyComposerStore3.notifyTokenRemoved(a)});return a.set("supportedMacros",f).set("featureMap",c.config.featureMap).set("currentContent",e).set("isInitialized",!0)};d.$PagesReplyComposerStore12=function(a,c){var d=b("PagesReplyComposerTextUtilities").insertTokenToEditorState(a.currentContent,c.macro);if(this.$PagesReplyComposerStore15(d))return this.$PagesReplyComposerStore14(a);this.$PagesReplyComposerStore4.logEvent(b("PagesMessagingAutomationEvents").INSERT_MACRO_FROM_REPLY_COMPOSER,{macro_key:c.macro.key});return a.set("currentContent",d)};d.$PagesReplyComposerStore13=function(a,c){var d=this;c=b("PagesReplyComposerTextUtilities").createEditorStateFromText(c.content,a.supportedMacros,b("PagesReplyComposerTokenView.react"),function(a){return d.$PagesReplyComposerStore3.notifyTokenRemoved(a)});return a.set("currentContent",c)};d.$PagesReplyComposerStore16=function(){var a=this,c=this.$PagesReplyComposerStore2;c||g(0,146);var d=b("XPagesReplyComposerServerConfigController").getURIBuilder().getURI();d=b("ActorURI").create(d,c.pageID);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({other_user_id:c.otherUserID,page_id:c.pageID}).setHandler(function(b){a.$PagesReplyComposerStore3.notifyServerConfigReceived(b.payload)}).send()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;a.storesByKey=new Map();e.exports=a}),null);
__d("DialogFitHeightToContent",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getHeightProperty=function(){return"max-height"};return b}(b("AbstractDialogFitHeight"));e.exports=a}),null);
__d("RTCCallState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_ONGOING_CALL:"NO_ONGOING_CALL",AUDIO_GROUP_CALL:"AUDIO_GROUP_CALL",VIDEO_GROUP_CALL:"VIDEO_GROUP_CALL"})}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});e.exports=a}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderText:function(a,b){return a?g._("You sent a valentine."):g._("{name} sent a valentine.",[g._param("name",b)])}};e.exports=a}),null);
__d("P2PSnippetStringUtils",["fbt","P2PPaymentRequestStatus","P2PTransferStatus"],(function(a,b,c,d,e,f,g){__p&&__p();a={getRequestCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Your request for {payment request amount} from {receiver's name} was canceled.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("{requester's name}'s request for {payment request amount} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])},getRequestDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver's name} declined your request for {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("You declined {requester's name}'s request for {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])},getRequestSentSnippet:function(a,b,c,d,e){if(a)return g._("You requested {amount} from {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} requested {amount} from you.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} requested {amount} from {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])},getRequestSnippetByStatus:function(a,c,d,e,f,g){a=a||b("P2PPaymentRequestStatus").INITED;c=[c,d,e,f,g];switch(a){case b("P2PPaymentRequestStatus").DECLINED:return this.getRequestDeclinedSnippet.apply(this,c);case b("P2PPaymentRequestStatus").TRANSFER_FAILED:case b("P2PPaymentRequestStatus").CANCELED:return this.getRequestCanceledSnippet.apply(this,c)}return this.getRequestSentSnippet.apply(this,c)},getTransferCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Your {amount} payment to {receiver_name} was canceled.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("{sender name}'s {amount} payment was canceled.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])},getTransferDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver_name} didn't accept your {amount} payment.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("You didn't accept {sender name}'s {amount} payment.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])},getTransferSentSnippet:function(a,b,c,d,e){if(a)return g._("You sent {receiver name} {amount}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} sent you {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} sent {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])},getTransferSnippetByStatus:function(a,c,d,e,f,g){c=[c,d,e,f,g];d=a||b("P2PTransferStatus").PENDING_SENDER_INITED;switch(d){case b("P2PTransferStatus").CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,c);case b("P2PTransferStatus").CANCELED_SENDER_RISK:case b("P2PTransferStatus").CANCELED_RECIPIENT_RISK:case b("P2PTransferStatus").CANCELED_SYSTEM_FAIL:case b("P2PTransferStatus").CANCELED_EXPIRED:case b("P2PTransferStatus").CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,c)}return this.getTransferSentSnippet.apply(this,c)}};e.exports=a}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAttachmentType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants","StoryAttachmentStyle","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getAttachmentSnippetType:function(a){__p&&__p();if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){__p&&__p();switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("You sent a video."):g._("{sender name} sent a video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("You sent a voice message."):g._("{name} sent a voice message.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("You sent a sticker."):g._("{name} sent a sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("You sent a location."):g._("{sender name} sent a location.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("You sent a live location."):g._("{sender name} sent a live location.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){if(!b("gkx")("676919"))return c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("You sent a video."):g._("You sent a photo."):a?g._("View {sender name}'s disappearing video.",[g._param("sender name",d)]):g._("View {sender name}'s disappearing photo.",[g._param("sender name",d)])}return e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0])?b("MessengerLightweightActionUtils").getLWASnippetText(e):c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);default:return""}},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").VIDEO},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").BUSINESS_MESSAGE_ITEMS)},_hasSticker:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").STICKER},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MESSAGE_LOCATION)},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MESSAGE_LIVE_LOCATION)},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MONTAGE_DIRECT)},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").ORION)},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").ORION_REQUEST)},_hasSingleShareAttachmentOfStyle:function(a,c){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").SHARE&&a[0].share.style_list.indexOf(c)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").SHARE},_hasError:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").ERROR},_hasGift:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").GIFT},_hasFile:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").FILE},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type===b("MercuryAttachmentType").PHOTO})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a photo.");else return g._("{name} sent a photo.",[g._param("name",b)]);else if(a)return g._({"*":"You sent {num_photos} photos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} sent {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a GIF.");else return g._("{name} sent a GIF.",[g._param("name",b)]);else if(a)return g._("You sent {num_animated_images} GIFs.",[g._param("num_animated_images",c.length)]);else return g._("{name} sent {num_animated_images} GIFs.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} sent an attachment.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("XSupportInboxDetailsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/support/view_details/",{ref_medium:{type:"String"},thanks:{type:"Exists",defaultValue:!1},errors:{type:"IntSet"},expand:{type:"Exists",defaultValue:!1},expand_form:{type:"Exists",defaultValue:!1},ref:{type:"String"},id:{type:"Int"},eid:{type:"String"},fbid:{type:"Int"}})}),null);