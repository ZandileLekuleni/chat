if (self.CavalryLogger) { CavalryLogger.start_js(["EH+vD"]); }

__d("MarketplaceAdsConfigStatic",[],(function(a,b,c,d,e,f){e.exports={eligibleObjectives:{15:"CONVERSIONS",19:"LINK_CLICKS",29:"PRODUCT_CATALOG_SALES",36:"REACH",24:"VIDEO_VIEWS",35:"STORE_VISITS",32:"BRAND_AWARENESS",12:"EVENT_RESPONSES",31:"LEAD_GENERATION",39:"MESSAGES",37:"APP_INSTALLS",121:"WILDCARD_INTERNAL_ONLY"},eligibleObjectivesCapabilityMap:{CONVERSIONS:"ADS_PLACEMENT_MARKETPLACE",LINK_CLICKS:"ADS_PLACEMENT_MARKETPLACE",PRODUCT_CATALOG_SALES:"ADS_PLACEMENT_MARKETPLACE",REACH:"CAN_USE_FB_MKT_PLACE_POSITION_IN_REACH",VIDEO_VIEWS:"CAN_USE_FB_MKT_PLACE_POSITION_IN_VIDEO_VIEW",STORE_VISITS:"CAN_USE_FB_MKT_PLACE_POSITION_IN_STORE_VISIT",BRAND_AWARENESS:"CAN_USE_FB_MKT_PLACE_POSITION_IN_BRAND_AWARENESS",EVENT_RESPONSES:"CAN_USE_FB_MKT_PLACE_POSITION_IN_EVENT_RESPONSE",LEAD_GENERATION:"CAN_USE_FB_MKT_PLACE_POSITION_IN_LEAD_GENERATION",MESSAGES:"CAN_USE_FB_MKT_PLACE_POSITION_IN_MESSAGE",APP_INSTALLS:"CAN_USE_FB_MKT_PLACE_POSITION_IN_APP_INSTALLS",WILDCARD_INTERNAL_ONLY:"CAN_USE_AD_BUILDER"},launchTime:{},ineligibleObjectTypes:["APPLICATION","INVALID"],launchedCountries:{},launchDates:{US:"2018-04-24",CA:"2018-05-10",AU:"2018-06-04",NZ:"2018-06-04"},wwLaunchTime:"2018-07-30"}}),null);
__d("AdsInsightsUnitLabelsDynamic",["AdsInsightsUnitLabels"],(function(a,b,c,d,e,f){e.exports=b("AdsInsightsUnitLabels")}),null);
__d("AdsInsightsUnitPerLabelsDynamic",["AdsInsightsUnitPerLabels"],(function(a,b,c,d,e,f){e.exports=b("AdsInsightsUnitPerLabels")}),null);
__d("HiddenSubtreePassiveContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({getCurrent:function(){return!1},subscribe:function(a){return{remove:function(){}}}});e.exports=a}),null);
__d("BaseContextualLayerAnchorRootContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext({current:null});e.exports=a}),null);
__d("BaseContextualLayerPortalTargetContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(null);e.exports=a}),null);
__d("CometDOMContainer.react",["React","stylex","mergeRefs","useLayoutEffect_SSR_WORKAROUND_FIXME"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=a.node;a=a.tag;a=a===void 0?"span":a;var e=b("React").useRef(null);b("useLayoutEffect_SSR_WORKAROUND_FIXME")(function(){if(d===null)return;var a=e.current;if(a!=null){a.appendChild(d);return function(){a.removeChild(d)}}},[d]);var f=b("React").useMemo(function(){return b("mergeRefs")(e,c)},[c]);return b("React").createElement(a,{className:"ttbfdpzt",ref:f},void 0)}e.exports=b("React").memo(b("React").forwardRef(a))}),null);
__d("BaseContextualLayerAnchorRoot.react",["BaseContextualLayerAnchorRootContext","BaseContextualLayerPortalTargetContext","CometDOMContainer.react","ExecutionEnvironment","React","cometTestID","stylex","useStable"],(function(a,b,c,d,e,f){"use strict";function c(c){var d=c.children;c=c.testid;var e=b("React").useRef(null),f=b("useStable")(function(){return b("ExecutionEnvironment").canUseDOM?a.document.createElement("span"):null});return b("React").createElement("div",babelHelpers["extends"]({className:"iyyx5f41 l9j0dhe7 dhp61c6y dp1hu0rb owwhemhu qowsmv63 cebpdrjk bipmatt0 k5wvi7nf a8s20v7p a6sixzi8 tojvnm2t"},b("cometTestID")(c),{ref:e}),b("React").createElement(b("BaseContextualLayerAnchorRootContext").Provider,{value:e},b("React").createElement(b("BaseContextualLayerPortalTargetContext").Provider,{value:f},d)),b("React").createElement(b("CometDOMContainer.react"),{node:f}))}e.exports=c}),null);
__d("CometContextualLayerAnchorRoot.react",["BaseContextualLayerAnchorRoot.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.children;return b("React").createElement(b("BaseContextualLayerAnchorRoot.react"),{testid:"CometContextualLayerAnchorRoot"},a)}e.exports=a}),null);
__d("CometSuspendWhileWaitingOnDOM.react",["Promise","ExecutionEnvironment","React"],(function(a,b,c,d,e,f){"use strict";function a(){if(!b("ExecutionEnvironment").canUseDOM)throw b("Promise").reject();return null}e.exports=a}),null);
__d("CometPortal.react",["CometSuspendWhileWaitingOnDOM.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children;a=a.target;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("CometSuspendWhileWaitingOnDOM.react"),null),a!=null?b("ReactDOM").createPortal(c,a):null)}e.exports=a}),null);
__d("BaseBlueModal.react",["CometContextualLayerAnchorRoot.react","CometHeadingContext","CometPortal.react","Layer","ModalLayer","React","stylex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useState,h=b("React").useLayoutEffect;function a(a){a=a.children;var c=g(function(){return document.createElement("div")}),d=c[0];h(function(){var a=new(b("Layer"))({addedBehaviors:[b("ModalLayer")]},d);a.show();return function(){a.destroy()}},[d]);return b("React").createElement(b("CometPortal.react"),{target:d},b("React").createElement(b("CometHeadingContext").Provider,{value:1},b("React").createElement("div",{className:"l9j0dhe7 h3gjbzrl"},b("React").createElement(b("CometContextualLayerAnchorRoot.react"),null,a))))}e.exports=a}),null);
__d("useCometPrerendererImpl",["React","clearTimeout","emptyFunction","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=50;function h(a){a&&(typeof a==="function"?a():a.preload())}function i(a){return a.pointerType==="mouse"}a=function(a,c,d,e,f){__p&&__p();var j=b("React").useState(!1),k=j[0],l=j[1],m=b("React").useRef(null);j=b("React").useCallback(function(c){(a==="tooltip"||a==="button"&&d!=null)&&(m.current=b("setTimeout")(function(){a==="tooltip"?(l(!0),h(d),h(e)):a==="button"&&h(d)},g))},[a,d,e]);var n=b("React").useCallback(function(){b("clearTimeout")(m.current),m.current=null,l(!1),f&&f()},[f]),o=b("React").useCallback(function(b){if(!i(b))return;a==="button"&&(l(!0),h(e))},[a,e]);b("React").useEffect(function(){return function(){b("clearTimeout")(m.current)}},[]);if(a==null)return[{isVisible:c,shouldPrerender:!1},b("emptyFunction"),b("emptyFunction"),b("emptyFunction")];c={isVisible:c,shouldPrerender:k};return[c,j,n,o]};e.exports=a}),null);
__d("useNoopDebuggingInfoComponent",[],(function(a,b,c,d,e,f){"use strict";var g=function(){};a=function(){return[null,g]};e.exports=a}),null);
__d("CometInteractionTracingMetrics",["ErrorGuard","JSTracing","SchedulerTracing","performanceNavigationStart","performanceNow","recoverableViolation","removeFromArray","requireCond","cr:683059"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SchedulerTracing").unstable_subscribe,h=new Map(),i=[],j=b("performanceNavigationStart")(),k={};a=function(){__p&&__p();var a=b("JSTracing").getCurrent(),c=function(b){a&&a.size&&a.forEach(function(a){a=p.get(a.name);a&&b(a)})};a&&a.size>1&&a.forEach(function(a){var b=a.name,d=p.get(a.name);d&&(c(function(c){if(c.traceId!==b){p.addTag(a.name,"otherInteractionTypes",(c=c.type)!=null?c:"UNKNOWN")}}),d.metadata.containsDataFromOtherInteraction=1)});var d={addBootload:function(a,b,d,e){c(function(c){var f=a.join(";");c.bootloads[f]={allResourcesDownloaded:e,components:a,duration:d,end:b+d-j,start:b-j}})},addGlobalMetadataWithVC:function(a,b){k[a]=b,d.addMetadataWithVC(a,b)},addMarkerPoint:function(a,d,e,f){var g=(e=e)!=null?e:b("performanceNow")();c(function(b){b.markerPoints[a]={timestamp:g,type:d},f&&(b.markerPoints[a].data=f)})},addMetadata:function(a,b){c(function(c){c.metadata[a]=b})},addMetadataWithVC:function(a,c){d.addMetadata(a,c),b("cr:683059")&&b("cr:683059").addAnnotation(a,c)},addRequireDeferred:function(a,b){var d=[];c(function(c){if(c.requireDeferreds[a]!=null)return;c=c.requireDeferreds[a]={start:b};d.push(c)});return function(a,c){d.forEach(function(d){d.end=a,d.duration=a-b,c&&(d.alreadyRequired=!0)})}},addSubspan:function(a,b,d,e,f){var g={data:f,end:e,start:d,type:b};c(function(b){b.subSpans[a]?b.subSpans[a].push(g):b.subSpans[a]=[g]})},addTag:function(a,d){c(function(c){c.tagSet[a]||(c.tagSet[a]=new Set()),c.tagSet[a].add(d),b("cr:683059")&&b("cr:683059").addTag(a,d)})},forEach:function(a){c(function(b){a(b)})}};return d};function l(a){var c={bootloads:{},commitSet:new Set(),factoryTimings:[],hiddenTimings:[],imagePreloaderTimings:{},markerPoints:{},metadata:{},navigationTiming:{},payloadResources:{},payloadTimings:{},reactRender:{},requireDeferreds:{},start:a.timestamp,subSpans:{},tagSet:{},traceId:a.name};for(var d in k)c.metadata[d]=k[d],b("cr:683059")&&b("cr:683059").addAnnotation(d,k[d]);h.set(a.name,c);return c}function m(a,c,d){if(i.length){var e={__type:a,interaction:c,name:c.traceId,timestamp:d};i.forEach(function(a){b("ErrorGuard").applyWithGuard(a,null,[e],{name:"CometInteractionTracingMetricsListener"})})}}var n={onInteractionScheduledWorkCompleted:function(a){var c=h.get(a.name);!c?c=l(a):c.completed!=null&&b("recoverableViolation")("Traced interaction already marked as completed","comet_infra");c.completed=b("performanceNow")();m("complete",c,c.completed)},onInteractionTraced:function(a){h.has(a.name)?b("recoverableViolation")("Starting a trace of an interaction that has already started?","comet_infra"):l(a)},onWorkCanceled:function(a,b){},onWorkScheduled:function(a,b){},onWorkStarted:function(a,b){},onWorkStopped:function(a,b){}},o=!1,p={addFactoryTiming:function(a,c){var d=h.get(a);if(!d){b("recoverableViolation")("Tried to add FactoryTiming to an untraced interaction: "+a,"comet_infra");return}d.factoryTimings.push(c)},addGlobalMetadataWithVC:function(a,b,c){k[b]=c,p.addMetadataWithVC(a,b,c)},addHiddenTiming:function(a,c){var d=h.get(a);if(!d){b("recoverableViolation")("Tried to add HiddenTiming to an untraced interaction: "+a,"comet_infra");return}d.hiddenTimings=c},addImagePreloader:function(a,c,d){var e=h.get(a);if(!e){b("recoverableViolation")("Tried to add imagePreloader to an untraced interaction: "+a,"comet_infra");return}e.imagePreloaderTimings[c]=d},addMarkerPoint:function(a,c,d,e,f){e===void 0&&(e=b("performanceNow")());var g=h.get(a);if(!g){b("recoverableViolation")("Tried to add markerPoint to an untraced interaction: "+a,"comet_infra");return}g.markerPoints[c]={timestamp:e,type:d};f&&(g.markerPoints[c].data=f)},addMetadata:function(a,c,d){var e=h.get(a);if(!e){b("recoverableViolation")("Tried to add metadata to an untraced interaction: "+a,"comet_infra");return}e.metadata[c]=d},addMetadataWithVC:function(a,c,d){p.addMetadata(a,c,d),b("cr:683059")&&b("cr:683059").addAnnotation(c,d)},addPayloadResource:function(a,c,d){var e=h.get(a);if(!e){b("recoverableViolation")("Tried to add payloadResource to an untraced interaction: "+a,"comet_infra");return}e.payloadResources[c]=d},addPayloadTiming:function(a,c,d){var e=h.get(a);if(!e){b("recoverableViolation")("Tried to add payloadTiming to an untraced interaction: "+a,"comet_infra");return}e.payloadTimings[c]=d},addReactRender:function(a,c,d,e,f,g,i){var j=h.get(a);if(!j){b("recoverableViolation")("Tried to add ReactRender to an untraced interaction: "+a,"comet_infra");return}a={actualDuration:f,baseDuration:g,duration:e-d,end:e,phase:i,start:d};j.reactRender[c]?j.reactRender[c].push(a):j.reactRender[c]=[a];j.commitSet.add(e)},addSubspan:function(a,c,d,e,f,g){var i=h.get(a);if(!i){b("recoverableViolation")("Tried to add subspan to an untraced interaction: "+a,"comet_infra");return}a={data:g,end:f,start:e,type:d};i.subSpans[c]?i.subSpans[c].push(a):i.subSpans[c]=[a]},addTag:function(a,c,d){var e=h.get(a);if(!e){b("recoverableViolation")("Tried to add tag to an untraced interaction: "+a,"comet_infra");return}e.tagSet[c]||(e.tagSet[c]=new Set());e.tagSet[c].add(d);b("cr:683059")&&b("cr:683059").addTag(c,d)},currentInteractionLogger:a,dump:function(){var a={};h.forEach(function(b,c){a[c]=babelHelpers["extends"]({},b,{e2e:b.completed!=null?((b.completed-b.start)/1e3).toFixed(2):"?"})});return a},get:function(a){return h.get(a)},init:function(){o||(o=!0,g(n))},listen:function(a){o||p.init();i.push(a);return{cancel:function(){b("removeFromArray")(i,a)}}},removeMarkerPoint:function(a,b){a=h.get(a);a&&delete a.markerPoints[b]},setInteractionClass:function(a,b){a=h.get(a);a&&(a.interactionClass=b)},setInteractionType:function(a,b,c,d){a=h.get(a);a&&(a.interactionClass=b,a.type=c,a.qplEvent=d)}};e.exports=p}),null);
__d("CometVisualCompletionUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getBoundingClientRect:function(a,b){if(typeof a.getBoundingClientRect!=="function")return{bottom:0,left:0,right:0,top:0};a=a.getBoundingClientRect();var c=a.top,d=a.left,e=a.bottom;a=a.right;return{bottom:b!=null?b+(e-c):e,left:d,right:a,top:b!=null?b:c}},getPixels:function(a){return(a.right-a.left)*(a.bottom-a.top)},getRectIntersection:function(a,b){return{bottom:Math.max(Math.min(a.bottom,b.bottom),b.top),left:Math.min(Math.max(a.left,b.left),b.right),right:Math.max(Math.min(a.right,b.right),b.left),top:Math.min(Math.max(a.top,b.top),b.bottom)}},getRectangle:function(a,b){a=g.getBoundingClientRect(a);var c=a.top,d=a.left,e=a.bottom;a=a.right;e={bottom:e,left:d,right:a,top:c};return g.getRectIntersection(e,b)},getViewportSize:function(){return{height:window.innerHeight,width:window.innerWidth}},inAboveTheFold:function(a){a=a;var b=g.getViewportSize();a=g.getPixels(g.getRectangle(a,{bottom:b.height,left:0,right:b.width,top:-window.scrollY}));return a>0},offsetTop:function(a,b){__p&&__p();var c=0;a=a;while(a&&a.offsetParent&&typeof a.offsetTop==="number")c+=a.offsetTop,a=a.offsetParent;if(a&&a.offsetParent==null&&typeof a.getBoundingClientRect==="function"){var d=a.getBoundingClientRect();d=d.top;d>=0?c+=d:a===document.body&&(c-=b)}return c},trimHash:function(a){return a!=null&&a!==""?a.split("#")[0]:null}};e.exports=g}),null);
__d("CometVisualCompletionTrace",["CometVisualCompletionUtil","VisibilityListener","gkx","performance","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=/url\(.*(http.*)\)/gi;a=function(){__p&&__p();function a(a,c,d){this.$8=0,this.$9=0,this.$10=0,this.$11=0,this.initialScrollY=0,this.scrolledVC=0,this.report=null,this.measureOriginalViewport=!0,this.$5=new Map(),this.$3=new Map(),this.$1=[],this.$2=[],this.$7=0,this.$12=[],this.$4=a,this.$6=b("CometVisualCompletionUtil").getViewportSize(),this.navSequence=c,this.traceID=d,this.markerPoints=new Map(),this.annotations=new Map(),this.tagSet=new Map(),this.navDone=!1}var c=a.prototype;c.addAnnotation=function(a,b){this.annotations.set(a,b)};c.addMarkerPoint=function(a,b,c){c===void 0&&(c={}),this.markerPoints.set(a,{data:c,timestamp:b-this.$4})};c.addVisualElement=function(a,b,c){this.markerPoints.get("FP")||this.addMarkerPoint("FP",c),this.$12.push([a,c,b])};c.addTag=function(a,b){this.tagSet.has(a)||this.tagSet.set(a,new Set());a=this.tagSet.get(a);a&&a.add(b)};c.calculate=function(){__p&&__p();var a=this;if(!this.$12.length)return null;this.$6=b("CometVisualCompletionUtil").getViewportSize();var c=b("performanceAbsoluteNow")();this.$7=0;this.$9=0;this.$10=0;this.setResourceTimingMap();this.initTree();this.getImages();b("gkx")("679542")&&this.getBackgroundImages();this.$8=this.calculatePaintedPixels(this.$1,this.$6.width*this.$6.height);var d={annotations:this.annotations,bgCheckLatency:this.$10,bgChecked:this.$7,bgNum:0,bgPixels:0,calcLatency:0,compNum:0,compPixels:0,elements:this.$2,imgNum:0,imgPixels:0,initialScrollY:this.initialScrollY,markerPoints:this.markerPoints,navComplete:this.$11,navSequence:this.navSequence,paintedPixels:this.$9,scrollY:window.scrollY,scrolledVC:this.scrolledVC,speedIndex:0,startTime:this.$4,tagSet:this.tagSet,totalPixels:this.$8,traceId:this.traceID,tracePolicy:this.tracePolicy,vcWithoutImage:0,viewport:this.$6,visuallyComplete:0};this.$2.length&&(this.$2=this.$2.sort(function(a,b){return b.latency-a.latency}),d.visuallyComplete=this.$2[0].latency,this.$2.forEach(function(b){__p&&__p();d.vcWithoutImage===0&&b.type==="component"&&(d.vcWithoutImage=b.latency);d.speedIndex+=b.pixels/a.$9*b.latency;switch(b.type){case"component":d.compNum++;d.compPixels+=b.pixels;break;case"img":d.imgNum++;d.imgPixels+=b.pixels;break;case"bg":d.bgNum++;d.bgPixels+=b.pixels;break}}));d.calcLatency=b("performanceAbsoluteNow")()-c;this.setupMetaData(d);this.report=d;return d};c.findParent=function(a){a=a.parentElement;while(a){var b=a.getAttribute("data-veid");if(b!=null&&b!==""&&this.$3.has(b))return this.$3.get(b);a=a.parentElement}return null};c.getBackgroundImages=function(){__p&&__p();var c=this,d=b("performanceAbsoluteNow")();this.$1.forEach(function(d){__p&&__p();d=d.element.querySelectorAll(":not(img)");Array.prototype.forEach.call(d,function(d){__p&&__p();var e=c.findParent(d);if(!e)return;var f=b("CometVisualCompletionUtil").offsetTop(d,c.initialScrollY),g=b("CometVisualCompletionUtil").getBoundingClientRect(d,c.measureOriginalViewport?f:void 0);g=b("CometVisualCompletionUtil").getRectIntersection(g,e.rectangle);var h=b("CometVisualCompletionUtil").getPixels(g);if(!h)return;if(c.measureOriginalViewport&&f>c.$6.height)return;var i=b("CometVisualCompletionUtil").trimHash(c.getStyleBackground(d));if(i!=null&&i!==""&&c.$5.has(i)){d={children:[],element:d,latency:c.$5.get(i)+b("performanceNavigationStart")()-c.$4,mutationType:"bg",offsetTop:f,parent:e,pixels:h,rectangle:g,timestamp:c.$5.get(i)+b("performanceNavigationStart")(),type:"bg",url:i,veid:String(a.$13++)};e.children.push(d)}})});this.$10=b("performanceAbsoluteNow")()-d};c.getImages=function(){__p&&__p();var c=this,d=document.querySelectorAll("img");Array.prototype.forEach.call(d,function(d){__p&&__p();if(typeof d.currentSrc!=="string"||d.currentSrc==="")return;var e=c.findParent(d);if(!e)return;var f=b("CometVisualCompletionUtil").offsetTop(d,c.initialScrollY),g=b("CometVisualCompletionUtil").getBoundingClientRect(d,c.measureOriginalViewport?f:void 0);g=b("CometVisualCompletionUtil").getRectIntersection(g,e.rectangle);if(d.parentElement){var h=b("CometVisualCompletionUtil").getBoundingClientRect(d.parentElement,c.measureOriginalViewport?b("CometVisualCompletionUtil").offsetTop(d.parentElement,c.initialScrollY):void 0);g=b("CometVisualCompletionUtil").getRectIntersection(g,b("CometVisualCompletionUtil").getRectIntersection(h,e.rectangle))}h=b("CometVisualCompletionUtil").getPixels(g);if(!h)return;if(c.measureOriginalViewport&&f>c.$6.height)return;var i=d.currentSrc;i=b("CometVisualCompletionUtil").trimHash(i);if(i!=null&&i!==""&&c.$5.has(i)){d={children:[],element:d,latency:c.$5.get(i)+b("performanceNavigationStart")()-c.$4,mutationType:"img",offsetTop:f,parent:e,pixels:h,rectangle:g,timestamp:c.$5.get(i)+b("performanceNavigationStart")(),type:"img",url:i,veid:String(a.$13++)};e.children.push(d)}})};c.getStyleBackground=function(a){__p&&__p();if(typeof window.getComputedStyle!=="function")return null;this.$7++;a=window.getComputedStyle(a);var b=a["background-image"];if(a.visibility!=="hidden"&&b&&b!=="none"){g.lastIndex=0;a=g.exec(b);if(a&&a.length>1)return a[1].replace('"',"")}return null};c.initTree=function(){__p&&__p();var c=this,d={bottom:this.$6.height,left:0,right:this.$6.width,top:-this.initialScrollY};this.$12.forEach(function(e){__p&&__p();var f=e[0],g=e[1];e=e[2];var h=b("CometVisualCompletionUtil").offsetTop(f,c.initialScrollY),i=b("CometVisualCompletionUtil").getBoundingClientRect(f,c.measureOriginalViewport?h:void 0);i=b("CometVisualCompletionUtil").getRectIntersection(i,d);if(b("CometVisualCompletionUtil").inAboveTheFold(f)){c.scrolledVC=Math.max(c.scrolledVC,g-c.$4);if(c.measureOriginalViewport&&h>c.$6.height)return;e={children:[],element:f,latency:g-c.$4,mutationType:e,offsetTop:h,parent:null,pixels:b("CometVisualCompletionUtil").getPixels(i),rectangle:i,timestamp:g,type:"component",veid:String(a.$13++)};h=f.getAttribute("data-veid");h!=null&&h!==""&&c.$3["delete"](h);f.setAttribute("data-veid",e.veid);c.$3.set(e.veid,e)}});this.$3.forEach(function(a){var d=c.findParent(a.element);d?(a.rectangle=b("CometVisualCompletionUtil").getRectIntersection(a.rectangle,d.rectangle),a.pixels=b("CometVisualCompletionUtil").getPixels(a.rectangle),d.children.push(a),a.parent=d):c.$1.push(a)})};c.setResourceTimingMap=function(){var a=this;if(typeof b("performance").getEntriesByType==="function"){var c=b("performance").getEntriesByType("resource");c.forEach(function(c){var d=b("CometVisualCompletionUtil").trimHash(c.name);d!=null&&d!==""&&a.$5.set(d,c.responseEnd)})}};c.calculatePaintedPixels=function(a,b){var c=this,d=b,e=0;a.sort(function(a,b){return b.timestamp-a.timestamp}).forEach(function(a){a.pixels=Math.min(d,a.pixels),e+=a.pixels,d-=a.pixels,a.pixels-=c.calculatePaintedPixels(a.children,a.pixels),a.timestamp>c.$4&&(a.type!=="component"&&a.parent&&a.parent.timestamp>a.timestamp&&(a.latency=a.parent.latency),c.$9+=a.pixels,c.$2.push(a))});return e};c.inOriginalViewport=function(a){return b("CometVisualCompletionUtil").inAboveTheFold(a)&&b("CometVisualCompletionUtil").offsetTop(a,this.initialScrollY)<=this.$6.height};c.setInitialScrollY=function(a){this.initialScrollY=a};c.setNavCompleteTime=function(a){this.$11=a,this.navDone=!0};c.setTracePolicy=function(a){this.tracePolicy=a};c.setupMetaData=function(a){__p&&__p();var c=b("VisibilityListener").getHiddenTimings(a.startTime,a.startTime+a.visuallyComplete);if(c!=null&&c.length>0){c=c.filter(function(b){return b.key>=a.startTime&&b.key<=a.startTime+a.visuallyComplete});for(var d=0;d<c.length;d++)if(c[d].value){a.markerPoints.set("backgrounded",{timestamp:c[d].key});break}}c=b("VisibilityListener").getHiddenTime(a.startTime,a.startTime+a.visuallyComplete);a.annotations.set("hidden",c!=null&&c>0?1:0);a.tracePolicy!=null&&a.tracePolicy!==""&&a.annotations.set("tracePolicy",a.tracePolicy);a.annotations.set("interactionId",a.traceId);a.annotations.set("height",a.viewport.height);a.annotations.set("width",a.viewport.width);a.annotations.set("scrollY",a.scrollY);a.annotations.set("initialScrollY",a.initialScrollY);a.annotations.set("overhead",a.calcLatency);a.annotations.set("navSequence",a.navSequence);a.markerPoints.set("speedIndex",{timestamp:a.speedIndex});a.navSequence===1&&b("performance")&&b("performance").timing&&(b("performance").timing.responseStart&&a.markerPoints.set("TTFB",{timestamp:b("performance").timing.responseStart-a.startTime}));a.elements.length&&(a.vcWithoutImage>0&&a.markerPoints.set("vcWithoutImage",{timestamp:a.vcWithoutImage}),this.measureOriginalViewport&&a.scrolledVC>0&&a.markerPoints.set("scrolledVC",{timestamp:a.scrolledVC}))};return a}();a.$13=1;e.exports=a}),null);
__d("CometVisualCompletionTraceForInteraction",["CometInteractionTracingMetrics","CometVisualCompletionTrace","CometVisualCompletionUtil","IntersectionObserver","JSScheduler","MutationObserver","intersectionObserverEntryIsIntersecting","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={attributes:!0,characterData:!0,childList:!0,subtree:!0};function h(a){return typeof a.getAttribute!=="function"?!0:!a.getAttribute("data-novc")}function i(a){var b=new Set();Array.prototype.forEach.call(a,function(a){a.removedNodes&&a.removedNodes.length&&Array.prototype.forEach.call(a.removedNodes,function(a){b.add(a)})});return b}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();var f;f=a.call(this,c,d,e)||this;f.$CometVisualCompletionTraceForInteraction1=new Set();f.$CometVisualCompletionTraceForInteraction2=new Set();f.$CometVisualCompletionTraceForInteraction3=new Map();f.$CometVisualCompletionTraceForInteraction4=0;f.$CometVisualCompletionTraceForInteraction5=[];f.mutationCallback=function(a){var c=b("performanceAbsoluteNow")(),d="m_"+f.$CometVisualCompletionTraceForInteraction4++;f.holdTrigger(d);b("JSScheduler").scheduleNormalPriCallback(function(){var b=i(a);Array.prototype.forEach.call(a,function(a){f.mutationRecordHandler(a,c,b)});f.resumeTrigger(d)})};f.waitImage=function(a){__p&&__p();if(a.src==null||a.src===""||a.src.indexOf("http")!==0)return;var c=a.src,d;c.indexOf("#")>=0&&(d=b("CometVisualCompletionUtil").trimHash(c));if(!f.checkResourceTimingDone(c)&&(d==null||!f.checkResourceTimingDone(d))){var e=new Image();e.onload=e.onerror=function(){b("JSScheduler").scheduleNormalPriCallback(function(){f.imageDone(c),e=null})};f.imageWait(c);e.src=a.src}};f.mutationObserver=new(b("MutationObserver"))(f.mutationCallback);f.measureOriginalViewport=!1;return f}var d=c.prototype;d.checkResourceTimingDone=function(a){a=b("performance").getEntriesByName(a);return a.length>0&&a[0].responseEnd};d.holdTrigger=function(a){var b=this;this.$CometVisualCompletionTraceForInteraction1.add(a);return function(){b.resumeTrigger(a)}};d.loadingStateShown=function(a,c){var d=c;c||(this.holdTrigger(a),this.markerPoints.has("loadingState_start")||this.addMarkerPoint("loadingState_start",b("performanceAbsoluteNow")()),d=!0);return d};d.loadingStateRemoved=function(a,c){var d=c;c&&(this.addMarkerPoint("loadingState_end",b("performanceAbsoluteNow")()),d=!1,this.resumeTrigger(a));return d};d.imageDone=function(a){if(!this.$CometVisualCompletionTraceForInteraction2.has(a))return;this.$CometVisualCompletionTraceForInteraction2["delete"](a);this.runInstrumentation()};d.imageWait=function(a){this.$CometVisualCompletionTraceForInteraction2.add(a)};d.mutationRecordHandler=function(a,b,c){var d=this;a.type==="childList"&&a.addedNodes&&a.addedNodes.length?Array.prototype.forEach.call(a.addedNodes,function(a){if(h(a)){var e=c.has(a)?"mutationReplace":"mutationAdd";d.trackElement(a,b,e)}}):a.type==="attributes"&&(a.attributeName==="style"||a.attributeName==="hidden")&&h(a.target)&&this.trackElement(a.target,b,"mutationStyleAttribute")};d.waitLoadingState=function(a){__p&&__p();var c=this,d=this.$CometVisualCompletionTraceForInteraction3.get(a);if(d!=null)return d;var e=!1,f="l_"+this.$CometVisualCompletionTraceForInteraction4++;b("CometVisualCompletionUtil").inAboveTheFold(a)&&(e=this.loadingStateShown(f,e));d=function(a,d){b("JSScheduler").scheduleNormalPriCallback(function(){Array.prototype.forEach.call(a,function(a){b("intersectionObserverEntryIsIntersecting")(a)?e=c.loadingStateShown(f,e):e=c.loadingStateRemoved(f,e)})})};var g=new(b("IntersectionObserver"))(d);g.observe(a);d=function(){g.disconnect(),c.$CometVisualCompletionTraceForInteraction3["delete"](a),e=c.loadingStateRemoved(f,e)};this.$CometVisualCompletionTraceForInteraction3.set(a,d);return d};d.resumeTrigger=function(a){if(!this.$CometVisualCompletionTraceForInteraction1.has(a))return;this.$CometVisualCompletionTraceForInteraction1["delete"](a);this.runInstrumentation()};d.observeMutation=function(a){this.mutationObserver.observe(a,g)};d.trackElement=function(a,c,d){__p&&__p();if(a!=null&&b("CometVisualCompletionUtil").inAboveTheFold(a)){if(a.tagName==="IMG"){this.waitImage(a);return}this.addVisualElement(a,d,c);if(typeof b("performance").getEntriesByName==="function"){d=a.querySelectorAll("img");Array.prototype.forEach.call(d,this.waitImage)}}};d.onComplete=function(a){this.$CometVisualCompletionTraceForInteraction5.push(a)};d.runInstrumentation=function(){__p&&__p();var a=this;if(this.report!=null||this.$CometVisualCompletionTraceForInteraction1.size>0||this.$CometVisualCompletionTraceForInteraction2.size>0)return;var c=this.mutationObserver.takeRecords();if(c&&c.length){var d=b("performanceAbsoluteNow")(),e=i(c);Array.prototype.forEach.call(c,function(b){a.mutationRecordHandler(b,d,e)})}this.mutationObserver.disconnect();this.$CometVisualCompletionTraceForInteraction3.forEach(function(a){a()});var f=b("CometInteractionTracingMetrics").get(this.traceID);if(!f)return;c=this.calculate();c!=null&&(f.vcReport=c,f.metadata.height=c.viewport.height,f.metadata.width=c.viewport.width,f.metadata.scrollY=c.scrollY,c.markerPoints.forEach(function(a,b){a=a.timestamp;f.markerPoints[b]={timestamp:a+f.start,type:"VisualCompletion"}}),f.markerPoints.visuallyComplete={timestamp:c.visuallyComplete+f.start,type:"VisualCompletion"});this.$CometVisualCompletionTraceForInteraction5.forEach(function(a){a()})};return c}(b("CometVisualCompletionTrace"));e.exports=a}),null);
__d("CometInteractionVC",["CometInteractionTracingMetrics","CometVisualCompletionTraceForInteraction","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("performanceNavigationStart")();a={observeMutation:function(a,c){a=b("CometInteractionTracingMetrics").get(a);a&&a.vcTracker&&a.vcTracker.observeMutation(c)},startVisualCompletionTrace:function(a){a=b("CometInteractionTracingMetrics").get(a);a&&a.type==="INTERACTION"&&!a.vcTracker&&(a.vcTracker=new(b("CometVisualCompletionTraceForInteraction"))(a.start+g,0,a.traceId),a.vcTracker.holdTrigger(a.traceId))},trackLoadingState:function(a){var c=[];b("CometInteractionTracingMetrics").currentInteractionLogger().forEach(function(b){b.vcTracker&&c.push(b.vcTracker.waitLoadingState(a))});return c},trackVisualCompletion:function(a){b("CometInteractionTracingMetrics").currentInteractionLogger().forEach(function(c){c.vcTracker&&(c.vcTracker.trackElement(a,b("performanceAbsoluteNow")(),"mutationRoot"),c.vcTracker&&c.vcTracker.observeMutation(a))})}};e.exports=a}),null);
__d("CometVisualChangeObserver",["CometVisualCompletion","CometVisualCompletionUtil","JSScheduler","MutationObserver","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=1,i={attributes:!0,characterData:!0,childList:!0,subtree:!0};function j(a){a=b("performance").getEntriesByName(a);return a.length>0&&a[0].responseEnd}function k(a){__p&&__p();if(a.src==null||a.src===""||a.src.indexOf("http")!==0)return;var c=a.src,d;c.indexOf("#")>=0&&(d=b("CometVisualCompletionUtil").trimHash(c));if(!j(c)&&(d==null||!j(d))){var e=new Image();e.onload=e.onerror=function(){b("JSScheduler").scheduleNormalPriCallback(function(){b("CometVisualCompletion").imageDone(c),e=null})};b("CometVisualCompletion").imageWait(c);e.src=a.src}}function l(a,c,d){__p&&__p();if(a!=null&&b("CometVisualCompletionUtil").inAboveTheFold(a)){if(a.tagName==="IMG"){k(a);return}b("CometVisualCompletion").addVisualElement(a,d,c);if(typeof b("performance").getEntriesByName==="function"){d=a.querySelectorAll("img");Array.prototype.forEach.call(d,k)}}}var m=0;function n(a){return typeof a.getAttribute!=="function"?!0:!a.getAttribute("data-novc")}var o=function(a,b,c){__p&&__p();if(a.type==="childList"&&a.addedNodes&&a.addedNodes.length)Array.prototype.forEach.call(a.addedNodes,function(a){if(n(a)){var d=c.has(a)?"mutationReplace":"mutationAdd";l(a,b,d)}});else if(a.type==="attributes"&&n(a.target))if(a.attributeName==="hidden")l(a.target,b,"mutationHiddenAttribute");else if(a.attributeName==="style"){var d=a.target.getAttribute("style");d!=null&&d!==""&&d.contains("visibility")&&l(a.target,b,"mutationStyleAttribute")}};a=function(a){__p&&__p();var c=b("performanceAbsoluteNow")(),d="m_"+m++;b("CometVisualCompletion").holdTrigger(d);b("JSScheduler").scheduleNormalPriCallback(function(){var e=new Set();Array.prototype.forEach.call(a,function(a){a.removedNodes&&a.removedNodes.length&&Array.prototype.forEach.call(a.removedNodes,function(a){e.add(a)})});Array.prototype.forEach.call(a,function(a){o(a,c,e)});b("CometVisualCompletion").resumeTrigger(d)})};var p=new(b("MutationObserver"))(a);c={observe:function(a,c){c===void 0&&(c=!1);var d=h++;g.set(d,a);c||l(a,b("performanceAbsoluteNow")(),"mutationRoot");p.observe(a,i);return function(){g["delete"](d)}},start:function(){g.forEach(function(a){p.observe(a,i)})},stop:function(){__p&&__p();var a=p.takeRecords();if(a&&a.length){var c=b("performanceAbsoluteNow")(),d=new Set();Array.prototype.forEach.call(a,function(a){a.removedNodes&&a.removedNodes.length&&Array.prototype.forEach.call(a.removedNodes,function(a){d.add(a)})});Array.prototype.forEach.call(a,function(a){o(a,c,d)})}p.disconnect()}};e.exports=c}),null);
__d("CometVisualCompletionQPL",["CometInteractionTracingMetrics","CometVisualCompletionQuickLogModule","QuickPerformanceLogger","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometVisualCompletionQuickLogModule").COMET_VISUALLY_COMPLETE_WWW;function h(a){var c=b("CometInteractionTracingMetrics").get(a.traceId);if(c){c.metadata.containsDataFromOtherInteraction&&a.annotations.set("containsDataFromOtherInteraction",1);if(c.subSpans.EventQueued!=null){c=c.subSpans.EventQueued[0];a.markerPoints.set("eventQueueEnd",{timestamp:c.end-c.start})}}}function i(a){b("QuickPerformanceLogger").markerStart(g,0,a)}function j(a,c){h(a),a.markerPoints.forEach(function(c,d){var e=c.timestamp;c=c.data;b("QuickPerformanceLogger").markerPoint(g,d,c&&Object.keys(c).length?JSON.stringify(c):void 0,0,e+a.startTime)}),a.tagSet.forEach(function(a,c){a=Array.from(a);b("QuickPerformanceLogger").annotateMarkerStringArray(g,c,a,0)}),a.annotations.forEach(function(a,c){typeof a==="string"?b("QuickPerformanceLogger").annotateMarkerString(g,c,a,0):typeof a==="number"&&b("QuickPerformanceLogger").annotateMarkerInt(g,c,a,0)}),b("QuickPerformanceLogger").annotateMarkerString(g,"rendering_strategy_selection_implementation",b("gkx")("940313")?"parallel":"serial"),b("QuickPerformanceLogger").markerEnd(g,c,0,a.visuallyComplete+a.startTime)}function k(){b("QuickPerformanceLogger").markerDrop(g,0)}a={drop:function(){k()},logIncompleteVC:function(a){if(!a||a.tracePolicy==null||a.tracePolicy===""){k();return}a.visuallyComplete=b("performanceAbsoluteNow")()-a.startTime;j(a,"CANCEL")},logVC:function(a){a.tracePolicy==null||a.tracePolicy===""||a.visuallyComplete===0?k():j(a,"SUCCESS")},start:function(a){i(a)}};e.exports=a}),null);
__d("CometVisualCompletion",["CometInteractionTracingMetrics","CometVisualChangeObserver","CometVisualCompletionConstants","CometVisualCompletionQPL","CometVisualCompletionTrace","CometVisualCompletionUtil","IntersectionObserver","JSScheduler","JSTracing","intersectionObserverEntryIsIntersecting","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0,h=new Set(),i=new Map(),j=new Set(),k=null,l=new Map(),m,n=[];function o(){n.forEach(function(a){a(m)}),q.logQPL()}function p(){if(k==null||m||h.size>0||i.size>0||j.size>0)return;b("CometVisualChangeObserver").stop();m=k.calculate();o()}var q={addAnnotation:function(a,b){k!=null&&k.addAnnotation(a,b)},addMarkerPoint:function(a,c,d){c===void 0&&(c=b("performanceAbsoluteNow")()),d===void 0&&(d={}),k!=null&&c!=null&&c>0&&k.addMarkerPoint(a,c,d)},addRenderingInfo:function(a,c,d){__p&&__p();if(k!=null&&m==null&&a!=null){var e=[],f=b("JSTracing").getCurrent();f&&f.size&&f.forEach(function(a){a=b("CometInteractionTracingMetrics").get(a.name);e.push(a?a.type:"UNKNOWN")});f=k.inOriginalViewport(a)?1:0;a=b("performanceAbsoluteNow")();var g={interaction:e.join(","),visible:f};d!=null&&(g.position=d);(d==null||d<10)&&q.addMarkerPoint("Render_"+c+(d!=null?"_"+d:""),a,g);f===1&&(d!=null&&q.addMarkerPoint("Render_"+c+"_LastVisible",a,g),q.addMarkerPoint("LastVisibleRender",a,babelHelpers["extends"]({},g,{name:c})))}},addSSRRootElement:function(a,c){q.addVisualElement(a,"ssrRoot",c);c=a.querySelectorAll("["+b("CometVisualCompletionConstants").LOADING_ELEMENT_ATTR+"]");Array.prototype.forEach.call(c,function(a){q.inAboveTheFold(a)&&q.waitOnLoadingElement(a)})},addTag:function(a,b){k!=null&&k.addTag(a,b)},addTracedInteraction:function(a,c,d){__p&&__p();var e=1,f=null;l.get(a)&&(e=l.get(a)+1);l.set(a,e);if(k!=null){k.addAnnotation("count_"+a,e);if(e>10)return function(){};f=k.traceID;k.addMarkerPoint(a+"_"+e+"_start",b("performanceAbsoluteNow")(),{interactionId:c,qplEvent:d})}return function(){k!=null&&k.traceID===f&&k.addMarkerPoint(a+"_"+e+"_end",b("performanceAbsoluteNow")(),{interactionId:c,qplEvent:d})}},addVisualElement:function(a,c,d){d===void 0&&(d=b("performanceAbsoluteNow")()),k!=null&&a!=null&&k.addVisualElement(a,c,d)},dumpWaits:function(){return[h,new Set(i.keys()),j]},getReport:function(){return m},holdTrigger:function(a){h.add(a);return function(){q.resumeTrigger(a)}},imageDone:function(a){if(!j.has(a))return;j["delete"](a);p()},imageWait:function(a){j.add(a)},inAboveTheFold:function(a){return b("CometVisualCompletionUtil").inAboveTheFold(a)},loadingElementDone:function(a){var b=i.get(a);if(b==null)return;i["delete"](a);p()},logQPL:function(){m&&b("CometVisualCompletionQPL").logVC(m)},resumeTrigger:function(a){if(!h.has(a))return;h["delete"](a);p()},setInitialScrollY:function(a){k!=null&&k.setInitialScrollY(a)},setRoute:function(a){k!=null&&a!=null&&k.setTracePolicy(a)},subscribe:function(a){n.push(a)},traceNavigation:function(a,c){__p&&__p();var d=null;if(k!=null&&m==null){d=k.traceID;k.addAnnotation("incompleteWaitCount",h.size);k.addAnnotation("incompleteLoadingElementsCount",i.size);k.addAnnotation("incompleteImageCount",j.size);k.addAnnotation("incomplete",1);var e=k.calculate();b("CometVisualCompletionQPL").logIncompleteVC(e)}b("CometVisualCompletionQPL").start(c);k=new(b("CometVisualCompletionTrace"))(c,++g,a);d!=null&&k.addAnnotation("incompletePreviousTrace",d);m=null;l.clear();h.clear();i.clear();j.clear();q.holdTrigger(a);e=function(b){k!=null&&a===k.traceID&&(b.completed!=null&&k.setNavCompleteTime(b.completed-b.start),q.resumeTrigger(a))};o();return e},unsubscribe:function(a){n=n.filter(function(b){return b!==a})},waitOnLoadingElement:function(a){__p&&__p();var c=i.get(a);if(c!=null)return c;c=function(c,d){b("JSScheduler").scheduleNormalPriCallback(function(){Array.prototype.forEach.call(c,function(c){b("intersectionObserverEntryIsIntersecting")(c)||(d.disconnect(),q.loadingElementDone(a))})})};var d=new(b("IntersectionObserver"))(c);d.observe(a);c=function(){d.disconnect(),q.loadingElementDone(a)};i.set(a,c);return c}};e.exports=q}),null);
__d("CometHeroInteractionImpl.react",["Promise","CometHeroInteractionContext","CometHeroLogging","CometInteractionTracingMetrics","FBLogger","HiddenSubtreePassiveContext","JSScheduler","PromiseAnnotate","React","cancelAnimationFrame","performanceNow","relay-experimental/ProfilerContext","relay-runtime","requestAnimationFrame","useLayoutEffect_SSR_WORKAROUND_FIXME","useStable","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("relay-runtime").RelayProfiler,h="Interaction Start",i=["root"],j=new WeakSet();function k(a,c){c=c+"_start";b("CometHeroLogging").markStart(a,c)}function l(a,c,d,e,f){d=d+"_start";b("CometHeroLogging").markEnd(a,c,[].concat(e),"PlaceholderWait","Placeholder Wait: "+(f!=null?f:"No Promises"),d)}function m(a,c,d,e,f,g){b("CometHeroLogging").markEnd(a,c,f,"Relay","Relay("+e+(g?",Network":"")+")","Relay_"+d+"_"+e,{fetchedFromNetwork:g,queryName:e})}function n(a,c,d,e){b("CometHeroLogging").markStart(c,"Relay_"+d+"_"+e)}function o(a,c,d,e,f){if(f==null)return function(){};var g=b("CometHeroLogging").getSimpleUUID();n(a,c,g,f.queryName);return function(e){e=!f.usedCache&&!f.usedPrefetcher;e&&f!=null&&b("FBLogger")("comet_infra").addToCategoryKey(f.queryName).warn("Interaction Query '%s' is not using Relay EntryPoints leading to bad performance: https://fburl.com/wiki/3tudp9id",f.queryName);m(a,c,g,f.queryName,d,e)}}function a(a){__p&&__p();var c=a.children,d=a.interactionDesc,e=a.interactionUUID,f=b("useStable")(b("uuid")),m=b("React").useRef(null),n=b("React").useRef(null),p=b("React").useContext(b("HiddenSubtreePassiveContext")),q=d!=null?d:"No Description",r=b("React").useRef({}),s=b("React").useRef(null),t=b("useStable")(b("CometInteractionTracingMetrics").currentInteractionLogger),u=b("React").useCallback(function(a,c){n.current!==a&&m.current==null&&!p.getCurrent()&&Object.values(r.current).length===0&&(m.current=b("requestAnimationFrame")(function(){m.current=null,!p.getCurrent()&&n.current!==a&&Object.values(r.current).length===0&&(n.current=a,b("CometHeroLogging").markEnd(t,a,i,"Interaction","Interaction Done: "+c,h))}))},[p,t]),v=b("React").useCallback(function(){var a=s.current;a!=null&&u(a.interactionUUID,a.interactionDesc)},[u]),w=b("React").useCallback(function(a,c){__p&&__p();var d=s.current;d!=null&&n.current!==d.interactionUUID&&(d!==null&&Object.keys(r.current).forEach(function(a){var c=r.current[a],d=c.thenables;d=b("CometHeroLogging").createThenableDescription(d);l(t,f,a,c.pageletStack,d)}),b("CometHeroLogging").markEnd(t,d.interactionUUID,i,"Interaction","Interaction Aborted ("+c+"): "+d.interactionDesc,h),a!==null&&d.interactionUUID===a.interactionUUID&&b("CometHeroLogging").markStart(a.interactionUUID,h));n.current=null;b("cancelAnimationFrame")(m.current);m.current=null;s.current=a;a!=null&&Object.keys(r.current).forEach(function(a){k(f,a)})},[f,t]);b("useLayoutEffect_SSR_WORKAROUND_FIXME")(function(){var a=null;e!=null&&(a={interactionDesc:q,interactionUUID:e});w(a,"New Interaction");e!=null&&u(e,q)},[q,e,w]);b("useLayoutEffect_SSR_WORKAROUND_FIXME")(function(){if(e!=null){var a=p.getCurrent(),b=p.subscribe(function(b){a!==b&&(a=b,b?w({interactionDesc:q,interactionUUID:e},"Hidden"):u(e,q))});return function(){return b.remove()}}},[p,e,q,w,u]);b("React").useEffect(function(){return function(){w(null,"Unmount")}},[w]);var x=b("React").useMemo(function(){__p&&__p();var a={getRelayProfilerContext:function(a){return{wrapPrepareQueryResource:function(b){var c=o.bind(null,t,f,a);g.attachProfileHandler("fetchRelayQuery",c);try{b=b();return b}finally{g.detachProfileHandler("fetchRelayQuery",c)}}}},hold:function(c){var d=b("CometHeroLogging").getSimpleUUID();a.registerPlaceholder(d,c);var e=new(b("Promise"))(function(){});b("PromiseAnnotate").setDisplayName(e,"Hold");a.suspenseCallback(d,c,new Set([e]));return d},logCometHero:function(a,c){var d=b("performanceNow")();b("JSScheduler").runWithPriority(b("JSScheduler").priorities.unstable_Immediate,function(){b("JSScheduler").defer(function(){var e=s.current;e!=null&&b("CometHeroLogging").markEnd(t,e.interactionUUID,[].concat(c),"HeroRendering","Hero Rendering: "+a,h,void 0,d)})})},pageletStack:i,registerPlaceholder:function(a,c){var d=r.current[a]==null;if(!d)return;b("cancelAnimationFrame")(m.current);m.current=null;d=new Set();r.current[a]={pageletStack:c,thenables:d};k(f,a)},removePlaceholder:function(a){var c=r.current[a]!=null;if(!c)return;c=r.current[a];delete r.current[a];v();var d=c.thenables;d=b("CometHeroLogging").createThenableDescription(d);l(t,f,a,c.pageletStack,d)},suspenseCallback:function(a,c,d){__p&&__p();var e=r.current[a];e=e==null?void 0:e.thenables;r.current[a]==null&&k(f,a);r.current[a]={pageletStack:c,thenables:d};d.forEach(function(a){if(!j.has(a)){var d;j.add(a);var e=(d=b("PromiseAnnotate").getDisplayName(a))!=null?d:"Promise",g=b("CometHeroLogging").getSimpleUUID();b("CometHeroLogging").markStart(f,g);a.then(function(){b("CometHeroLogging").markEnd(t,f,c,"SuspensePromise","Promise: "+e,g)})}});e=b("CometHeroLogging").createThenableDescription(e);d=b("CometHeroLogging").createThenableDescription(d);d!==e&&(e!=null&&(l(t,f,a,c,e),k(f,a)))},unhold:function(b){a.removePlaceholder(b)}};return a},[t,f,v]);a=b("React").useMemo(function(){return x.getRelayProfilerContext(x.pageletStack)},[x]);return b("React").createElement(b("CometHeroInteractionContext").Context.Provider,{value:x},b("React").createElement(b("relay-experimental/ProfilerContext").Provider,{value:a},c))}e.exports=a}),null);