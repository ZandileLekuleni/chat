if (self.CavalryLogger) { CavalryLogger.start_js(["NOUhS"]); }

__d("StaleVideoMonitor",["EventEmitter","EventListener","SubscriptionsHandler","clearTimeout","performanceNow","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g=1500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$StaleVideoMonitor4=null;d.$StaleVideoMonitor1=new(b("SubscriptionsHandler"))();d.$StaleVideoMonitor2=c.currentTime;d.$StaleVideoMonitor3=b("performanceNow")();d.$StaleVideoMonitor5=c;d.$StaleVideoMonitor1.addSubscriptions(b("EventListener").listen(c,"playing",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"play",function(){return d.$StaleVideoMonitor6()}),b("EventListener").listen(c,"timeupdate",function(){return d.$StaleVideoMonitor6()}));return d}var d=c.prototype;d.$StaleVideoMonitor7=function(){__p&&__p();if(this.$StaleVideoMonitor5){if(this.$StaleVideoMonitor5.paused||this.$StaleVideoMonitor5.playbackRate<=0)return;var a=this.$StaleVideoMonitor5.currentTime,c=this.$StaleVideoMonitor5.buffered,d=!1,e;for(e=0;e<c.length;++e){var f=c.start(e),g=c.end(e);if(f>a)break;if(f<=a&&g>=a+1){d=!0;break}}d&&(a===this.$StaleVideoMonitor2?this.emit("stale",b("performanceNow")()-this.$StaleVideoMonitor3,(a-this.$StaleVideoMonitor2)*1e3):this.$StaleVideoMonitor8())}};d.$StaleVideoMonitor9=function(a){var c=this;this.$StaleVideoMonitor10();this.$StaleVideoMonitor4=b("setTimeout")(function(){return c.$StaleVideoMonitor7()},a)};d.$StaleVideoMonitor10=function(){this.$StaleVideoMonitor4!==null&&(b("clearTimeout")(this.$StaleVideoMonitor4),this.$StaleVideoMonitor4=null)};d.$StaleVideoMonitor8=function(){this.$StaleVideoMonitor6()};d.$StaleVideoMonitor6=function(){this.$StaleVideoMonitor5&&(this.$StaleVideoMonitor2=this.$StaleVideoMonitor5.currentTime,this.$StaleVideoMonitor3=b("performanceNow")(),this.$StaleVideoMonitor9(g))};d.$StaleVideoMonitor11=function(){this.$StaleVideoMonitor1&&this.$StaleVideoMonitor1.release()};d.notifyBuffering=function(){this.$StaleVideoMonitor10()};d.notifyBuffered=function(){this.$StaleVideoMonitor9(g)};d.destroy=function(){this.$StaleVideoMonitor11(),this.$StaleVideoMonitor10(),this.$StaleVideoMonitor5=null};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoWatchTimeTracker",["getBufferedAheadOf"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$11=this.$2.currentTime,this.$12=0,this.$13=0,this.$14=null,this.STATE_PAUSE="pause",this.STATE_PLAYING="playing",this.STATE_BUFFERING_START="buffering_start",this.STATE_BUFFERING_END="buffering_end"}var c=a.prototype;c.$15=function(){var a=Math.max(this.$2.currentTime-this.$11,0);this.$4+=a;this.$3+=a;this.$11=this.$2.currentTime};c.$16=function(a){if(this.$13>0){a=Math.max(a-this.$13,0);this.$8+=a;this.$7+=a}};c.$17=function(){var a=b("getBufferedAheadOf")(this.$2),c=Math.max(this.$2.currentTime+a-this.$11-this.$12,0);this.$10+=c;this.$9+=c;this.$12=a};c.seekStart=function(){this.$17(),this.$15()};c.seekEnd=function(){this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)};c.pause=function(){this.$14=this.STATE_PAUSE,this.$17(),this.$15()};c.playing=function(){this.$17(),this.$15(),this.$14=this.STATE_PLAYING};c.bufferingStart=function(a){this.$14!=this.STATE_PAUSE?(this.$13=a,this.$6+=1,this.$5+=1):(this.$11=this.$2.currentTime,this.$12=b("getBufferedAheadOf")(this.$2)),this.$14=this.STATE_BUFFERING_START};c.bufferingEnd=function(a){this.$17(),this.$15(),this.$16(a),this.$14=this.STATE_BUFFERING_END,this.$13=0};c.update=function(a){this.$14==this.STATE_PLAYING?(this.$17(),this.$15()):this.$14==this.STATE_BUFFERING_START&&this.$16(a)};c.getWatchTimeSinceLastReport=function(){var a=this.$4;this.$4=0;return a};c.getTotalWatchTime=function(){return this.$3};c.getStallTimeSinceLastReport=function(){var a=this.$8;this.$8=0;return a};c.getTotalStallTime=function(){return this.$7};c.getStallCountSinceLastReport=function(){var a=this.$6;this.$6=0;return a};c.getTotalStallCount=function(){return this.$5};c.getBufferedTimeSinceLastReport=function(){var a=this.$10;this.$10=0;return a};c.getTotalBufferedTime=function(){return this.$9};c.getGuid=function(){return this.$1};return a}();e.exports=a}),null);
__d("AbstractVideoPlayerApi",["invariant","EventEmitter","VideoPlayerApiEvents"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.addListener=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.prototype.addListener.apply(this,c)};c.emit=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.prototype.emit.apply(this,c)};c.setRelativeSphericalOrientation=function(a,b){};b.isImplementationUnavailable=function(){return!0};c.isDrm=function(){return!1};c.setup=function(){};return b}(b("EventEmitter"));e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){function a(a){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState","getVideoBrowserTabId"],(function(a,b,c,d,e,f){__p&&__p();var g=-1,h=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function i(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&h){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,c,d,e,f,h){__p&&__p();var i=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=e;this._fireSeekEvents=f;this._useEventTime=c;this._recentPausedTime=null;var j=this.getVideoElement();if(h){var k=j.pause;j.pause=function(){i._recentPausedTime=j.currentTime;return k.apply(j)}}d&&(this._overwriteVideoCurrentTimeProperty(j),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=g;this._muted=b("getHTMLMediaElementMutedState")(j);this._pausedPosition=g;this._seeking=!1;this._seekSourceTimePosition=g;this._currentTimeAtSeekStart=g;this._volume=j.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=g;a=!1;j.readyState>=j.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;e=this.getSubscriptions();a&&e.addSubscriptions(b("EventListener").listen(j,"canplay",this._logReadyToPlay.bind(this)));e.addSubscriptions(b("EventListener").listen(j,"ended",this.onEnded.bind(this)),b("EventListener").listen(j,"pause",this.onPause.bind(this)),b("EventListener").listen(j,"playing",this.onPlaying.bind(this)),b("EventListener").listen(j,"seeked",this.onSeeked.bind(this)),b("EventListener").listen(j,"seeking",this.onSeeking.bind(this)),b("EventListener").listen(j,"play",this.onPlay.bind(this)),b("EventListener").listen(j,"loadedmetadata",this.onLoadedMetadata.bind(this)),b("EventListener").listen(j,"timeupdate",this.onTimeUpdate.bind(this)),b("EventListener").listen(j,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTime){this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(b("VideoPlayerLoggerEvent").HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,c){__p&&__p();this._loggedEvents[a]=!0;c=c?c:{};c.video_id=this.getVideoID();c.browser_tab_id=b("getVideoBrowserTabId")();c.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(c,"video_time_position")||(c.video_time_position=this._getVideoCurrentTime());c.time_ms||(c.time_ms=Date.now());c.time=Math.round(c.time_ms/1e3);if(this.getAdClientToken){var d=this.getAdClientToken();d&&(c.ad_client_token=d)}this.getPlayerFormat&&(c.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(c.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(c.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,c)},_logReadyToPlay:function(){this._logOnce(b("VideoPlayerLoggerEvent").READY_TO_PLAY)},__setPendingPlayRequest:function(a){this._pendingPlayRequest=a},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var c=this.getVideoElement();if(this._pendingPlayRequest){var d={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,d);return}d=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);d=c.ended||d&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)?b("VideoPlayerLoggerEvent").FINISHED_PLAYING:b("VideoPlayerLoggerEvent").PAUSED;var e=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;e&&(this._lastPlayedTime=e);e=this._lastPlayedTime;var f=this._lastStartTimePosition===g?this._lastPlayedTime:this._lastStartTimePosition;b("VideoPlayerHTML5Experiments").preventNegativeTimePositions&&(this._lastPlayedTime<0&&(e=0,this._lastStartTimePosition<0&&(f=0)));var h=a.lastPauseReason;if(d===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)e=Math.max(e,c.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(h=h||"unloaded");this._logEvent(d,this._amendEventTime({video_last_start_time_position:f,video_time_position:e,debug_reason:h},a));this._lastStartTimePosition=g},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==g&&b("UserAgent").isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};b("VideoPlayerHTML5Experiments").newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED,a);if(b("VideoPlayerHTML5Experiments").newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=g&&this._lastPlayedTime!=g&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=g);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;b("VideoPlayerHTML5Experiments").superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var c=this.getLastPlayReason();this._pendingPlayRequest=!1;var d=this._loggedEvents[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?b("VideoPlayerLoggerEvent").UNPAUSED:b("VideoPlayerLoggerEvent").STARTED_PLAYING;c=this._amendEventTime({debug_reason:c,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment){var e=this.getVideoElement().currentTime;e=e-a;c.time_ms-=Math.round(e*1e3)}this._logEvent(d,c);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var c=this._seekSourceTimePosition;this._seekSourceTimePosition=g;var d=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=g;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var e={video_seek_source_time_position:c,video_last_start_time_position:c};this._fixOvewrittenGetVideoCurrentTime&&(e.video_seek_source_time_position=d);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==g?e.video_last_start_time_position=this._lastStartTimePosition:e.video_last_start_time_position=c);c=b("VideoPlayerLoggerEvent").SCRUBBED;this._fireSeekEvents&&(c=b("VideoPlayerLoggerEvent").SEEKED,e={seek_from_video_time_position:d});this._logEvent(c,this._amendEventTime(e,a));d=this.getVideoElement();d.paused?this._lastStartTimePosition=g:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=g},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var c=this.getVideoElement(),d={},e=null;if(b("VideoPlayerHTML5Experiments").useFixedVolumeLogging){var f=c.muted,g=this._muted,h=c.volume,i=this._volume;d.current_volume=Math.round(h*100);this._volume=h;this._muted=f;f=f||h==0;g=g||i==0;if(g&&f)return;if(g!=f)f?e=b("VideoPlayerLoggerEvent").MUTED:e=b("VideoPlayerLoggerEvent").UNMUTED;else{if(i==h)return;h<i?e=b("VideoPlayerLoggerEvent").VOLUME_DECREASE:e=b("VideoPlayerLoggerEvent").VOLUME_INCREASE}}else c.muted!==this._muted&&c.volume===this._volume&&c.volume>0?e=c.muted?b("VideoPlayerLoggerEvent").MUTED:b("VideoPlayerLoggerEvent").UNMUTED:(e=c.volume>this._volume?b("VideoPlayerLoggerEvent").VOLUME_INCREASE:b("VideoPlayerLoggerEvent").VOLUME_DECREASE,d.current_volume=Math.round(c.volume*100)),this._muted=c.muted,this._volume=c.volume;this._logEvent(e,this._amendEventTime(d,a))},_amendEventTime:function(a,c){var d=this._useEventTime;b("VideoPlayerHTML5Experiments").fixEventTimeLogging&&(d=d&&c);if(d)return i(a,c);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===g?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);b("VideoPlayerHTML5Experiments").useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return b("VideoPlayerHTML5Experiments").fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===g&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("MediaBufferingDetector",["Event","EventEmitter","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerShakaGlobalConfig","clearInterval","performanceNow","setInterval"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$MediaBufferingDetector1=c;e.$MediaBufferingDetector2=new(b("SubscriptionsHandler"))();e.$MediaBufferingDetector1.paused||e.$MediaBufferingDetector8();e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"playing",function(){return e.$MediaBufferingDetector9()}),b("Event").listen(e.$MediaBufferingDetector1,"pause",function(){return e.$MediaBufferingDetector10()}),b("Event").listen(e.$MediaBufferingDetector1,"ended",function(){return e.$MediaBufferingDetector11()}),b("Event").listen(e.$MediaBufferingDetector1,"timeupdate",function(){return e.$MediaBufferingDetector12()}));e.$MediaBufferingDetector13("drop_buffering_detection_from_html5_api",!1)&&e.$MediaBufferingDetector2.addSubscriptions(b("Event").listen(e.$MediaBufferingDetector1,"waiting",function(){return e.$MediaBufferingDetector14()}));return e}var d=c.prototype;d.$MediaBufferingDetector15=function(){var a=b("performanceNow")(),c=this.$MediaBufferingDetector1.currentTime;a=a-this.$MediaBufferingDetector5;c=c-this.$MediaBufferingDetector6;c=c*1e3;c=a-c;var d=b("VideoPlayerHTML5Experiments").disableBufferAtEndOfPlayback&&this.$MediaBufferingDetector1.currentTime===this.$MediaBufferingDetector1.duration;a*.2<Math.abs(c)&&!d?this.$MediaBufferingDetector16():this.$MediaBufferingDetector17();this.$MediaBufferingDetector18()};d.$MediaBufferingDetector18=function(){this.$MediaBufferingDetector5=b("performanceNow")(),this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime};d.$MediaBufferingDetector8=function(){var a=this;if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector18();this.$MediaBufferingDetector4=b("setInterval")(function(){return a.$MediaBufferingDetector15()},500)};d.$MediaBufferingDetector19=function(){b("clearInterval")(this.$MediaBufferingDetector4),this.$MediaBufferingDetector4=null};d.$MediaBufferingDetector16=function(){if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!0;this.emit("bufferingStart")};d.$MediaBufferingDetector17=function(){if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=!1;this.emit("bufferingEnd")};d.$MediaBufferingDetector9=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector8()};d.$MediaBufferingDetector10=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector11=function(){this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19()};d.$MediaBufferingDetector12=function(){this.$MediaBufferingDetector1.paused||(this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector8())};d.$MediaBufferingDetector14=function(){this.$MediaBufferingDetector19(),this.$MediaBufferingDetector16()};d.$MediaBufferingDetector13=function(a,c){return this.$MediaBufferingDetector7?this.$MediaBufferingDetector7.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.destroy=function(){b("VideoPlayerExperiments").fireBufferingEndEventOnDestroy&&this.$MediaBufferingDetector17(),this.$MediaBufferingDetector19(),this.$MediaBufferingDetector2.release()};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoPlayerHTML5ApiCea608State",["Bootloader","Deferred","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this,d=a.onReady,e=a.onSubtitlesLoaded,f=a.createSubtitleDisplay;this.$1=null;this.$2=[];this.$3=null;this.$4={changedCount:0,dequeuedCount:0,erroredCount:0,processedCount:0,processStartedCount:0,queuedCount:0};this.stream=null;this.display=null;this.$1=b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(a,b){b=new b({onSubtitlesLoaded:e,onSubtitlesChanged:function(a,b){c.$4.changedCount++;var d=c.display;d&&d.handleSubtitlesChanged(a,b)}});c.stream=b;c.display=f(a);d(c)},"VideoPlayerHTML5ApiCea608State")}var c=a.prototype;c.enqueueBytes=function(a){this.$4.queuedCount++,this.$2.push(a),this.$5()};c.processQueue=function(){this.$5()};c.getStats=function(){return this.$4};c.destroy=function(){this.$1&&(this.$1.remove(),this.$1=null),this.display&&(this.display.destroy(),this.display=null),this.stream&&(this.stream.destroy(),this.stream=null),this.$4={changedCount:0,dequeuedCount:0,erroredCount:0,processedCount:0,processStartedCount:0,queuedCount:0}};c.$5=function(){__p&&__p();var a=this,c=this.stream;if(!c)return;var d=this.$2,e=this.$3,f=function(){__p&&__p();var f=d.shift();if(!e){var g=new(b("Deferred"))();g.resolve();e=g.getPromise()}a.$4.dequeuedCount++;a.$3=e=e.then(function(){a.$4.processStartedCount++;return c.processBytes(f).then(function(){a.$4.processedCount++})["catch"](function(c){a.$4.erroredCount++,b("FBLogger")("video").catching(c).mustfix("[VideoPlayerHTML5ApiCea608State] Caught error from CEA-608 stream processBytes")})})};while(d.length)f()};return a}();e.exports=a}),null);
__d("VideoPlayerHTML5ApiWebVttState",["Bootloader","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var c=this,d=a.onReady,e=a.onSubtitlesLoaded,f=a.createSubtitleDisplay;this.$1=null;this.stream=null;this.display=null;this.$1=b("Bootloader").loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(a,b){b=new b({onSubtitlesLoaded:e,onSubtitlesChanged:function(a,b){var d=c.display;d&&d.handleSubtitlesChanged(a,b)}});c.stream=b;c.display=f(a);d(c)},"VideoPlayerHTML5ApiWebVttState")}var c=a.prototype;c.loadSubtitles=function(a,c){var d=this.stream;if(!d)throw b("unrecoverableViolation")("[VideoPlayerHTML5ApiWebVttState] Called loadSubtitles when not ready; call from onReady callback.","video_captions");d.loadSubtitles(a,c)};c.destroy=function(){this.$1&&(this.$1.remove(),this.$1=null),this.display&&(this.display.destroy(),this.display=null),this.stream&&(this.stream.destroy(),this.stream=null)};return a}();e.exports=a}),null);
__d("onCanPlayHTMLMediaElement",["invariant","EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a>=b("HTMLMediaElementReadyStates").HAVE_FUTURE_DATA}function i(a,c){a instanceof window.HTMLMediaElement||g(0,4493);h(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"canplay",c)}i.once=function(a,b){var c=this,d=i(a,function(){if(!d)return;d.remove();d=null;for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=i}),null);
__d("onLoadedMetadataHTMLMediaElement",["EventListener","HTMLMediaElementReadyStates","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return a>=b("HTMLMediaElementReadyStates").HAVE_METADATA}function h(a,c){g(a.readyState)&&b("setImmediate")(c);return b("EventListener").listen(a,"loadedmetadata",c)}h.once=function(a,b){var c=this,d=h(a,function(){d.remove();for(var a=arguments.length,e=new Array(a),f=0;f<a;f++)e[f]=arguments[f];b.apply(c,e)})};e.exports=h}),null);
__d("seekHTMLMediaElementTo",["EventListener","onLoadedMetadataHTMLMediaElement","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d){__p&&__p();if(a.currentTime==c)return d&&b("setImmediate")(d);try{a.currentTime=c}catch(a){}if(a.currentTime)var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()});else b("onLoadedMetadataHTMLMediaElement")(a,function(){a.currentTime=c;var e=b("EventListener").listen(a,"seeked",function(){e.remove(),d&&d()})})}e.exports=a}),null);
__d("VideoPlayerHTML5Api",["cx","invariant","Promise","regeneratorRuntime","requireCond","AbstractVideoPlayerApi","Arbiter","CSS","Deferred","DOM","DOMDimensions","Event","EventListener","HVideoPlayerMixin","MediaBufferingDetector","Run","StaleVideoMonitor","SubscriptionsHandler","TimeRanges","VideoData","VideoFrameBuffer","VideoPlaybackQuality","VideoPlayerExperiments","cr:936794","VideoPlayerHTML5ApiCea608State","cr:1061104","VideoPlayerHTML5ApiWebVttState","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerMemLeakExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoPlayerUIComponentDrawer","VideoPlayerVersions","VideoPlayerWindowUtils","VideoQualityClasses","VideoWatchTimeTracker","classWithMixins","clearTimeout","dangerouslyOverrideMediaElementEndedProperty","dispatchEvent","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","getHTMLMediaElementMutedState","gkx","isHTML5VideoImplementationUnavailable","mixin","onCanPlayHTMLMediaElement","requireWeak","seekHTMLMediaElementTo","setTimeout"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("VideoPlaybackQuality").getDroppedFrames,j=b("VideoPlaybackQuality").getTotalFrames,k=null;b("requireWeak")("TVViewerConfigsManager",function(a){return k=a});var l=-1,m=.05,n=476,o=476;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.$VideoPlayerHTML5Api56=null;e.$VideoPlayerHTML5Api57=null;e.$VideoPlayerHTML5Api58=null;e.$VideoPlayerHTML5Api34=c;e.$VideoPlayerHTML5Api40=d?d.shakaConfig:null;e.$VideoPlayerHTML5Api14=e.$VideoPlayerHTML5Api34.id;e.preventSeekLoggingInMixin=!0;e.$VideoPlayerHTML5Api59("allow_seek_logging_in_mixin",!1)&&(e.preventSeekLoggingInMixin=!1);c=e.$VideoPlayerHTML5Api60();e.$VideoPlayerHTML5Api46=c.width;e.$VideoPlayerHTML5Api13=c.height;d?e.$VideoPlayerHTML5Api7=d:e.$VideoPlayerHTML5Api7=JSON.parse(e.$VideoPlayerHTML5Api34.getAttribute("data-config"));e.$VideoPlayerHTML5Api5=new(b("MediaBufferingDetector"))(e.$VideoPlayerHTML5Api34,e.$VideoPlayerHTML5Api40);e.$VideoPlayerHTML5Api5.addListener("bufferingStart",function(){return e.$VideoPlayerHTML5Api61()});e.$VideoPlayerHTML5Api5.addListener("bufferingEnd",function(){return e.$VideoPlayerHTML5Api62()});e.$VideoPlayerHTML5Api23=l;e.$VideoPlayerHTML5Api25=b("getHTMLMediaElementMutedState")(e.$VideoPlayerHTML5Api34);e.$VideoPlayerHTML5Api44=e.$VideoPlayerHTML5Api34.volume;e.$VideoPlayerHTML5Api24=!1;e.$VideoPlayerHTML5Api21=null;e.$VideoPlayerHTML5Api29=!1;e.$VideoPlayerHTML5Api3=!1;e.$VideoPlayerHTML5Api31=e.$VideoPlayerHTML5Api34.getAttribute("preload")=="auto";e.$VideoPlayerHTML5Api32=null;e.$VideoPlayerHTML5Api36=new(b("StaleVideoMonitor"))(e.$VideoPlayerHTML5Api34);e.$VideoPlayerHTML5Api36.addListener("stale",function(a,b){return e.$VideoPlayerHTML5Api63(a,b)});e.$VideoPlayerHTML5Api11=!1;e.$VideoPlayerHTML5Api39=!1;e.$VideoPlayerHTML5Api7.lazyPreload&&(e.$VideoPlayerHTML5Api7.onafterloadRegister?b("Run").onAfterLoad(function(){return e.$VideoPlayerHTML5Api34.setAttribute("preload",e.$VideoPlayerHTML5Api7.lazyPreload)}):e.$VideoPlayerHTML5Api34.setAttribute("preload",e.$VideoPlayerHTML5Api7.lazyPreload));e.$VideoPlayerHTML5Api9=e.$VideoPlayerHTML5Api7.disableNativeControls;e.$VideoPlayerHTML5Api51=e.$VideoPlayerHTML5Api7.subtitlesActive;e.$VideoPlayerHTML5Api64();e.preventPauseLoggingInMixin=!1;e.$VideoPlayerHTML5Api41=new(b("SubscriptionsHandler"))();e.$VideoPlayerHTML5Api65();e.$VideoPlayerHTML5Api18=e.$VideoPlayerHTML5Api7.useRateLimited;e.$VideoPlayerHTML5Api66(!1);c=b("VideoQualityClasses").indexOf("hd");e.$VideoPlayerHTML5Api17=e.$VideoPlayerHTML5Api7.minQuality!==null&&b("VideoQualityClasses").indexOf(e.$VideoPlayerHTML5Api7.minQuality)>=c;e.$VideoPlayerHTML5Api26=e.$VideoPlayerHTML5Api7.minQuality;e.$VideoPlayerHTML5Api27=e.$VideoPlayerHTML5Api7.maxQuality;e.$VideoPlayerHTML5Api2=e.$VideoPlayerHTML5Api7.accessToken;e.$VideoPlayerHTML5Api37=e.$VideoPlayerHTML5Api7.startTimestamp;e.$VideoPlayerHTML5Api33=m;e.$VideoPlayerHTML5Api4=e.$VideoPlayerHTML5Api7.autoFullscreenHD;e.$VideoPlayerHTML5Api30=null;e.$VideoPlayerHTML5Api47=!1;e.$VideoPlayerHTML5Api48=!1;e.$VideoPlayerHTML5Api49=e.$VideoPlayerHTML5Api7.unloadShouldCancelPendingRequest;e.$VideoPlayerHTML5Api43=e.$VideoPlayerHTML5Api40?e.$VideoPlayerHTML5Api40.getBool("enable_video_watch_time_tracker",!1)?new(b("VideoWatchTimeTracker"))(e.$VideoPlayerHTML5Api7.playerInstanceKey,e.$VideoPlayerHTML5Api34):null:null;e.$VideoPlayerHTML5Api50=null;return e}var d=c.prototype;d.setup=function(){this.switchVideo(0),this.initLogger(this.$VideoPlayerHTML5Api67.bind(this),this.$VideoPlayerHTML5Api7.useEventTime,this.$VideoPlayerHTML5Api59("overwrite_video_current_time_property",!1),this.$VideoPlayerHTML5Api59("fix_overwritten_get_video_current_time",!1),this.$VideoPlayerHTML5Api59("fire_seek_events",!1),this.$VideoPlayerHTML5Api59("fix_pause_current_time_in_mixin",!1)),this.$VideoPlayerHTML5Api68()};d.getAdClientToken=function(){this.$VideoPlayerHTML5Api7.ad_client_token};d.$VideoPlayerHTML5Api63=function(a,c){this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").STALE,{stale_detect_time_delta:a,stale_video_current_time_delta:c}),this.$VideoPlayerHTML5Api7.nudgeStaleVideo&&typeof this.$VideoPlayerHTML5Api7.staleVideoNudgeAmountMs==="number"&&this.seek(this.getCurrentTimePosition()+this.$VideoPlayerHTML5Api7.staleVideoNudgeAmountMs/1e3),b("VideoPlayerExperiments").showStaleOverlayOnVideoNodeStaled&&this.emit("videoNodeStaled")};d.$VideoPlayerHTML5Api61=function(){this.emit("buffering"),this.$VideoPlayerHTML5Api36.notifyBuffering(),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.bufferingStart(Date.now())};d.$VideoPlayerHTML5Api62=function(){this.emit("buffered"),this.$VideoPlayerHTML5Api36.notifyBuffered(),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.bufferingEnd(Date.now())};d.$VideoPlayerHTML5Api69=function(a){this.emit("bufferingProgress",a)};d.$VideoPlayerHTML5Api70=function(a){this.emit("replicaSwitch",a)};d.$VideoPlayerHTML5Api71=function(){this.emit("networkInterrupted")};d.$VideoPlayerHTML5Api72=function(){this.emit("networkResumed")};d.$VideoPlayerHTML5Api73=function(){this.emit("streamInterrupted"),this.$VideoPlayerHTML5Api47=!0,this.$VideoPlayerHTML5Api74()};d.$VideoPlayerHTML5Api75=function(){this.emit("seekRangeChanged")};d.$VideoPlayerHTML5Api76=function(){this.emit("streamResumed"),this.$VideoPlayerHTML5Api47=!1};d.$VideoPlayerHTML5Api59=function(a,c){return this.$VideoPlayerHTML5Api40?this.$VideoPlayerHTML5Api40.getBool(a,c):b("VideoPlayerShakaGlobalConfig").getBool(a,c)};d.getVideoPlayerShakaConfig=function(){return this.$VideoPlayerHTML5Api40||b("VideoPlayerShakaGlobalConfig")};d.isStreamInterrupted=function(){return this.$VideoPlayerHTML5Api47};d.getVideoID=function(){return this.$VideoPlayerHTML5Api8?this.$VideoPlayerHTML5Api8.getVideoID():this.$VideoPlayerHTML5Api7.video_id};d.getDroppedFrames=function(){return i(this.$VideoPlayerHTML5Api34)};d.getTotalFrames=function(){return j(this.$VideoPlayerHTML5Api34)};d.isDrm=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.isDrm():!1};d.getDebug=function(){return{VideoPlayerHTML5DashPlayer:this.$VideoPlayerHTML5Api35,VideoPlayerHTML5ApiCea608StateDebug:this.$VideoPlayerHTML5Api58}};d.getDOMElement=function(){return this.$VideoPlayerHTML5Api34};d.getVideoElement=function(){return this.$VideoPlayerHTML5Api34};d.getSubscriptions=function(){return this.$VideoPlayerHTML5Api41};c.onImplementationReady=function(a,b){b()};d.destroy=function(a){if(this.$VideoPlayerHTML5Api11)return;this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.disableP2PPlayback();a=a||{};this.$VideoPlayerHTML5Api11=!0;this.$VideoPlayerHTML5Api77();b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api5.destroy();a.renderStillFrame?this.abortLoading(a):(b("VideoPlayerHTML5Experiments").destroyWithoutStillFrame?this.abortLoadingWithoutStillFrame():this.abortLoading(a),this.$VideoPlayerHTML5Api78(),this.$VideoPlayerHTML5Api79&&b("DOM").remove(this.$VideoPlayerHTML5Api79));b("VideoPlayerMemLeakExperiments").clear_handlers_on_destroy&&this.$VideoPlayerHTML5Api41.release()};d.getVideoInfo=function(){var a=this.$VideoPlayerHTML5Api8;if(!a)return null;var b=this.getAvailableVideoQualities();return{isHD:b&&this.getSelectedVideoQuality()==b[b.length-1],streamType:a.getStreamType(),hasHD:b&&b.length>1,areSubtitlesActive:this.areSubtitlesActive(),areSubtitlesAutogenerated:this.areSubtitlesAutogenerated(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api16,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api35?"DASH manifest":this.$VideoPlayerHTML5Api80(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:a.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api18,projection:this.getVideoProjection(),tagSD:a.getSDTag(),tagHD:a.getHDTag(),isLiveStream:a.isLiveStream(),liveManifestUrl:a.isLiveStream()?this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getManifestUrl():a.getLiveManifestUrl():null}};c.isImplementationUnavailable=function(a){return b("isHTML5VideoImplementationUnavailable")(a)};d.pause=function(a){this.$VideoPlayerHTML5Api21=a;if(a==="unloaded"&&!this.isPaused()){a=this.$VideoPlayerHTML5Api49||b("VideoPlayerHTML5Experiments").unloadShouldCancelPendingRequest;a&&this.$VideoPlayerHTML5Api15?this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:"unloaded"})):this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"unloaded"}));this.$VideoPlayerHTML5Api48=!0;this.preventPauseLoggingInMixin=!0}this.$VideoPlayerHTML5Api81();this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.pause():this.$VideoPlayerHTML5Api34.pause()};d.$VideoPlayerHTML5Api66=function(a){this.$VideoPlayerHTML5Api15=a};d.preload=function(){this.$VideoPlayerHTML5Api31||(this.$VideoPlayerHTML5Api1&&this.$VideoPlayerHTML5Api82(),this.$VideoPlayerHTML5Api31=!0,this.$VideoPlayerHTML5Api34.setAttribute("preload","auto"))};d.isPreloading=function(){return this.$VideoPlayerHTML5Api31};d.play=function(a){__p&&__p();var c=this;this.$VideoPlayerHTML5Api42||(this.$VideoPlayerHTML5Api42=a);this.$VideoPlayerHTML5Api22=a;if(!this.isPaused()){b("VideoPlayerHTML5Experiments").shouldDispatchPlayingEvent?(b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"play"),b("setTimeout")(function(){return b("dispatchEvent")(c.$VideoPlayerHTML5Api34,"playing")},0)):this.$VideoPlayerHTML5Api83();return}this.$VideoPlayerHTML5Api29=!0;this.$VideoPlayerHTML5Api66(!0);if(this.$VideoPlayerHTML5Api1){b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"play");this.$VideoPlayerHTML5Api82();this.$VideoPlayerHTML5Api3=!0;return}this.$VideoPlayerHTML5Api84()};d.$VideoPlayerHTML5Api81=function(){this.$VideoPlayerHTML5Api3&&this.isPaused()&&b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"pause"),this.$VideoPlayerHTML5Api66(!1),this.$VideoPlayerHTML5Api85()};d.$VideoPlayerHTML5Api85=function(){this.$VideoPlayerHTML5Api29=!1,this.$VideoPlayerHTML5Api3=!1};d.$VideoPlayerHTML5Api86=function(){this.$VideoPlayerHTML5Api34.setAttribute("preload","auto"),this.$VideoPlayerHTML5Api31=!0,this.$VideoPlayerHTML5Api34.load(),this.$VideoPlayerHTML5Api34.muted=this.$VideoPlayerHTML5Api25};d.seek=function(a){var b=this.$VideoPlayerHTML5Api59("clear_buffer_on_seek_back",!1),c=this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.getNumber("clear_buffer_on_seek_back_delta",0);this.$VideoPlayerHTML5Api35&&b&&typeof c==="number"&&this.$VideoPlayerHTML5Api34.currentTime-a>=c&&this.$VideoPlayerHTML5Api35.clearBufferAfterSeekingIfLowerQuality(a);this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.seekStart();this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api59("current_time_during_ready_state_zero_throws",!1))this.$VideoPlayerHTML5Api34.readyState!==0&&(this.$VideoPlayerHTML5Api34.currentTime=a);else try{this.$VideoPlayerHTML5Api34.currentTime=a}catch(a){}this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.seekEnd()};d.removeRotation=function(){b("CSS").removeClass(this.$VideoPlayerHTML5Api34,"_56jr"),b("CSS").removeClass(this.$VideoPlayerHTML5Api34,"_56js"),b("CSS").removeClass(this.$VideoPlayerHTML5Api34,"_56jt"),this.$VideoPlayerHTML5Api34.style.marginLeft="",this.$VideoPlayerHTML5Api34.style.marginTop="",this.$VideoPlayerHTML5Api34.style.width="",this.$VideoPlayerHTML5Api34.style.height=""};d.applyRotation=function(a){__p&&__p();if(!a)return;b("CSS").conditionClass(this.$VideoPlayerHTML5Api34,"_56jr",a==90);b("CSS").conditionClass(this.$VideoPlayerHTML5Api34,"_56js",a==180);b("CSS").conditionClass(this.$VideoPlayerHTML5Api34,"_56jt",a==270);if(a==180)return;a=this.$VideoPlayerHTML5Api13;var c=this.$VideoPlayerHTML5Api46,d=(a-c)/2,e=(c-a)/2;this.$VideoPlayerHTML5Api34.style.marginLeft=e+"px";this.$VideoPlayerHTML5Api34.style.marginTop=d+"px";this.$VideoPlayerHTML5Api34.style.height=c+"px";this.$VideoPlayerHTML5Api34.style.width=a+"px"};d.$VideoPlayerHTML5Api87=function(a){this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setContext("content_category",a.getContentCategory()||"content_category"),this.$VideoPlayerHTML5Api40&&a.isLowLatency()?this.$VideoPlayerHTML5Api40.setContext("latency_level","low"):this.$VideoPlayerHTML5Api40&&a.isPredictiveDash()&&this.$VideoPlayerHTML5Api40.setContext("latency_level","predictive"),this.$VideoPlayerHTML5Api40&&a.isServableViaFbms()&&this.$VideoPlayerHTML5Api40.setContext("servable_via_fmbs",a.isServableViaFbms())};d.switchVideo=function(a){__p&&__p();var c=this;if(!this.$VideoPlayerHTML5Api7.videoData||this.$VideoPlayerHTML5Api7.videoData.length<=a)return;a=new(b("VideoData"))(this.$VideoPlayerHTML5Api7.videoData[a]);this.$VideoPlayerHTML5Api8=a;var d=a.getFairplayCert();b("VideoPlayerWindowUtils").WebKitMediaKeys!=null&&b("cr:936794")!=null&&d!=null&&(this.$VideoPlayerHTML5Api50=new(b("cr:936794"))(d,this.getVideoElement(),a.getVideoID(),this.$VideoPlayerHTML5Api7.videoLicenseUriMap));a.getOverrideConfig()&&this.$VideoPlayerHTML5Api40&&this.$VideoPlayerHTML5Api40.setOverrideConfig(a.getOverrideConfig());this.$VideoPlayerHTML5Api87(a);d=a.isLiveStream()&&a.isHls();if(!d&&(a.hasDashManifest()||a.isLiveStream())&&this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka.isSupported(a)&&!this.$VideoPlayerHTML5Api7.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();d=a.getDashManifest();var e;a.isLiveStream()&&(e=a.getLiveManifestUrl());var f=a.getDashPrefetchedRepresentationIDs(),g=this.$VideoPlayerHTML5Api7.seekHandler,i=g;g&&(i=function(a){!c.getCurrentTimePosition()?c.$VideoPlayerHTML5Api34.currentTime=a:c.$VideoPlayerHTML5Api15?c.seek(a):g(a)});f=new this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api34,f,{accessToken:this.$VideoPlayerHTML5Api2,config:this.$VideoPlayerHTML5Api7.shakaConfig,minPlayQuality:this.$VideoPlayerHTML5Api26,maxPlayQuality:this.$VideoPlayerHTML5Api27,width:this.$VideoPlayerHTML5Api46,height:this.$VideoPlayerHTML5Api13,manifest:d,manifestUrl:e,isLive:a.isLiveStream(),isServableViaFbms:a.isServableViaFbms(),startTimestamp:this.$VideoPlayerHTML5Api37,videoID:this.getVideoID(),playerInstanceKey:this.$VideoPlayerHTML5Api7.playerInstanceKey,disableStreaming:this.$VideoPlayerHTML5Api7.disableStreaming,playerOrigin:this.$VideoPlayerHTML5Api7.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api7.playerSuborigin,resolutionConstraintMaxHeight:this.$VideoPlayerHTML5Api7.resolutionConstraintMaxHeight,resolutionConstraintMaxWidth:this.$VideoPlayerHTML5Api7.resolutionConstraintMaxWidth,useStrictTrackDimensionsExclusionLogic:this.$VideoPlayerHTML5Api7.useStrictTrackDimensionsExclusionLogic,isSpherical:this.$VideoPlayerHTML5Api7.isSpherical,getSource:this.$VideoPlayerHTML5Api7.getSource,vpcPlayingStateEmitter:this.$VideoPlayerHTML5Api7.vpcPlayingStateEmitter,seekHandler:i,streamPriorityAdjuster:this.$VideoPlayerHTML5Api7.streamPriorityAdjuster,videoLiveTrace:this.$VideoPlayerHTML5Api7.videoLiveTrace?this.$VideoPlayerHTML5Api7.videoLiveTrace:null,videoLicenseUriMap:this.$VideoPlayerHTML5Api7.videoLicenseUriMap?this.$VideoPlayerHTML5Api7.videoLicenseUriMap:{},prefetchCache:a.getPrefetchCache(),graphApiVideoLicenseUri:this.$VideoPlayerHTML5Api7.graphApiVideoLicenseUri,widevineCert:a.getWidevineCert(),OzDrmHelper:this.$VideoPlayerHTML5Api7.OzDrmHelper,videoWatchTimeTracker:this.$VideoPlayerHTML5Api43,desiredLatencyMs:a.getDesiredLatencyMs(),disableAbr:this.$VideoPlayerHTML5Api7.isSpherical&&this.$VideoPlayerHTML5Api59("disable_360_abr",!1),p2pModuleLoader:this.$VideoPlayerHTML5Api7.p2pModuleLoader,p2pSettings:a.getP2PSettings()});f.addListener("seekRangeChanged",function(){return c.$VideoPlayerHTML5Api75()});f.addListener("bufferingStart",function(){return c.$VideoPlayerHTML5Api61()});f.addListener("bufferingEnd",function(){return c.$VideoPlayerHTML5Api62()});f.addListener("bufferingProgress",this.$VideoPlayerHTML5Api69.bind(this));f.addListener("tracksChanged",function(){return c.emit("qualityChange")});f.addListener("streamInterrupted",function(){return c.$VideoPlayerHTML5Api73()});f.addListener("streamResumed",function(){return c.$VideoPlayerHTML5Api76()});f.addListener("replicaSwitch",this.$VideoPlayerHTML5Api70.bind(this));f.addListener("networkInterrupted",function(){return c.$VideoPlayerHTML5Api71()});f.addListener("networkResumed",function(){return c.$VideoPlayerHTML5Api72()});f.addListener("adaptation",function(a){a=a.reason;b("VideoPlayerHTML5Experiments").dropQualityChange||c.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").QUALITY_CHANGE,{reason:a});c.emit("qualityChange")});f.addListener("representation_ended",function(a){c.logRepresentationEnded(a)});f.addListener("blocked_paused_representation_ended",function(){c.onBlockedPausedRepresentationEnded()});f.addListener("debug/dashPlayerEvent",function(a){return c.emit("debug/dashPlayerEvent",a)});f.addListener("error",function(a){return c.$VideoPlayerHTML5Api88(a)});f.addListener("cea608AvailabilityChanged",function(){c.$VideoPlayerHTML5Api89()});f.addListener("cea608CaptionsBytesReceived",function(a){__p&&__p();var d=a.timescale;a=a.videoBytes;d!=null&&!isNaN(d)||h(0,18732);a!=null||h(0,18733);d={timescale:d,videoBytes:a};a=c.$VideoPlayerHTML5Api57;a||(a=c.$VideoPlayerHTML5Api90());a.enqueueBytes(d);if(b("cr:1061104")){a=c.$VideoPlayerHTML5Api58;a||(a=new(b("cr:1061104"))(),c.$VideoPlayerHTML5Api58=a);a.recordBytes(d)}});f.addListener("p2pPluginReady",function(){c.p2pPluginReady()});f.setup();this.$VideoPlayerHTML5Api35=f}else{d=this.$VideoPlayerHTML5Api80();d&&(this.$VideoPlayerHTML5Api34.src=d);this.$VideoPlayerHTML5Api37&&this.seek(this.$VideoPlayerHTML5Api37)}this.$VideoPlayerHTML5Api74();a.hasSubtitles()&&this.$VideoPlayerHTML5Api91(a.getSubtitlesSrc());this.removeRotation();this.applyRotation(a.getRotation())};d.switchToStreamType=function(a){};d.replaceVideoDataFromURL=function(a){};d.getDashAudioConfiguration=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getDashAudioConfiguration():"none"};d.getAudioStreamInfoIDDebug=function(){__p&&__p();if(this.$VideoPlayerHTML5Api35){var a=this.$VideoPlayerHTML5Api35.getDebug();if(a.VideoSource){a=a.VideoSource.getAudioTracks();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.active)return d.streamInfoID}}}return null};d.getVideoTracksDebug=function(){if(this.$VideoPlayerHTML5Api35){var a=this.$VideoPlayerHTML5Api35.getDebug();if(a.VideoSource)return a.VideoSource.getVideoTracks()}return null};d.getCurrentlyPlayingVideoStreamInfoID=function(){var a=this.getCurrentTimePosition();if(this.$VideoPlayerHTML5Api35)return a!=null?this.$VideoPlayerHTML5Api35.getVideoStreamInfoIDForTimePosition(a):null;else return this.$VideoPlayerHTML5Api17?this.$VideoPlayerHTML5Api8.getHDTag():this.$VideoPlayerHTML5Api8.getSDTag()};d.getCurrentlyPlayingAudioStreamInfoID=function(){var a=this.getCurrentTimePosition();return this.$VideoPlayerHTML5Api35&&a!=null?this.$VideoPlayerHTML5Api35.getAudioStreamInfoIDForTimePosition(a):null};d.getLocalEstimator=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getLocalEstimator():null};d.unmute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!1;this.$VideoPlayerHTML5Api25=!1;this.emit("unmuteVideo");return}this.$VideoPlayerHTML5Api34.muted=!1};d.mute=function(){if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=!0;this.$VideoPlayerHTML5Api25=!0;this.emit("muteVideo");return}this.$VideoPlayerHTML5Api34.muted=!0};d.setRotation=function(a){this.removeRotation(),this.applyRotation(a)};d.setDimensions=function(a,b){__p&&__p();var c;this.removeRotation();this.$VideoPlayerHTML5Api46=a;this.$VideoPlayerHTML5Api13=b;this.applyRotation(this.$VideoPlayerHTML5Api8.getRotation());this.$VideoPlayerHTML5Api38&&this.$VideoPlayerHTML5Api38.updateDimensions(a,b);this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setDimensions(a,b);c=(c=(c=this.$VideoPlayerHTML5Api56)==null?void 0:c.display)!=null?c:(c=this.$VideoPlayerHTML5Api57)==null?void 0:c.display;if(c){var d=this.$VideoPlayerHTML5Api92();c.handleBoundingBoxChanged(d)}this.emit("dimensionsChange",a,b)};d.setVideoStreamOffset=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setVideoStreamOffset(a)};d.$VideoPlayerHTML5Api93=function(){this.$VideoPlayerHTML5Api34.controls=!this.$VideoPlayerHTML5Api9};d.$VideoPlayerHTML5Api64=function(){this.$VideoPlayerHTML5Api34.controls=this.$VideoPlayerHTML5Api34.controls&&!this.$VideoPlayerHTML5Api9};d.$VideoPlayerHTML5Api65=function(){this.$VideoPlayerHTML5Api12=b("EventListener").listen(this.$VideoPlayerHTML5Api34,"error",this.$VideoPlayerHTML5Api94.bind(this)),b("VideoPlayerMemLeakExperiments").clear_html5_error_handler||this.$VideoPlayerHTML5Api41.addSubscriptions(this.$VideoPlayerHTML5Api12),this.$VideoPlayerHTML5Api41.addSubscriptions(b("EventListener").listen(this.$VideoPlayerHTML5Api34,"playing",this.$VideoPlayerHTML5Api95.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"play",this.$VideoPlayerHTML5Api83.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"ended",this.$VideoPlayerHTML5Api96.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"waiting",this.$VideoPlayerHTML5Api97.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"pause",this.$VideoPlayerHTML5Api98.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"volumechange",this.$VideoPlayerHTML5Api99.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"mousedown",this.$VideoPlayerHTML5Api100.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"mouseup",this.$VideoPlayerHTML5Api101.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"timeupdate",this.$VideoPlayerHTML5Api102.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"click",this.$VideoPlayerHTML5Api103.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"loadedmetadata",this.$VideoPlayerHTML5Api104.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"progress",this.$VideoPlayerHTML5Api105.bind(this)),b("EventListener").listen(this.$VideoPlayerHTML5Api34,"seeked",this.$VideoPlayerHTML5Api106.bind(this)),b("EventListener").capture(this.$VideoPlayerHTML5Api34.parentNode,"pause",this.$VideoPlayerHTML5Api107.bind(this)))};d.$VideoPlayerHTML5Api108=function(a){this.preventPauseLoggingInMixin=!1,a.preventDefault(),a.stopPropagation()};d.$VideoPlayerHTML5Api107=function(a){if(a.target!==this.$VideoPlayerHTML5Api34)return;this.$VideoPlayerHTML5Api34.ended||(this.$VideoPlayerHTML5Api48&&this.$VideoPlayerHTML5Api108(a),a.lastPauseReason=this.$VideoPlayerHTML5Api21);this.$VideoPlayerHTML5Api48=!1;this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.pause()};d.$VideoPlayerHTML5Api105=function(){__p&&__p();var a=this.$VideoPlayerHTML5Api34.buffered,b=0,c=0,d=a.length;while(d-->0){var e=a.end(d),f=a.start(d);if(f<=this.$VideoPlayerHTML5Api34.currentTime){c=f;b=e-f;break}}this.$VideoPlayerHTML5Api68();this.$VideoPlayerHTML5Api109("flash/updateBuffer",{duration:b,offset:c})};d.$VideoPlayerHTML5Api77=function(){b("clearTimeout")(this.$VideoPlayerHTML5Api28)};d.$VideoPlayerHTML5Api68=function(){var a=this;this.$VideoPlayerHTML5Api77();this.$VideoPlayerHTML5Api34.networkState===this.$VideoPlayerHTML5Api34.NETWORK_LOADING&&(this.$VideoPlayerHTML5Api28=b("setTimeout")(function(){return a.$VideoPlayerHTML5Api110()},c.networkTimeout))};d.$VideoPlayerHTML5Api110=function(){var a=this.$VideoPlayerHTML5Api34.buffered,c=0;for(var d=0;d<a.length;d++){var e=a.start(d),f=a.end(d);c+=f-e}this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").NETWORK_TIMEOUT,{buffered:c})};d.$VideoPlayerHTML5Api102=function(){var a,b;this.$VideoPlayerHTML5Api1?b=this.$VideoPlayerHTML5Api1.currentTime:b=this.$VideoPlayerHTML5Api34.currentTime;a=(a=(a=this.$VideoPlayerHTML5Api56)==null?void 0:a.stream)!=null?a:(a=this.$VideoPlayerHTML5Api57)==null?void 0:a.stream;a&&a.handleTimeUpdate(b);this.$VideoPlayerHTML5Api109("flash/updateStatus",{position:+b.toFixed(3)})};d.$VideoPlayerHTML5Api103=function(a){if(a.button!==0)return;this.emit("clickVideo");a.preventDefault()};d.isPaused=function(){return b("VideoPlayerHTML5Experiments").fixIE11EndedPausedState?this.$VideoPlayerHTML5Api34.paused||this.$VideoPlayerHTML5Api34.ended:this.$VideoPlayerHTML5Api34.paused};d.$VideoPlayerHTML5Api111=function(){var a=this.$VideoPlayerHTML5Api34.buffered;return a.length>0&&a.start(0)===0&&a.end(0)===this.$VideoPlayerHTML5Api34.duration};d.$VideoPlayerHTML5Api97=function(){if(this.$VideoPlayerHTML5Api59("drop_buffering_detection_from_html5_api",!1))return;this.$VideoPlayerHTML5Api111()||(this.$VideoPlayerHTML5Api45=!0,this.$VideoPlayerHTML5Api109("flash/buffering"))};d.setVolume=function(a){this.$VideoPlayerHTML5Api34.volume=a};d.$VideoPlayerHTML5Api99=function(){this.$VideoPlayerHTML5Api34.muted!==this.$VideoPlayerHTML5Api25&&this.$VideoPlayerHTML5Api34.volume===this.$VideoPlayerHTML5Api44&&this.$VideoPlayerHTML5Api34.volume>0?(this.$VideoPlayerHTML5Api25=this.$VideoPlayerHTML5Api34.muted,this.$VideoPlayerHTML5Api44=this.$VideoPlayerHTML5Api34.volume,!this.$VideoPlayerHTML5Api34.muted?this.$VideoPlayerHTML5Api109("flash/unmuteVideo"):this.$VideoPlayerHTML5Api109("flash/muteVideo")):(this.$VideoPlayerHTML5Api25=this.$VideoPlayerHTML5Api34.muted,this.$VideoPlayerHTML5Api44=this.$VideoPlayerHTML5Api34.volume,this.$VideoPlayerHTML5Api109("flash/changeVolume",{volume:this.$VideoPlayerHTML5Api34.volume})),this.$VideoPlayerHTML5Api34.muted||this.$VideoPlayerHTML5Api109("flash/turnOffAutoplay",{reason:"unmuted"})};d.$VideoPlayerHTML5Api100=function(a){a.button===0&&(this.$VideoPlayerHTML5Api24=!0)};d.$VideoPlayerHTML5Api101=function(a){a.button===0&&(this.$VideoPlayerHTML5Api24=!1)};d.$VideoPlayerHTML5Api95=function(){this.$VideoPlayerHTML5Api66(!1),this.$VideoPlayerHTML5Api45&&(this.$VideoPlayerHTML5Api45=!1,this.$VideoPlayerHTML5Api109("flash/buffered")),this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api43.playing()};d.$VideoPlayerHTML5Api83=function(){this.$VideoPlayerHTML5Api16=!0,this.$VideoPlayerHTML5Api93(),this.$VideoPlayerHTML5Api89(),this.$VideoPlayerHTML5Api109("flash/beginPlayback",{position:+this.$VideoPlayerHTML5Api34.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api22}),this.$VideoPlayerHTML5Api68()};d.$VideoPlayerHTML5Api98=function(a){__p&&__p();var c=this.$VideoPlayerHTML5Api59("abort_loading_decisioning_logic",!1);if(this.$VideoPlayerHTML5Api34.ended||c&&b("dangerouslyOverrideMediaElementEndedProperty").isEnded(a)){this.$VideoPlayerHTML5Api16=!1;this.$VideoPlayerHTML5Api66(!1);return}if(this.$VideoPlayerHTML5Api34.seeking&&this.$VideoPlayerHTML5Api21===b("VideoPlayerReason").SEEK)return;if(!this.$VideoPlayerHTML5Api59("ignore_left_button_when_pausing",!0)&&this.$VideoPlayerHTML5Api24)return;if(this.$VideoPlayerHTML5Api21===b("VideoPlayerReason").SEEK){this.$VideoPlayerHTML5Api21=null;return}(this.$VideoPlayerHTML5Api21===null||this.$VideoPlayerHTML5Api21===b("VideoPlayerReason").USER)&&this.$VideoPlayerHTML5Api109("flash/turnOffAutoplay",{reason:"manually_paused"});this.$VideoPlayerHTML5Api21=null;this.$VideoPlayerHTML5Api16=!1;this.$VideoPlayerHTML5Api66(!1);this.$VideoPlayerHTML5Api64();this.$VideoPlayerHTML5Api109("flash/pausePlayback",{position:this.$VideoPlayerHTML5Api34.currentTime.toFixed(2)})};d.$VideoPlayerHTML5Api96=function(){var a;if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api64();this.$VideoPlayerHTML5Api16=!1;this.$VideoPlayerHTML5Api66(!1);this.$VideoPlayerHTML5Api109("flash/finishPlayback");a=(a=(a=this.$VideoPlayerHTML5Api56)==null?void 0:a.display)!=null?a:(a=this.$VideoPlayerHTML5Api57)==null?void 0:a.display;a&&a.hideSubtitles()};d.$VideoPlayerHTML5Api106=function(){this.emit("seekEnd",{position:+this.$VideoPlayerHTML5Api34.currentTime.toFixed(3)})};d.getEstimatedBandwidth=function(){return this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka?this.$VideoPlayerHTML5Api7.VideoPlayerHTML5Shaka.getEstimatedBandwidth():null};d.$VideoPlayerHTML5Api104=function(){this.$VideoPlayerHTML5Api109("flash/updateMetadata")};d.$VideoPlayerHTML5Api88=function(a){this.emit("error",babelHelpers["extends"]({},a,{isPlayback:this.$VideoPlayerHTML5Api29}))};d.$VideoPlayerHTML5Api94=function(){if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api34.error)return;var a=this.$VideoPlayerHTML5Api34.error,c=a.message;c||(c=b("getErrorMessageFromMediaErrorCode")(a.code));this.emit("error",{error:b("getErrorNameFromMediaErrorCode")(a.code),isPlayback:this.$VideoPlayerHTML5Api29,message:c})};d.$VideoPlayerHTML5Api67=function(a,c){a===b("VideoPlayerLoggerEvent").STARTED_PLAYING&&this.$VideoPlayerHTML5Api35&&(c.longest_init_response_time=this.$VideoPlayerHTML5Api35.getLongestInitResponseTime()),c.projection=this.getVideoProjection(),this.$VideoPlayerHTML5Api109("flash/logEvent",{logData:babelHelpers["extends"]({event:a},c)})};d.$VideoPlayerHTML5Api109=function(a,c){b("Arbiter").inform(a,babelHelpers["extends"]({divID:this.$VideoPlayerHTML5Api14},c)),this.emit(a.substr("flash/".length),c)};d.getLastPlayReason=function(){return this.$VideoPlayerHTML5Api22};d.getVideoPlayReason=function(){return this.$VideoPlayerHTML5Api42};d.isMuted=function(){return this.$VideoPlayerHTML5Api25};d.setPlaybackRate=function(a){this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.setPlaybackRate(a):this.$VideoPlayerHTML5Api34.playbackRate=a};d.getPlaybackRate=function(){if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35.getPlaybackRate();else return this.$VideoPlayerHTML5Api34.playbackRate};d.getPlaybackDuration=function(){return this.$VideoPlayerHTML5Api1?this.$VideoPlayerHTML5Api1.playbackDuration:this.$VideoPlayerHTML5Api34.duration||0};d.getVolume=function(){return this.$VideoPlayerHTML5Api34.volume};d.getCurrentTimePosition=function(){return this.$VideoPlayerHTML5Api34.currentTime};d.getBufferEndPosition=function(){var a=this.$VideoPlayerHTML5Api34.buffered;if(a&&a.length>0){var b=a.length-1;return a.end(b)}return null};d.$VideoPlayerHTML5Api80=function(){if(this.$VideoPlayerHTML5Api7.fallbackSources)return this.$VideoPlayerHTML5Api17&&this.$VideoPlayerHTML5Api7.fallbackSources.HD?this.$VideoPlayerHTML5Api7.fallbackSources.HD:this.$VideoPlayerHTML5Api7.fallbackSources.SD;if(this.$VideoPlayerHTML5Api17&&this.$VideoPlayerHTML5Api8.hasHD())return this.$VideoPlayerHTML5Api112();else return this.$VideoPlayerHTML5Api113()};d.$VideoPlayerHTML5Api112=function(){if(this.$VideoPlayerHTML5Api18)return this.$VideoPlayerHTML5Api8.getPlayableSrcRateLimitedHD();else return this.$VideoPlayerHTML5Api8.getPlayableSrcHD()};d.$VideoPlayerHTML5Api113=function(){if(this.$VideoPlayerHTML5Api18)return this.$VideoPlayerHTML5Api8.getPlayableSrcRateLimitedSD();else return this.$VideoPlayerHTML5Api8.getPlayableSrcSD()};d.toggleSubtitles=function(){this.$VideoPlayerHTML5Api51=!this.$VideoPlayerHTML5Api51,this.$VideoPlayerHTML5Api89(),this.emit("toggleSubtitles")};d.hasSubtitles=function(){return this.$VideoPlayerHTML5Api8.hasSubtitles()||!!this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.hasSubtitles()};d.areSubtitlesActive=function(){return this.$VideoPlayerHTML5Api51};d.areSubtitlesAutogenerated=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.areSubtitlesAutogenerated():!1};d.areHLSActive=function(){return!1};d.isRTMP=function(){return!1};d.setSubtitlesStyle=function(a,b,c,d){this.$VideoPlayerHTML5Api52=a;this.$VideoPlayerHTML5Api53=b;this.$VideoPlayerHTML5Api54=c;this.$VideoPlayerHTML5Api55=d;d=(b=(a=this.$VideoPlayerHTML5Api56)==null?void 0:a.display)!=null?b:(c=this.$VideoPlayerHTML5Api57)==null?void 0:c.display;d&&d.setSubtitlesStyle(this.$VideoPlayerHTML5Api52,this.$VideoPlayerHTML5Api53,this.$VideoPlayerHTML5Api54,this.$VideoPlayerHTML5Api55)};d.$VideoPlayerHTML5Api89=function(){var a=this.$VideoPlayerHTML5Api35;a&&a.hasSubtitles()&&a.enableSubtitles(this.$VideoPlayerHTML5Api51);a=(a=(a=this.$VideoPlayerHTML5Api56)==null?void 0:a.display)!=null?a:(a=this.$VideoPlayerHTML5Api57)==null?void 0:a.display;a&&(this.$VideoPlayerHTML5Api51?a.showSubtitles():a.hideSubtitles())};d.$VideoPlayerHTML5Api114=function(){this.$VideoPlayerHTML5Api16&&this.$VideoPlayerHTML5Api89(),this.emit("loadedSubtitles")};d.$VideoPlayerHTML5Api115=function(a){var c=this,d=this.$VideoPlayerHTML5Api7.subtitleDrawer;if(!d||!(d instanceof b("VideoPlayerUIComponentDrawer")))return null;a=new a({append:function(a){b("DOM").insertAfter(c.$VideoPlayerHTML5Api34,a);return function(){b("DOM").remove(a)}},drawer:d,existingNodesContainer:this.$VideoPlayerHTML5Api34.parentNode,boundingBox:this.$VideoPlayerHTML5Api92()});a.setSubtitlesStyle(this.$VideoPlayerHTML5Api52,this.$VideoPlayerHTML5Api53,this.$VideoPlayerHTML5Api54,this.$VideoPlayerHTML5Api55);return a};d.$VideoPlayerHTML5Api92=function(){var a=this.$VideoPlayerHTML5Api34.getBoundingClientRect();return{width:a.width,height:a.height}};d.$VideoPlayerHTML5Api91=function(a){var c=this;this.$VideoPlayerHTML5Api74();this.$VideoPlayerHTML5Api56=new(b("VideoPlayerHTML5ApiWebVttState"))({createSubtitleDisplay:function(a){return c.$VideoPlayerHTML5Api115(a)},onReady:function(b){b.loadSubtitles(a,c.$VideoPlayerHTML5Api34)},onSubtitlesLoaded:function(){c.$VideoPlayerHTML5Api114()}});return this.$VideoPlayerHTML5Api56};d.$VideoPlayerHTML5Api90=function(){var a=this;this.$VideoPlayerHTML5Api74();this.$VideoPlayerHTML5Api57=new(b("VideoPlayerHTML5ApiCea608State"))({createSubtitleDisplay:function(b){return a.$VideoPlayerHTML5Api115(b)},onReady:function(a){a.processQueue()},onSubtitlesLoaded:function(){a.$VideoPlayerHTML5Api114()}});return this.$VideoPlayerHTML5Api57};d.$VideoPlayerHTML5Api74=function(){this.$VideoPlayerHTML5Api57&&(this.$VideoPlayerHTML5Api57.destroy(),this.$VideoPlayerHTML5Api57=null);var a=this.$VideoPlayerHTML5Api58;a&&(b("cr:1061104")&&(b("gkx")("1063360")&&a.download()),this.$VideoPlayerHTML5Api58=null);this.$VideoPlayerHTML5Api56&&(this.$VideoPlayerHTML5Api56.destroy(),this.$VideoPlayerHTML5Api56=null)};d.setStillFrameEnabled=function(a){this.$VideoPlayerHTML5Api39=!a};d.$VideoPlayerHTML5Api60=function(){__p&&__p();if(this.$VideoPlayerHTML5Api59("use_dimensions_fallbacks",!0)){var a=b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api34);if(a.width!==0&&a.height!==0)return a;else{a=this.$VideoPlayerHTML5Api34.getAttribute("data-video-width");var c=this.$VideoPlayerHTML5Api34.getAttribute("data-video-height");return{width:Number(a)||this.$VideoPlayerHTML5Api34.width||n,height:Number(c)||this.$VideoPlayerHTML5Api34.height||o}}}else return b("DOMDimensions").getElementDimensions(this.$VideoPlayerHTML5Api34)};d.getDimensionsForDevice=function(){var a=window.devicePixelRatio||1,b=this.$VideoPlayerHTML5Api60();return{width:b.width*a,height:b.height*a}};d.$VideoPlayerHTML5Api116=function(){__p&&__p();if(this.$VideoPlayerHTML5Api39)return;if(!this.$VideoPlayerHTML5Api38){var a=this.$VideoPlayerHTML5Api60();a=b("DOM").create("canvas",{width:a.width,height:a.height,className:"_3t5i"});b("DOM").insertAfter(this.$VideoPlayerHTML5Api34,a);this.$VideoPlayerHTML5Api38=a=new(b("VideoFrameBuffer"))(a,this.$VideoPlayerHTML5Api34)}else a=this.$VideoPlayerHTML5Api38;b("CSS").show(a.getDOMNode());a.updateFrameBuffer();b("CSS").hide(this.$VideoPlayerHTML5Api34)};d.$VideoPlayerHTML5Api78=function(){if(!this.$VideoPlayerHTML5Api38)return;b("CSS").hide(this.$VideoPlayerHTML5Api38.getDOMNode());b("CSS").show(this.$VideoPlayerHTML5Api34)};d.$VideoPlayerHTML5Api82=function(a){__p&&__p();var c=this;a===void 0&&(a=null);var d=this.$VideoPlayerHTML5Api1;if(!d)return b("Promise").resolve();if(this.$VideoPlayerHTML5Api19)return this.$VideoPlayerHTML5Api20||b("Promise").resolve();var e=[];this.$VideoPlayerHTML5Api19=!0;this.emit("restoringAfterAbort");this.allowNextSeekInMixin();var f=a==null?d.currentTime:a;if(this.$VideoPlayerHTML5Api35){a=function(){return c.$VideoPlayerHTML5Api35&&c.$VideoPlayerHTML5Api35.reload(f)||b("Promise").resolve()};var g;this.$VideoPlayerHTML5Api10?g=this.$VideoPlayerHTML5Api10.then(a):g=a();e.push(g)}else{a=this.$VideoPlayerHTML5Api80();a&&(this.$VideoPlayerHTML5Api34.src=a);this.$VideoPlayerHTML5Api34.preload=d.preload}var h=new(b("Deferred"))();e.push(h.getPromise());var i=function(){var a=c.$VideoPlayerHTML5Api84();c.$VideoPlayerHTML5Api59("create_restore_abort_loading_promise",!1)?h.resolve(a):h.resolve()};b("seekHTMLMediaElementTo")(this.$VideoPlayerHTML5Api34,f,function(){c.$VideoPlayerHTML5Api78(),c.$VideoPlayerHTML5Api1&&(c.$VideoPlayerHTML5Api34.muted=c.$VideoPlayerHTML5Api1.mutedState,c.$VideoPlayerHTML5Api1=null,c.emit("restoredAfterAbort")),c.$VideoPlayerHTML5Api19=!1,c.$VideoPlayerHTML5Api20=null,b("onCanPlayHTMLMediaElement").once(c.$VideoPlayerHTML5Api34,i)});this.$VideoPlayerHTML5Api20=b("Promise").all(e);return this.$VideoPlayerHTML5Api20};d.abortLoadingWithoutStillFrame=function(){__p&&__p();var a=this;if(this.$VideoPlayerHTML5Api1)return;var c=this.$VideoPlayerHTML5Api34.currentTime,d=this.isMuted(),e=this.$VideoPlayerHTML5Api34.duration,f=this.isPaused(),g=this.$VideoPlayerHTML5Api34.preload;if(b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_live_head_as_current_time",!1)&&this.$VideoPlayerHTML5Api8&&this.$VideoPlayerHTML5Api8.isLiveStream()){var h=this.getSeekableRanges();if(h){var i=h.length()-1;h=h.end(i);c=h}}this.$VideoPlayerHTML5Api31=!1;this.$VideoPlayerHTML5Api1={mutedState:d,currentTime:c,playbackDuration:e,preload:g};f&&this.$VideoPlayerHTML5Api16&&b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"pause");this.emit("abortedLoading");this.$VideoPlayerHTML5Api74();if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api10=this.$VideoPlayerHTML5Api35.unload().then(function(){return a.$VideoPlayerHTML5Api10=null})["catch"](function(){return a.$VideoPlayerHTML5Api10=null});return}this.$VideoPlayerHTML5Api34.preload="none";this.$VideoPlayerHTML5Api34.removeAttribute("src");this.$VideoPlayerHTML5Api34.load()};d.abortLoading=function(a){if(this.$VideoPlayerHTML5Api1)return;a=a||{};a.disableStillFrame||this.$VideoPlayerHTML5Api116();this.abortLoadingWithoutStillFrame()};d.setPreferredVideoQuality=function(a){__p&&__p();var c=this;this.$VideoPlayerHTML5Api30=a;if(!this.$VideoPlayerHTML5Api8)return;if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api35.setPreferredVideoQuality(a);return}b("VideoPlayerHTML5Experiments").newStateChangeCalculation||(this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").PAUSED,this.addWatchTimeData({reason:"toggle_hd"})),this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,{reason:b("VideoPlayerReason").USER}));this.$VideoPlayerHTML5Api17=!this.$VideoPlayerHTML5Api17;var d=this.$VideoPlayerHTML5Api34.currentTime,e=this.$VideoPlayerHTML5Api34.muted,f=this.$VideoPlayerHTML5Api34.volume;a=this.$VideoPlayerHTML5Api80();a&&(this.$VideoPlayerHTML5Api34.src=a);b("onCanPlayHTMLMediaElement").once(this.$VideoPlayerHTML5Api34,function(){c.$VideoPlayerHTML5Api34.currentTime=d,c.$VideoPlayerHTML5Api34.muted=e,c.$VideoPlayerHTML5Api34.volume=f,c.$VideoPlayerHTML5Api84(),c.emit("qualityChange")});this.$VideoPlayerHTML5Api29=!0;this.$VideoPlayerHTML5Api66(!0);this.$VideoPlayerHTML5Api86()};d.unsetPreferredVideoQuality=function(){this.$VideoPlayerHTML5Api30=null,this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){return this.$VideoPlayerHTML5Api30};d.getSelectedVideoQuality=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getSelectedVideoQuality():this.$VideoPlayerHTML5Api17?"HD":"SD"};d.getAvailableVideoQualities=function(){if(this.$VideoPlayerHTML5Api7.fallbackSources)return this.$VideoPlayerHTML5Api7.fallbackSources.HD?["SD","HD"]:["SD"];if(!this.$VideoPlayerHTML5Api8)return[];return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getAvailableVideoQualities():this.$VideoPlayerHTML5Api8.hasHD()?["SD","HD"]:["SD"]};d.getIsAbrEnabled=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getIsAbrEnabled():!1};d.canAutoSelectVideoQuality=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.canAutoSelectVideoQuality():!1};d.setPreloadDisabled=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.restoreStreamBufferSize()};d.setSmartBufferAdjustmentEnabled=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setSmartBufferAdjustmentEnabled(a)};c.getPlayerVersion=function(){return b("VideoPlayerVersions").PLEASANTVILLE};d.getUpdatedPlayerVersion=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.getPlayerVersion()||c.getPlayerVersion():c.getPlayerVersion()};d.getVideoNodeSource=function(){return this.$VideoPlayerHTML5Api34.src||""};d.getVideoProjection=function(){if(this.$VideoPlayerHTML5Api32)return this.$VideoPlayerHTML5Api32;if(this.$VideoPlayerHTML5Api35){this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api35.getVideoProjection();if(this.$VideoPlayerHTML5Api32)return this.$VideoPlayerHTML5Api32}this.$VideoPlayerHTML5Api32=this.$VideoPlayerHTML5Api8.getProjection();return this.$VideoPlayerHTML5Api32};d.$VideoPlayerHTML5Api117=function(){this.$VideoPlayerHTML5Api6=this.getCurrentTimePosition()};d.$VideoPlayerHTML5Api118=function(){this.$VideoPlayerHTML5Api6?(this.$VideoPlayerHTML5Api33=this.$VideoPlayerHTML5Api6,this.$VideoPlayerHTML5Api6=null):this.$VideoPlayerHTML5Api33=m};d.reloadDashManifest=function(){var a=this.$VideoPlayerHTML5Api35;if(a){this.$VideoPlayerHTML5Api117();this.abortLoading();return this.$VideoPlayerHTML5Api119(function(){return a.refreshDashManifest()},this.$VideoPlayerHTML5Api33)}return b("Promise").reject()};d.$VideoPlayerHTML5Api119=function(a,b){var c=this;return a().then(function(){c.$VideoPlayerHTML5Api82(b),c.$VideoPlayerHTML5Api118()})};d.switchReplicaSet=function(a,c){__p&&__p();var d=this,e=this.$VideoPlayerHTML5Api35,f={failover_response_code:c.status,original_url:"",replica:a},g="";if(e){g=e.getManifestUrl()||g;f.original_url=g;this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").REPLICA_SWITCH,{error_code:c.status,error_user_info:{failover_response_code:c.status,url:c.url||"",replica:a}});try{this.abortLoading(),e.switchReplicaSet(a)}catch(a){this.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_FAILED,{reason:a.toString(),error_user_info:f});return}this.$VideoPlayerHTML5Api82().then(function(){d.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_SUCCESS,{error_code:c.status,error_user_info:f})})["catch"](function(a){d.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").REPLICA_SWITCH_FAILED,{reason:a.toString(),error_user_info:f})})}};d.p2pPluginReady=function(){__p&&__p();var a=this,c=function(c){a.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").LIVE_P2P_PLAYBACK_PLUGIN_FAILED,{reason:c.toString()}),a.$VideoPlayerHTML5Api35&&a.$VideoPlayerHTML5Api35.disableP2PPlayback(),a.abortLoading(),a.$VideoPlayerHTML5Api82()};try{var d=!1;(this.$VideoPlayerHTML5Api29||this.$VideoPlayerHTML5Api16)&&(d=!0,this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.pause());this.abortLoading();var e=function(){a.$VideoPlayerHTML5Api35&&d&&a.$VideoPlayerHTML5Api35.play(),a.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").LIVE_P2P_PLAYBACK_PLUGIN_LOADED,{})};this.$VideoPlayerHTML5Api82().then(e)["catch"](c)}catch(a){c(a)}};d.$VideoPlayerHTML5Api84=function(){__p&&__p();var a=this,c=b("Promise").resolve();if(this.$VideoPlayerHTML5Api29){if(this.$VideoPlayerHTML5Api3)var d=b("EventListener").capture(this.$VideoPlayerHTML5Api34.parentNode,"play",function(a){b("Event").kill(a),d.remove()});this.$VideoPlayerHTML5Api34.ended&&!this.$VideoPlayerHTML5Api34.paused&&b("dispatchEvent")(this.$VideoPlayerHTML5Api34,"play");if(this.$VideoPlayerHTML5Api35){var e=this.$VideoPlayerHTML5Api35,f=k&&k.isReady()&&k.get("www_videos_shaka_wait_for_buffered");c=f?this.$VideoPlayerHTML5Api120():e.play()}else b("VideoPlayerHTML5Experiments").preloadOnPlay&&(this.$VideoPlayerHTML5Api34.preload="auto"),c=this.$VideoPlayerHTML5Api34.play();c&&c["catch"]&&c["catch"](function(c){c.name==="NotAllowedError"&&(a.$VideoPlayerHTML5Api67(b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"}),a.$VideoPlayerHTML5Api109("flash/playbackNotAllowed")),a.$VideoPlayerHTML5Api66(!1)})}this.$VideoPlayerHTML5Api85();return c};d.setEnableLiveheadCatchup=function(a){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.isFBWasLive())};d.isFBIsLiveTemplated=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.isFBIsLiveTemplated())};d.isFBMS=function(){return!!(this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.isFBMS())};d.isLiveheadCatchupEnabled=function(){return this.$VideoPlayerHTML5Api35?this.$VideoPlayerHTML5Api35.isLiveheadCatchupEnabled():!1};d.getSeekableRanges=function(){__p&&__p();if(this.$VideoPlayerHTML5Api35)return this.$VideoPlayerHTML5Api35.getSeekableRanges();var a=[];if(this.$VideoPlayerHTML5Api34){var c=this.$VideoPlayerHTML5Api34.seekable;for(var d=0;d<c.length;++d)a.push({startTime:c.start(d),endTime:c.end(d)})}a.length===0&&a.push({startTime:0,endTime:0});return new(b("TimeRanges"))(a)};d.$VideoPlayerHTML5Api120=function(){__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=3;case 1:if(!(!this.$VideoPlayerHTML5Api11&&this.$VideoPlayerHTML5Api35)){f.next=12;break}if(!(this.$VideoPlayerHTML5Api34.buffered.length>0)){f.next=8;break}c=this.$VideoPlayerHTML5Api34.buffered.start(0);d=this.$VideoPlayerHTML5Api34.buffered.end(0);e=Math.round(d-c)>=a;if(!(e&&this.$VideoPlayerHTML5Api35)){f.next=8;break}return f.abrupt("return",this.$VideoPlayerHTML5Api35.play());case 8:f.next=10;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return b("setTimeout")(a,100)}));case 10:f.next=1;break;case 12:return f.abrupt("return",null);case 13:case"end":return f.stop()}},null,this)};c.getStartMutedFromConfig=function(a){return a.muted};c.getStreamTypeFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.getStreamType()};c.getIsServableViaFbmsFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isServableViaFbms()};c.getIsPlayingLiveFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isLiveStream()};c.getIsGamingFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isGaming()};c.getIsFacecastAudioFromConfig=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isFacecastAudio()};c.getIsSpherical=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isSpherical()};c.getIsLiveTraceEnabledOnPlayer=function(a){a=new(b("VideoData"))(a.videoData[0]);return a.isLiveTraceEnabledOnPlayer()};return c}(b("classWithMixins")(b("AbstractVideoPlayerApi"),b("mixin")(b("HVideoPlayerMixin"))));a.networkTimeout=5e3;e.exports=a}),null);