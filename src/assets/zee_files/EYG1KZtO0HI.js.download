if (self.CavalryLogger) { CavalryLogger.start_js(["mNpnt"]); }

__d("VideoQualityClassInternal",[],(function(a,b,c,d,e,f){e.exports={orderedValues:["sd","hd","uhd"]}}),null);
__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("SparkMD5",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a+b&4294967295},h=function(a,b,c,d,e,f){b=g(g(b,a),g(d,f));return g(b<<e|b>>>32-e,c)},i=function(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)},j=function(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)},k=function(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)},l=function(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)},m=function(a,b){__p&&__p();var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=g(c,a[0]);a[1]=g(d,a[1]);a[2]=g(e,a[2]);a[3]=g(f,a[3])},n=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a.charCodeAt(c)+(a.charCodeAt(c+1)<<8)+(a.charCodeAt(c+2)<<16)+(a.charCodeAt(c+3)<<24);return b},o=function(a){var b=[],c;for(c=0;c<64;c+=4)b[c>>2]=a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24);return b},p=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,n(a.substring(d-64,d)));a=a.substring(d-64);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a.charCodeAt(d)<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}e=b*8;e=e.toString(16).match(/(.*?)(.{0,8})$/);a=parseInt(e[2],16);d=parseInt(e[1],16)||0;f[14]=a;f[15]=d;m(c,f);return c},q=function(a){__p&&__p();var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d,e,f;for(d=64;d<=b;d+=64)m(c,o(a.subarray(d-64,d)));a=d-64<b?a.subarray(d-64):new Uint8Array(0);e=a.length;f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<e;d+=1)f[d>>2]|=a[d]<<(d%4<<3);f[d>>2]|=128<<(d%4<<3);if(d>55){m(c,f);for(d=0;d<16;d+=1)f[d]=0}a=b*8;a=a.toString(16).match(/(.*?)(.{0,8})$/);e=parseInt(a[2],16);d=parseInt(a[1],16)||0;f[14]=e;f[15]=d;m(c,f);return c},r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=function(a){var b="",c;for(c=0;c<4;c+=1)b+=r[a>>c*8+4&15]+r[a>>c*8&15];return b},t=function(a){var b;for(b=0;b<a.length;b+=1)a[b]=s(a[b]);return a.join("")};a=function(a){return t(p(a))};b=function(){this.reset()};a("hello")!=="5d41402abc4b2a76b9719d911017c592"&&(g=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535});b.prototype.append=function(a){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));this.appendBinary(a);return this};b.prototype.appendBinary=function(a){this._buff+=a;this._length+=a.length;a=this._buff.length;var b;for(b=64;b<=a;b+=64)m(this._state,n(this._buff.substring(b-64,b)));this._buff=this._buff.substr(b-64);return this};b.prototype.end=function(a){var b=this._buff,c=b.length,d,e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<c;d+=1)e[d>>2]|=b.charCodeAt(d)<<(d%4<<3);this._finish(e,c);b=a?this._state:t(this._state);this.reset();return b};b.prototype._finish=function(a,b){__p&&__p();b=b;var c;a[b>>2]|=128<<(b%4<<3);if(b>55){m(this._state,a);for(b=0;b<16;b+=1)a[b]=0}b=this._length*8;b=b.toString(16).match(/(.*?)(.{0,8})$/);c=parseInt(b[2],16);b=parseInt(b[1],16)||0;a[14]=c;a[15]=b;m(this._state,a)};b.prototype.reset=function(){this._buff="";this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length};b.hash=function(a,b){/[\u0080-\uFFFF]/.test(a)&&(a=unescape(encodeURIComponent(a)));a=p(a);return b?a:t(a)};b.hashBinary=function(a,b){a=p(a);return b?a:t(a)};b.ArrayBuffer=function(){this.reset()};b.ArrayBuffer.prototype.append=function(a){var b=this._concatArrayBuffer(this._buff,a),c=b.length;this._length+=a.byteLength;for(a=64;a<=c;a+=64)m(this._state,o(b.subarray(a-64,a)));this._buff=a-64<c?b.subarray(a-64):new Uint8Array(0);return this};b.ArrayBuffer.prototype.end=function(a){var b=this._buff,c=b.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e;for(e=0;e<c;e+=1)d[e>>2]|=b[e]<<(e%4<<3);this._finish(d,c);b=a?this._state:t(this._state);this.reset();return b};b.ArrayBuffer.prototype._finish=b.prototype._finish;b.ArrayBuffer.prototype.reset=function(){this._buff=new Uint8Array(0);this._length=0;this._state=[1732584193,-271733879,-1732584194,271733878];return this};b.ArrayBuffer.prototype.destroy=b.prototype.destroy;b.ArrayBuffer.prototype._concatArrayBuffer=function(a,b){var c=a.length,d=new Uint8Array(c+b.byteLength);d.set(a);d.set(new Uint8Array(b),c);return d};b.ArrayBuffer.hash=function(a,b){a=q(new Uint8Array(a));return b?a:t(a)};e.exports=b}),null);
__d("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WebGraphQLSubscriptionHelper").getExports({docID:"2024168130980964",queryID:"292170761620173"})}),null);
__d("LiveVideoCopyrightActionSubscription",["BaseGraphQLSubscription","LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription","uuid"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionCallName()+"/video_id_"+a};d.getQueryID=function(){return b("LiveVideoCopyrightActionSubscriptionWebGraphQLSubscription").getDocID()};d.getQueryParameters=function(a){return{input:JSON.stringify({client_subscription_id:b("uuid")(),video_id:a})}};d.getSubscriptionCallName=function(){return"live_video_copyright_action_subscribe"};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("VideosInfraLoapTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideosInfraLoapLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setEventCreationTime=function(a){this.$1.event_creation_time=a;return this};c.setEventID=function(a){this.$1.event_id=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setEventSeverity=function(a){this.$1.event_severity=a;return this};c.setMetadata=function(a){this.$1.metadata=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setParentSource=function(a){this.$1.parent_source=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStreamID=function(a){this.$1.stream_id=a;return this};c.setStreamType=function(a){this.$1.stream_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTraceID=function(a){this.$1.trace_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={clienttime:!0,event_creation_time:!0,event_id:!0,event_name:!0,event_severity:!0,metadata:!0,parent_source:!0,source:!0,stream_id:!0,stream_type:!0,time:!0,trace_id:!0,weight:!0};e.exports=a}),null);
__d("dispatchEvent",[],(function(a,b,c,d,e,f){function b(b,c){var d;typeof a.Event==="function"?d=new a.Event(c):(d=a.document.createEvent("Event"),d.initEvent(c,!0,!0));b.dispatchEvent(d)}e.exports=b}),null);
__d("TimeRanges",["invariant"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$1=a}var b=a.prototype;b.start=function(a){this.$1[a]||g(0,2205);return this.$1[a].startTime};b.end=function(a){this.$1[a]||g(0,2205);return this.$1[a].endTime};b.length=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("VideoQualityClasses",["VideoQualityClassInternal"],(function(a,b,c,d,e,f){e.exports=b("VideoQualityClassInternal").orderedValues}),null);
__d("VideoVisibilityObserver",["EventEmitter","IntersectionObserver","VideoPlayerExperiments","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f){__p&&__p();var g=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1];a=44;var h="-"+a+"px 0px 0px";c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this)||this;d.$VideoVisibilityObserver4=function(a){a=a[a.length-1];var c=d.$VideoVisibilityObserver1,e=d.$VideoVisibilityObserver2;d.$VideoVisibilityObserver1=a.intersectionRatio;d.$VideoVisibilityObserver2=b("intersectionObserverEntryIsIntersecting")(a);(c!==d.$VideoVisibilityObserver1||e!==d.$VideoVisibilityObserver2)&&d.emit("visibilityChanged",d.$VideoVisibilityObserver1)};d.$VideoVisibilityObserver1=0;d.$VideoVisibilityObserver2=!1;var e=g,f=b("VideoPlayerExperiments").videoVisibilityObserverUseMinimumThreshold;f&&(e=[.5]);d.$VideoVisibilityObserver3=new(b("IntersectionObserver"))(d.$VideoVisibilityObserver4,{threshold:e,rootMargin:h});d.$VideoVisibilityObserver3.observe(c);return d}var d=c.prototype;d.destroy=function(){this.$VideoVisibilityObserver3&&(this.$VideoVisibilityObserver3.disconnect(),this.$VideoVisibilityObserver3=null)};d.getIsIntersecting=function(){return this.$VideoVisibilityObserver2};d.getCurrentIntersectionRatio=function(){return this.$VideoVisibilityObserver1};return c}(b("EventEmitter"));e.exports=c}),null);
__d("VideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["buffered","buffering","bufferingProgress","beginPlayback","updateStatus","logEvent","pausePlayback","playbackNotAllowed","clickVideo","clickForTracking","finishPlayback","unmuteVideo","muteVideo","changeVolume","turnOffAutoplay","updateBuffer","updateMetadata","qualityChange","updateViewportBegin","updateViewportMove","updateViewportEnd","dimensionsChange","viewportChange","wheelScroll","error","loadedSubtitles","toggleSubtitles","toggleFullscreen","seekEnd","seekRangeChanged","streamInterrupted","streamResumed","networkInterrupted","networkResumed","debug/dashPlayerEvent","abortedLoading","restoringAfterAbort","restoredAfterAbort","sphericalOrientationChange","videoNodeStaled","replicaSwitch"];e.exports=a}),null);
__d("VideoAsyncLoggerHelper",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e,f=new(b("SubscriptionsHandler"))(),g=!1,h=function(){g||(a(),g=!0),e&&(clearTimeout(e),e=null),f.release()};e=setTimeout(h,0);c.forEach(function(a){f.addSubscriptions(d.addListener(a,h))})}e.exports={operateAsync:a}}),null);
__d("CoverVideoOffsetType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VERTICAL:0,HORIZONTAL:1})}),null);
__d("DelegatedVideoPriorityAdjuster",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=function(){},this.$2=0}var b=a.prototype;b.setOnPriorityChanged=function(a){this.$1=a};b.getPriorityAdjustment=function(){return this.$2};b.notifyAdjustment=function(a){if(this.$2===a)return;this.$2=a;this.$1(this.$2)};b.cleanup=function(){this.$1=function(){}};return a}();e.exports=a}),null);
__d("LiveCopyrightAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLOCK:"block",MUTE:"mute",UNMUTE:"unmute"})}),null);
__d("LiveVideoCopyrightActionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2145232792194057"};b.getQueryID=function(){return"2180375868916621"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MediaController",["EventEmitter","Style"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getRootNode=function(){return this.$MediaController1};d.setDimensions=function(a,c){var d=this.getRootNode();b("Style").apply(d,{width:a+"px",height:c+"px"})};d.getMediaID=function(){return this.$MediaController2};d.isLiveVideo=function(){return!1};d.isVideo=function(){return!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("SphericalVideoPlayerEvents",[],(function(a,b,c,d,e,f){e.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:"setRelativeSphericalOrientation",SET_ABSOLUTE_SPHERICAL_ORIENTATION:"setAbsoluteSphericalOrientation",SET_FIELD_OF_VIEW:"setFieldOfView",SET_VIDEO_PROJECTION:"setVideoProjection",SET_STEREO_MODE:"setStereoMode",SET_PARTIAL_LIMITS:"setPartialLimits",SET_VIEWPORT_CONTROL_CONFIG:"setViewportControlConfig"}}),null);
__d("VideoChannelViewChainLengthManager",["guid"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";__p&&__p();function a(a){this.$1=b("guid")(),this.$2=0,this.$3=a,this.$4={},this.$4[a]=0,this.$5=a}var c=a.prototype;c.registerVideoID=function(a){this.$4[a]===void 0&&(this.$2++,this.$4[a]=this.$2),this.$5=a};c.getSessionID=function(){return this.$1};c.getCurrentChainLength=function(){return this.$4[this.$5]!==void 0?this.$4[this.$5]:null};return a}(),h={};a={_ensureSessionID:function(a){a=a.toString(),h[a]||(h[a]=new g(a))},getLoggingData:function(a){a&&(a=a.toString());a=h&&h[a];return!a?{video_chaining_depth_level:null,video_chaining_session_id:null}:{video_chaining_depth_level:a.getCurrentChainLength(),video_chaining_session_id:a.getSessionID()}},registerChainingInfos:function(a,b){var c=a;if(b){b=b.decode();b.root_id&&(c=b.root_id)}c&&(c=c.toString());this.registerVideoID(c,a)},registerVideoID:function(a,b){a=a.toString(),this._ensureSessionID(a),h[a].registerVideoID(b)}};e.exports=a}),null);
__d("VideoControllerPlayingStateEmitter",["EventEmitter","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoControllerPlayingStateEmitter2=null;c.$VideoControllerPlayingStateEmitter3=b;return c}var d=c.prototype;d.enable=function(){var a=this;this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.$VideoControllerPlayingStateEmitter3.addListener("stateChange",function(){var b=a.$VideoControllerPlayingStateEmitter2;a.$VideoControllerPlayingStateEmitter2=a.$VideoControllerPlayingStateEmitter3.getState();if(a.$VideoControllerPlayingStateEmitter2===b)return;a.$VideoControllerPlayingStateEmitter5(a.$VideoControllerPlayingStateEmitter2)}));this.$VideoControllerPlayingStateEmitter2=this.$VideoControllerPlayingStateEmitter3.getState();this.$VideoControllerPlayingStateEmitter5(this.$VideoControllerPlayingStateEmitter2)};d.setOnPlaying=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("play",a))};d.setOnPaused=function(a){this.$VideoControllerPlayingStateEmitter4().addSubscriptions(this.addListener("pause",a))};d.disable=function(){this.$VideoControllerPlayingStateEmitter2=null,this.$VideoControllerPlayingStateEmitter1&&(this.$VideoControllerPlayingStateEmitter1.release(),this.$VideoControllerPlayingStateEmitter1=null)};d.$VideoControllerPlayingStateEmitter4=function(){this.$VideoControllerPlayingStateEmitter1||(this.$VideoControllerPlayingStateEmitter1=new(b("SubscriptionsHandler"))());return this.$VideoControllerPlayingStateEmitter1};d.$VideoControllerPlayingStateEmitter5=function(a){a==="playing"?this.emit("play"):a==="paused"&&this.emit("pause")};return c}(b("EventEmitter"));e.exports=a}),null);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("live_trace_www_video_player");e.exports=a}),null);
__d("VideoLiveTrace",["LiveTraceWwwVideoPlayerFalcoEvent","VideosInfraLoapTypedLogger","gkx","guid","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g="x-fb-video-livetrace-ids",h="x-fb-video-livetrace-parentsource",i="x-fb-video-livetrace-streamtype",j="x-fb-origin-hit",k="x-fb-edge-hit",l="PLY:WWW:",m=l+"DL:",n=l+"DIS:",o=1e3,p=/[\r\n]+/;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+c.substring(0,5);this.$3=l+a;this.$4=m+a;this.$5=n+a;this.$7=b("throttle")(function(a){return e.$8(a)},o)}var c=a.prototype;c.setStreamType=function(a){this.$2=a};c.$9=function(a,c,d,e,f,g){__p&&__p();var h=Date.now();if(b("gkx")("953176")){var i=Number(this.$1),j=Number(this.$2||0);b("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i,stream_type:j,event_name:c,event_severity:f,event_creation_time:h,source:a,trace_id:d,parent_source:e,metadata:g}})}else{var k=b("guid")();k=new(b("VideosInfraLoapTypedLogger"))().setStreamID(this.$1).setEventID(k).setStreamType(this.$2||0).setEventName(c).setEventSeverity(f).setEventCreationTime(h).setSource(a).setTraceID(d).setParentSource(e).setMetadata(g);k.log()}};c.onUpdateStatus=function(a){this.$7(a)};c.$8=function(a){a=a.position*1e3;var b=this.$6;while(b.length&&b[b.length-1].presentationTimestamp<=a){var c=b.pop();this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};c.handleHeadersString=function(a,b){a=a.trim().split(p);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};c.handleHeaders=function(a,b){__p&&__p();var c=[];for(var a=a.entries(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(f)}this.$10(c,b)};c.$10=function(a,c){__p&&__p();var d=this;if(!b("gkx")("678910"))return;var e="null",f=[],l=[],m="";a.forEach(function(a){__p&&__p();var b=a[0].toLowerCase();a=a[1];if(b===g&&a){var c=a.split(",");c.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.push(b);l.unshift({traceId:b,presentationTimestamp:a})})}b===h&&(m=a);d.$2===null&&b===i&&(d.$2=parseInt(a,10));(b===j||b===k)&&parseInt(a,10)&&(e=b===j?"origin":"edge")});var n=c||{};n.hit=e;l.length&&m!==""&&(this.$6=l.concat(this.$6));if(f.length&&m!==""){var o=m;f.forEach(function(a){return d.$9(d.$4,"SEGMENT",a,o,"SUCCESS",n)})}};c.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};c.getLiveTraceContext=function(){return{streamId:this.$1,streamType:this.$2||0,sourceId:this.$3}};return a}();e.exports=a}),null);
__d("VideoPlayerAbrEvaluation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IDEAL:"ideal",CONSERVATIVE:"conservative",AGGRESSIVE:"aggressive",CONSERVATIVE_RESOLUTION_CONSTRAINED:"conservative_resolution_constrained"})}),null);
__d("VideoPlayerABRQualityTracker",["VideoPlayerAbrEvaluation"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=null}var c=a.prototype;c.setLastQualitySwitchReason=function(a){this.$2=a};c.getABREvaluation=function(){__p&&__p();var a=[];this.$1&&(a=this.$1.flushABREvaluationSet());var c=0,d=0,e=0,f=0,g=this.$2;for(var h=0;h<a.length;h++)switch(a[h]){case b("VideoPlayerAbrEvaluation").IDEAL:c++;break;case b("VideoPlayerAbrEvaluation").CONSERVATIVE:d++;break;case b("VideoPlayerAbrEvaluation").AGGRESSIVE:e++;break;case b("VideoPlayerAbrEvaluation").CONSERVATIVE_RESOLUTION_CONSTRAINED:f++;break}return{idealSamples:c,conservativeSamples:d,aggressiveSamples:e,conservativeResolutionConstrainedSamples:f,lastQualitySwitchReason:g}};return a}();e.exports=a}),null);
__d("VideoPlayerFormats",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INLINE:"inline",SNOWLIFT:"snowlift",PERMALINK:"permalink",CHANNEL:"channel",FULL_SCREEN:"full_screen",SOCIAL_PLAYER:"social_player",TV:"tv",MISC:"misc",WATCH_SCROLL:"watch_scroll",WATCH_SCROLL_APP_BACKGROUND:"watch_scroll_app_background",WATCH_AND_GO:"watch_and_go",WATCH_AND_BROWSE:"watch_and_browse",CANVAS:"canvas",TAHOE:"tahoe",FB_STORIES:"fb_stories",WATCH:"watch",UNKNOWN:"unknown"})}),null);
__d("VideoPlayerImmediatePlayReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WATCH_TIME_NOT_LOGGED:"watch_time_not_logged"})}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){var g=b("guid")().slice(-8);function a(){return g}e.exports=a}),null);
__d("R2D2VideoMetadata",["getVideoBrowserTabId","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=10;a=function(){"use strict";__p&&__p();function a(a){this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*g,h),this.$5=b("uuid")()}var c=a.prototype;c.toJSON=function(){return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs(),browser_tab_id:b("getVideoBrowserTabId")()}};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return parseInt(this.$6,h)};c.setDurationMs=function(a){this.$6=a};return a}();e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=0,this.$1=new Map()}var b=a.prototype;b.addEvent=function(a){this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};b.getEvents=function(){return this.$1};b.getEventsCount=function(){return this.$2};b.toJSON=function(){var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};return a}();e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getStartTimeMs=function(){return this.$1};b.getEndTimeMs=function(){return this.$2};return a}();e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.reset()}var c=a.prototype;c.startPlaying=function(a){this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};c.stopPlaying=function(a){this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};c.addPlaySegmentHelper=function(a,c,d){__p&&__p();if(c>=d)return;d=new(b("R2D2VideoWatchTimeSegment"))(c,d);var e=!1;for(var f=0;f<a.length;f++)if(a[f].getStartTimeMs()>c){a.splice(f,0,d);e=!0;break}e||a.push(d)};c.addPlaySegment=function(a,b){this.addPlaySegmentHelper(this.$8,a,b)};c.addPlaySegmentWithSound=function(a,b){this.addPlaySegmentHelper(this.$9,a,b)};c.setFinishedPlaying=function(){this.$5=!0};c.getFinishedPlaying=function(){return this.$5};c.setMuted=function(a){this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};c.setUnmuted=function(a){this.$4&&(this.$4=!1,this.$7=a)};c.getVideoId=function(){return this.$1};c.getDurationMs=function(){return this.$2};c.setDurationMs=function(a){this.$2=a};c.getWatchedSegments=function(){return this.$8};c.getWatchedSegmentsWithSound=function(){return this.$9};c.reset=function(){this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};return a}();e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=90*60*1e3;a=function(){"use strict";__p&&__p();function a(a,c,d){this.$4=new(b("R2D2VideoState"))(a.getVideoId(),a.getDurationMs()),this.$5=c,this.$6=d,this.$7=a,this.$8=[],this.$3=!1,this.$9=new(b("R2D2VideoEventValidationSummary"))()}var c=a.prototype;c.addEvent=function(a,b){if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};c.$11=function(a){a=a.playback_duration*g;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};c.$12=function(a,b){var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};c.$10=function(a,b){if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};c.hasUpdates=function(){return this.$3};c.hasExpired=function(){return this.$2.getTime()<=Date.now()-h};c.recalculateDelta=function(){var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};c.getMetadata=function(){return this.$7};c.getDebugInfo=function(){return this.$8};c.getEventValidationSummary=function(){return this.$9};c.getStateVideoDurationMsForTesting=function(){return this.$4.getDurationMs()};return a}();e.exports=a}),null);
__d("R2D2VideoStateMachine",["VideoPlayerLoggerEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.processEvent=function(a,c,d){__p&&__p();switch(a){case b("VideoPlayerLoggerEvent").STARTED_PLAYING:case b("VideoPlayerLoggerEvent").UNPAUSED:d.startPlaying(c.video_time_position*g);break;case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:d.stopPlaying(c.video_time_position*g);d.setFinishedPlaying();break;case b("VideoPlayerLoggerEvent").PAUSED:d.stopPlaying(c.video_time_position*g);break;case b("VideoPlayerLoggerEvent").MUTED:d.setMuted(c.video_time_position*g);break;case b("VideoPlayerLoggerEvent").UNMUTED:d.setUnmuted(c.video_time_position*g);break}};return a}();e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="finish_count";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return a.getFinishedPlaying()?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="play_count";a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return a.getWatchedSegments().length>0&&c.compute(a)>0?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){__p&&__p();var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){__p&&__p();var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};b.computeDelta=function(a,b){var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=[],this.$1=new Map()}var b=a.prototype;b.getMetricValue=function(a){a=this.$1.get(a);return a===null||a===void 0?null:a};b.setMetricValue=function(a,b){b!==null&&this.$1.set(a,b)};b.toJSON=function(){var a=this,b={};this.$1.forEach(function(c,d){b[d]=a.$3(c)});if(this.$2.length>0){var c="debug_details";b[c]=JSON.stringify(this.$2)}return b};b.addDebugInfo=function(a){this.$2.push(a)};b.$3=function(a){return Array.isArray(a)?"["+a.toString()+"]":a};return a}();e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){__p&&__p();a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_";a=function(){"use strict";__p&&__p();function a(a){this.percentFactor=a}var c=a.prototype;c.compute=function(a){return b("R2D2MetricsHelper").isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g+this.percentFactor};return a}();e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=100;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="true_view_count",h=10*1e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=25;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=50;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=75;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f){var g=95;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,g)||this}return b}(b("R2D2ViewCountPercentage"));e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="retention_graph",h=4,i=40,j=1e3,k=10;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.computeDelta=function(a,b){if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};c.getMetricName=function(){return g};c.compute=function(a){__p&&__p();var c=a.getDurationMs();if(!isFinite(c)||c<=0)return[];c=new(b("R2D2ViewCountMetric"))().compute(a);var d=a.getDurationMs(),e=parseInt(((d-1)/(j*h)+1)*h,k);e=Math.min(e,i);var f=new Array(e+1);f.fill(0);if(c==0)return f;c=a.getWatchedSegments();for(var a=0;a<c.length;a++){var g=c[a],l=parseInt(e*g.getStartTimeMs()/d,k);g=parseInt(e*g.getEndTimeMs()/d,k);if(l<=g&&l>=0&&g<=e)for(var l=l;l<=g;l++)f[l]=1}return f};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_with_sound_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();var g="view_count_with_sound_on",h=3e3,i=.97;a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.compute=function(a){var c=new(b("R2D2UniqueTimeSpentWithSoundMetric"))();return c.compute(a)>=h||a.getDurationMs()>0&&c.compute(a)>=a.getDurationMs()*i?1:0};c.computeDelta=function(a,b){return a-b};c.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=[new(b("R2D2UniqueTimeSpentMetric"))(),new(b("R2D2PlayCountMetric"))(),new(b("R2D2ViewCountMetric"))(),new(b("R2D2VideoPlayRetention0to15s"))(),new(b("R2D2FinishCountMetric"))(),new(b("R2D2ViewCountRetentionGraphMetric"))(),new(b("R2D2ViewCount25Metric"))(),new(b("R2D2ViewCount50Metric"))(),new(b("R2D2ViewCount75Metric"))(),new(b("R2D2ViewCount95Metric"))(),new(b("R2D2ViewCount100Metric"))(),new(b("R2D2ViewCountWithSoundMetric"))(),new(b("R2D2ViewCount10Metric"))()]}var c=a.prototype;c.getVideoStateSummary=function(a){var c=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){return c.setMetricValue(b.getMetricName(),b.compute(a))});return c};c.calculateDelta=function(a,c){var d=new(b("R2D2VideoStateSummary"))();this.$1.forEach(function(b){var e=a.getMetricValue(b.getMetricName());if(c!==void 0){var f=c.getMetricValue(b.getMetricName());e=b.computeDelta(e,f)}d.setMetricValue(b.getMetricName(),e)});return d};return a}();e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=10*1e3,h="video_player",i="r2d2_summary",j="r2d2_event_validation";a=function(){"use strict";__p&&__p();function a(a){this.$4=a,this.$2=new(b("R2D2VideoStateSummaryCalculator"))(),this.$1=new Map()}var c=a.prototype;c.setScriptPath=function(a){this.$3=a};c.$5=function(a,b){return a+":"+b};c.addEvent=function(a,c){var d=this;if(this.shouldNotLogEvent(a))return;var e=this.$5(c.player_instance_key,c.video_id),f=this.$1.get(e);f==null&&(f=new(b("R2D2VideoSession"))(new(b("R2D2VideoMetadata"))(c),new(b("R2D2VideoStateMachine"))(),this.$2),this.$1.set(e,f));f.addEvent(a,c);setTimeout(function(){return d.$6()},g)};c.$6=function(){var a=this,c=[];this.$1.forEach(function(d,e){var f=null;d.hasUpdates()?f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.recalculateDelta(),i):d.hasExpired()&&(c.push(e),f=a.createR2D2SummaryLoggingData(d.getMetadata(),d.getEventValidationSummary(),j));f!==null&&b("Banzai").post(h,f)});c.forEach(function(b){a.$1["delete"](b)})};c.createR2D2SummaryLoggingData=function(a,b,c){a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};c.shouldLogForR2D2=function(){return b("gkx")("676938")};c.shouldNotLogEvent=function(a){var c=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);return!c.has(a)};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLogger",["invariant","Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","getVideoBrowserTabId","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("VideoPlayerHTML5Experiments").useBanzaiVitalForLive,i=b("VideoPlayerHTML5Experiments").discerningAbandonStallLogging,j="video_player",k=5e3,l=function(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()};a=function(){__p&&__p();function a(a,c){this.$2=a,this.$3=null,this.$5={},this.$4=c,this.$7=0,this.$8=0,this.$9=0,this.$10=0,this.$6=[],this.$19=0,this.$20=0,this.$11=0,this.$27=!1,this.$16=!1,this.$29(),this.$30(),this.$28=new(b("R2D2Logger"))(this.$2)}var c=a.prototype;c.updateSource=function(a){this.$2=a};c.getSource=function(){return this.$2};c.logEvent=function(a,c){__p&&__p();c=babelHelpers["extends"]({},c,this.$4);c.initial_event=!Object.prototype.hasOwnProperty.call(this.$5,a);Object.prototype.hasOwnProperty.call(c,"time_ms")||(c.time_ms=l());Object.prototype.hasOwnProperty.call(c,"browser_tab_id")||(c.browser_tab_id=b("getVideoBrowserTabId")());Object.prototype.hasOwnProperty.call(c,"time")||(c.time=Math.round(c.time_ms/1e3));c.is_stalling=this.$31();c.error_user_info=this.$32(c.error_user_info);this.$3&&Object.assign(c,this.$3);switch(a){case b("VideoPlayerLoggerEvent").PAUSED:case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:if(this.$24){var d=this.$24,e=d.getABREvaluation();c.ideal_samples=e.idealSamples;c.conservative_samples=e.conservativeSamples;c.aggressive_samples=e.aggressiveSamples;c.conservative_resolution_constrained_samples=e.conservativeResolutionConstrainedSamples;c.last_quality_switch_reason=e.lastQualitySwitchReason;c.reason&&d.setLastQualitySwitchReason(c.reason)}e=typeof this.$25==="function"&&this.$25();d=typeof this.$26==="function"&&this.$26();typeof d==="number"&&typeof e==="number"&&(c.dropped_frame_count=e,c.total_frame_count=d);break}switch(a){case b("VideoPlayerLoggerEvent").STARTED_PLAYING:case b("VideoPlayerLoggerEvent").UNPAUSED:this.$27=!0;break;case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:case b("VideoPlayerLoggerEvent").ERROR:case b("VideoPlayerLoggerEvent").PAUSED:this.$27=!1;break}switch(a){case b("VideoPlayerLoggerEvent").REQUESTED_PLAYING:this.$29();this.$33();this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED;break;case b("VideoPlayerLoggerEvent").STARTED_PLAYING:case b("VideoPlayerLoggerEvent").UNPAUSED:case b("VideoPlayerLoggerEvent").FINISHED_PLAYING:case b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING:case b("VideoPlayerLoggerEvent").ERROR:case b("VideoPlayerLoggerEvent").PAUSED:case b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED:case b("VideoPlayerLoggerEvent").HEART_BEAT:if(a===b("VideoPlayerLoggerEvent").ERROR&&b("VideoPlayerExperiments").disableStallLoggingForError)break;if(a==b("VideoPlayerLoggerEvent").REPRESENTATION_ENDED&&!this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING])break;if(a===b("VideoPlayerLoggerEvent").HEART_BEAT&&(!this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING]||!b("VideoPlayerHTML5Experiments").heartbeatUpdateWatchTimeV2||this.$31()))break;a===b("VideoPlayerLoggerEvent").HEART_BEAT&&(c.v2_heart_beat=!0);(a===b("VideoPlayerLoggerEvent").STARTED_PLAYING||a===b("VideoPlayerLoggerEvent").UNPAUSED)&&(this.$11=c.time_ms,this.$34());if(a===b("VideoPlayerLoggerEvent").ERROR&&c.state!==b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE)break;a===b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING&&(this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING]?c.state=b("VideoPlayerLoggerPlayerStates").UNPAUSED:c.state=b("VideoPlayerLoggerPlayerStates").STARTED);this.$35();this.$36();(a===b("VideoPlayerLoggerEvent").PAUSED||a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING)&&(i&&a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING&&this.$34(),c.recent_stalls_count=this.$37());this.$38();this.$39(c);this.$40(c);this.$30();i&&this.$34();this.$29();break}e={logData:c,event:a,scriptPath:this.$1,source:this.$2};a||b("FBLogger")("video").warn("Missing event name");this.$5[a]=!0;if(this.$2===b("VideoPlayerLoggerSource").ANIMATED_IMAGE_SHARE)return null;c.ad_client_token||b("VideoPlayerHTML5Experiments").useVitalForEverything||h&&c.playback_is_live_streaming||b("VideoPlayerHTML5Experiments").useVitalForClosing&&(a===b("VideoPlayerLoggerEvent").PAUSED||a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING||a===b("VideoPlayerLoggerEvent").HEART_BEAT)||b("VideoPlayerHTML5Experiments").useVitalForOpening&&(a===b("VideoPlayerLoggerEvent").UNPAUSED||a===b("VideoPlayerLoggerEvent").STARTED_PLAYING)?b("Banzai").post(j,e,b("Banzai").VITAL):b("Banzai").post(j,e);this.$28.shouldLogForR2D2()&&this.$28.addEvent(a,c);return e};c.setScriptPath=function(a){this.$1=a,this.$28.setScriptPath(a)};c.setFTData=function(a){this.$3=a};c.setABRQualityTracker=function(a){this.$24=a};c.setFrameCountGetters=function(a,b){this.$25=a,this.$26=b};c.startBuffering=function(a){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING])return;this.$33(a)};c.endBuffering=function(){if(b("VideoPlayerHTML5Experiments").disableBufferingBeforeStartedPlaying&&!this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING])return;this.$36();this.$41();this.$35();this.$38()};c.startInterrupt=function(){this.$42()};c.endInterrupt=function(){this.$36(),this.$41()};c.$31=function(){return this.$15>0};c.$33=function(a){if(this.$31())return;this.$16=this.$27;this.$15=Date.now();a!==void 0&&this.$5[b("VideoPlayerLoggerEvent").STARTED_PLAYING]&&(this.$17=a)};c.$42=function(){if(this.$43())return;this.$21=Date.now()};c.$43=function(){return this.$21>0};c.$44=function(){return!this.$43()?0:Date.now()-this.$21};c.$45=function(){return this.$31()?Date.now()-this.$15:0};c.$36=function(){if(this.$43()){var a=this.$44();this.$22+=a;this.$20+=a;this.$23+=1;this.$19+=1}};c.$41=function(){this.$43()&&(this.$21=0)};c.$30=function(){this.$22=0,this.$23=0,this.$41()};c.$35=function(){__p&&__p();if(this.$31()){var a=this.$45();this.$17!==null&&(this.$18=a);this.$14+=a;this.$8+=a;this.$12++;a>200&&this.$13++;this.$7++;this.$16&&(this.$10+=a,this.$9++,this.$16=!1);i&&this.$6.push(l())}};c.$38=function(){this.$31()&&(this.$15=0)};c.$32=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};c.getCumulativeStallCount=function(){return this.$7};c.getCumulativeInPlayStallCount=function(){return this.$9};c.getStallCount=function(){return this.$12};c.getCumulativeStallTime=function(){return this.$8+this.$45()};c.getCumulativeInPlayStallTime=function(){return this.$10+(this.$16?this.$45():0)};c.getCumulativeInterruptCount=function(){return this.$19};c.getCumulativeInterruptTime=function(){return this.$20+this.$44()};c.$39=function(a){a.stall_time=Math.max(0,this.$14),a.stall_count=this.$12,a.stall_count_200_ms=this.$13,this.$18&&(a.first_stall_time=this.$18,a.first_stall_start_position=this.$17)};c.$40=function(a){a.interrupt_time=Math.max(0,this.$22),a.interrupt_count=this.$23};c.$37=function(){var a=l(),b=a-k;this.$6=this.$6.filter(function(a){return a>=b});i||this.$12>0&&this.$6.push(a);return this.$6.length};c.$29=function(){this.$14=0,this.$15=0,this.$12=0,this.$13=0,this.$17=null,this.$18=0};c.$34=function(){this.$6=[]};c.getFTdata=function(){return this.$3};return a}();a.Sources=b("VideoPlayerLoggerSource");a.Errors=b("VideoPlayerLoggerErrors");a.FallbackReasons=b("VideoPlayerLoggerFallbackReasons");a.ErrorStates=b("VideoPlayerLoggerErrorStates");a.PlayerStates=b("VideoPlayerLoggerPlayerStates");e.exports=a}),null);
__d("VideoPlayerOrigins",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:"unknown",NEWSFEED:"newsfeed",USER_TIMELINE:"user_timeline",PAGE_TIMELINE:"page_timeline",PARENT_PAGE_TIMELINE:"parent_page_timeline",PERMALINK:"permalink",GROUP:"group",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",CONNECTED_TV_CATALOG:"connected_tv_catalog",CONNECTED_TV_SAMSUNG_EDEN_TILE:"connected_tv_samsung_eden_tile",CONNECTED_TV_SAMSUNG_LC:"connected_tv_samsung_lc",CONNECTED_TV_SERIES:"connected_tv_series",SOCIAL_PLAYER:"social_player",VIDEO_HOME:"video_home",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_REACTION:"video_home_reaction",VIDEO_HOME_MAIN:"video_home_main",VIDEO_HOME_GUIDE:"video_home_guide",VIDEO_TAB:"video_tab",EXTERNAL:"external",INSTANT_ARTICLES:"instant_articles",INTERN:"intern",BACKSTAGE:"backstage",INSTANT_SHOPPING:"instant_shopping",REDSPACE:"redspace",SAVED:"saved",SEARCH:"search",NOTIFICATIONS:"notifications",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_DISCOVERY:"live_discovery",LIVE_MAP:"live_map",LIVE_REDIRECT:"live_redirect",LIVE_EMBED_REDIRECT:"live_embed_redirect",LOCAL_NEWS:"local_news",MOVIE_CHECKOUT_FLOW:"movie_checkout_flow",PAGES_MODULE:"pages_module",PAGES_VIDEO_TAB:"pages_video_tab",BUSINESS_PAGE_VIDEO_EDUCATION_UNIT:"business_page_video_education_unit",BUSINESS_PAGE_VIDEO_EDUCATION_DIALOG:"business_page_video_education_dialog",PROMOTIONS_MANAGER_INSPIRATION_GALLERY:"promotions_manager_inspiration_gallery",BACKGROUND_PLAY:"background_play",QUICK_PROMOTION:"quick_promotion",CULTURAL_MOMENTS_SHARE:"cultural_moments_share",CULTURAL_MOMENTS_PROMOTION:"cm_promotion",DAILY_DIALOGUE_PINNED_UNIT:"dd_pinned",SPHERIAL_VIDEO_EDITING:"spherial_video_editing",EXPLORE_FEED:"explorefeed",RHC:"rhc",ADS:"ads",CANVAS:"canvas",COMMERCE:"commerce",COMPOSER:"composer",DASH:"dash",FACEWEB:"faceweb",FEEDBACK:"feedback",FRIENDS:"friends",EVENTS:"events",HELP:"help",INFRASTRUCTURE:"infrastructure",LOGIN:"login",MARKETING:"marketing",MESSAGING:"messaging",NAVIGATION:"navigation",PHOTOS:"photos",PRIVACY:"privacy",SETTINGS:"settings",STORY_VIEW:"story_view",WEBVIEW:"webview",TRENDING:"trending",FACECAST_NUX:"facecast_nux",PIXELCLOUD:"pixelcloud",PROTON:"proton",TAROT:"tarot",GAMEROOM:"gameroom",GAMES_VIDEO_CHANNEL:"games_video_channel",GAMES_VIDEO_HUB:"games_video_hub",LEARN:"learn",BEEPER:"beeper",FACECAST_BEEPER:"facecast_beeper",JOB_SEARCH:"job_search",TOP_LIVE_BOOKMARK:"top_live_bookmark",AUTODOWNLOAD:"autodownload",FB_STORIES:"fb_stories",DIRECT_INBOX:"direct_inbox",COMMENT:"comment",LIVE_VIDEO_END_SCREEN:"live_video_end_screen",MEDIA_GALLERY:"media_gallery",MOMENTS:"moments",PHOTOSFEED:"photosfeed",SIMPLE_PICKER:"simple_picker",VIDEO_EDITING_GALLERY:"video_editing_gallery",ALBUM:"album",OFFERS:"offers",MESSENGER_THREAD:"messenger_thread",MESSENGER_MONTAGE:"messenger_montage",MESSENGER_GIF:"messenger_gif",SHARED_VIDEO:"shared_video",VISUAL_POLL_GIF:"visual_poll_gif",LIVING_ROOM:"living_room",LIVE_CHAINING:"live_chaining",BRANDED_CONTENT:"branded_content",LIVING_ROOM_RECAP:"living_room_recap",LIVING_ROOM_ADD_VIDEO:"living_room_add_video",POLITICAL_AD_ARCHIVE:"political_ad_archive",MESSENGER_ADS:"messenger_ads",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",HASHTAG_DISCOVERY:"hashtag_discovery",VIDEO_GIF_CREATION:"video_gif_creation",VIEW_ADS:"view_ads",GAME_GROUP_RHC:"game_group_rhc",GAME_PAGE_RHC:"game_page_rhc",INTERN_CURATION:"intern_curation",SEARCH_VOYAGER:"search_voyager",KOTOTORO:"kototoro",CMS:"cms",PAGE_SPOTLIGHT:"page_spotlight",PAGE_VIDEOS_TAB:"page_videos_tab",PAGE_VIDEOS_CARD:"page_videos_card",PLAYLIST_PAGE:"playlist_page",PLAYLISTS_CARD:"playlists_card",PLAYLISTS_TAB:"playlists_tab",MESSENGER_STORY:"messenger_story",GAMES_FEED:"games_feed",GAMES_TAB:"games_tab",GAMES_ACTION_LINK:"games_action_links",GAMES_VIDEO_STREAMER_DASHBOARD:"games_video_streamer_dashboard",GAMES_VIDEO_CLIPS_HOME:"games_video_clips_home",GAMES_VIDEO_CLIPS_HOME_TOP_CLIPS:"games_video_clips_home_top_clips",GAMES_VIDEO_CLIPS_HOME_YOUR_CLIPS:"games_video_clips_home_your_clips",WATCH_SUGGESTED_PAGES_QP:"watch_suggested_pages_qp",WATCH_ORIGINALS_QP:"watch_originals_qp",VIDEO_CATALOG:"video_catalog",INTERACTIVE_POLL_CREATION_KIT:"interactive_poll_creation_kit",SERIES_CARD:"series_card",WAGER_SURFACE:"wager_surface",PAGE_MUSIC_VIDEOS_SPOTLIGHT:"page_music_videos_spotlight",MUSIC_VIDEOS_TAB:"music_videos_tab",LIVE_RHC:"LIVE_RHC",THREAD:"thread",NOTIFICATIONS_SHOWS_FOLLOWER_NEW_EPISODE:"notifications_shows_follower_new_episode",NOTIFICATIONS_HEAVY_SAVE_REMINDER:"notifications_heavy_save_reminder",NOTIFICATIONS_WATCH_FOLLOWER_CAMPAIGN:"notifications_watch_follower_campaign",SEARCH_VIDEO_HOME:"search_video_home"})}),null);
__d("VideoPlayerUIComponentDrawerController",["VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,b){return a.getPriority()-b.getPriority()};a=function(){__p&&__p();function a(){this.$1=[]}var c=a.prototype;c.register=function(a,c){__p&&__p();var d=this;c=new(b("VideoPlayerUIComponentDrawer"))(a,c);c.addListener("reserve",function(){return d.$2(a)});c.addListener("release",function(){return d.$2(a)});c.addListener("heightChange",function(){return d.$2(a)});this.$1.push(c);this.$1.sort(g);return c};c.$2=function(a){var b=0;this.$1.forEach(function(c){c.getPriority()>a&&c.emit("reposition",b),c.isReserved()&&(b+=c.getHeight())})};return a}();e.exports=a}),null);
__d("VideoViewabilityPercentage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFSCREEN:-2,VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d("ViewabilityVideoElement",["UITinyViewportAction","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();var g=42;a=function(){"use strict";__p&&__p();function a(a,b,c,d){d===void 0&&(d=!1),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var c=a.prototype;c.feedViewabilityPercentage=function(){var a=b("UITinyViewportAction").isTinyHeight();return this.$5(!a)};c.viewabilityPercentage=function(){return this.$5(!1)};c.isTopElement=function(a,b,c){b=document.elementFromPoint(b,c);return b===a||!!a&&a.contains(b)||!!b&&b.contains(a)};c.$5=function(a){__p&&__p();var c=b("getViewportDimensions")(),d=c.width;c=c.height;var e=this.$4&&this.$3?this.$3:this.$1;e=b("getElementPosition")(e);if(e.width===0||e.height===0)return 0;var f=e.x,h=e.x+e.width,i=e.y,j=e.y+e.height;a=a?g:0;if(h<=0||f>=d||j<=a||i>=c)return 0;h=Math.min(h,d)-Math.max(f,0);d=Math.min(j,c)-Math.max(i,a);f=h*d*100/(e.width*e.height);return f};return a}();e.exports=a}),null);
__d("VideoViewabilityLogging",["VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoViewabilityPercentage","ViewabilityVideoElement","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoPlayerExperiments").viewabilityPollingRate,h=new Map([[0,b("VideoViewabilityPercentage").VIEWABLE_0],[25,b("VideoViewabilityPercentage").VIEWABLE_25],[50,b("VideoViewabilityPercentage").VIEWABLE_50],[75,b("VideoViewabilityPercentage").VIEWABLE_75],[100,b("VideoViewabilityPercentage").VIEWABLE_100]]);a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$12=function(a){if(!f.$14())return;a=b("performanceNow")();a-f.$1>g&&(f.$10(),f.$1=a);f.$2=window.requestAnimationFrame(f.$12)};this.$9=function(){f.$13()};this.$8=function(){f.setLastLoggedViewability(f.getViewability()),f.$11()};this.$1=0;this.$4=a;this.$5=new(b("ViewabilityVideoElement"))(c,d,e,this.$4.isSpherical());this.$6()}var c=a.prototype;c.getViewability=function(){var a;this.$4.isInline()?a=this.$5.feedViewabilityPercentage():a=this.$5.viewabilityPercentage();return this.$7(a)};c.setLastLoggedViewability=function(a){this.$3=a};c.$6=function(){this.$4.addListener("beginPlayback",this.$8),this.$4.addListener("pausePlayback",this.$9)};c.$10=function(){var a=this.getViewability();a!=this.$3&&(this.$4.logEvent(b("VideoPlayerLoggerEvent").VIEWABILITY_CHANGED,{current_viewability_percentage:a,last_viewability_percentage:this.$3}),this.$3=a)};c.$11=function(){this.$2=window.requestAnimationFrame(this.$12)};c.$13=function(){window.cancelAnimationFrame(this.$2)};c.$14=function(){return this.$4.getVideoAPI().isPaused()!==void 0?!this.$4.getVideoAPI().isPaused():this.$4.getState()==="playing"};c.$7=function(a){__p&&__p();var c=b("VideoViewabilityPercentage").OFFSCREEN;if(a<=0)return c;for(var d=h,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var i=g[0];g=g[1];a>=i&&(c=g)}return c};return a}();e.exports=a}),null);
__d("XVideoDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1}})}),null);
__d("forwardEvent",[],(function(a,b,c,d,e,f){function a(a,b,c){return a.addListener(c,function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.emit.apply(b,[c].concat(d))})}e.exports=a}),null);
__d("getVideoComponentName",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){if(a!=null){var b=null;a.prototype&&a.prototype.constructor?b=a.prototype.constructor:a.constructor&&(b=a.constructor);if(b&&b.name)return b.name;if(typeof a.toString==="function")return a.toString()}return null}e.exports=a}),null);
__d("VideoPlayerController",["csx","cx","invariant","Promise","Arbiter","Banzai","Bootloader","CoverVideoOffsetType","CSS","CurrentUser","DelegatedVideoPriorityAdjuster","DOM","DOMDimensions","DOMQuery","ErrorUtils","EventEmitter","FBLogger","FullScreen","JSLogger","JSResource","LiveCopyrightAction","LiveVideoCopyrightActionQueryWebGraphQLQuery","LiveVideoCopyrightActionSubscription","MediaController","Parent","Run","ScriptPath","SparkMD5","SphericalVideoPlayerEvents","SubscriptionsHandler","TahoeVariables","URI","VideoAsyncLoggerHelper","VideoChannelViewChainLengthManager","VideoControllerPlayingStateEmitter","VideoLiveTrace","VideoMimeTypes","VideoPermalinkURI","VideoPlaybackQuality","VideoPlayerABRQualityTracker","VideoPlayerApiEvents","VideoPlayerConnectionQuality","VideoPlayerExperiments","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerImmediatePlayReason","VideoPlayerLogger","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerResizeSettings","VideoPlayerShakaBandwidthEstimator","VideoPlayerShakaConfig","VideoPlayerStateBasedLoggingEvents","VideoPlayerStates","VideoPlayerUIComponentDrawer","VideoPlayerUIComponentDrawerController","VideoPlayerVersions","VideoPlayerVolumeSettings","VideosRenderingInstrumentation","VideoViewabilityKeyEvents","VideoViewabilityLogging","VideoVisibilityObserver","ViewportTrackingHelper","Visibility","WebGraphQL","XVideoDataController","canVideoPlayType","clearInterval","clearTimeout","collectDataAttributes","enumerate","forwardEvent","getContextualParent","getElementPosition","getFullScreenElement","getVideoComponentName","getViewportDimensions","gkx","guid","ifRequired","logVideosClickTracking","mapObject","performanceAbsoluteNow","promiseDone","requireWeak","setInterval","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("VideoAsyncLoggerHelper").operateAsync,k=b("VideoPlaybackQuality").getDroppedFrames,l=b("VideoPlaybackQuality").getTotalFrames,m=null;b("requireWeak")("LiveVideoPlayerStore",function(a){return m=a});var n=5,o=1;function p(){return b("VideoPlayerHTML5Experiments").useMonotonicallyIncreasingTimers?b("performanceAbsoluteNow")():Date.now()}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e,f=c.video_id,g=c.video_ids,h=c.video_url,i=c.video_urls,j=c.chaining_token,m=c.video_channel_id,n=c.video_list_id,o=c.reaction_video_channel_type,q=c.reaction_video_channel_subtype,r=c.source,s=c.ad_client_token,t=c.should_autoplay,u=c.immediateplay_reason,v=c.player_version,w=c.autoplay_setting,x=c.apiModule,y=c.apiConfig,z=c.useInlineFallback,A=c.accessToken,B=c.projection,C=c.playerOrigin,D=c.playerSuborigin,E=c.isBroadcast,F=c.isInstreamAd,G=c.components,H=c.trackingCodes,I=c.alwaysShowCaptions;c.disableLogging;var J=c.subtitleBackgroundColor,K=c.subtitleBackgroundOpacity,L=c.subtitleTextColor,M=c.subtitleTextSize,N=c.video_path,O=c.customLoggingProps,P=c.broadcasterOrigin,Q=c.allowCrossPageTransition,R=c.isReactPlayer,S=c.offsettype,T=c.offsetvalue,U=c.upstreamPlayerSource,V=c.shouldLogVideoViewability,W=c.livingRoomSessionID,X=c.broadcastId,Y=c.isAdsPreview,Z=c.isInjectedAds,$=c.isBroadcaster,aa=c.keepPlayingOnDialog,ba=c.isChainedLivingRoom,ca=c.liveLinearChannelId,da=c.isReplayLivingRoom;c=c.device_id;var ea=d.root_element,fa=d.container_element;d=d.video_element;e=a.call(this)||this;e.$VideoPlayerController20=!1;e.$VideoPlayerController38=!1;e.$VideoPlayerController76=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);e.$VideoPlayerController77=0;e.$VideoPlayerController109=[];e.$VideoPlayerController115=null;e.$VideoPlayerController116=null;e.$VideoPlayerController117=new(b("EventEmitter"))();e.$VideoPlayerController122=null;e.emitHeartbeat=function(){if(!e.isState(b("VideoPlayerStates").PLAYING)||!e.getVideoNode()){e.stopHeartbeat();return}if(b("VideoPlayerHTML5Experiments").heartbeatSkipOnBuffering&&e.isBuffering())return;e.getVideoAPI().logHeartbeat()};e.$VideoPlayerController166=function(){if(!b("VideoPlayerExperiments").allowBufferingErrorForHiddenTab&&b("Visibility").isHidden()){e.$VideoPlayerController165();e.$VideoPlayerController98=b("setTimeout")(e.$VideoPlayerController166,e.$VideoPlayerController104);return}var a=e.getVideoAPI().isPaused()!==void 0?!e.getVideoAPI().isPaused():e.getState()==="playing";a&&(e.logError({error:"BUFFERING_TIMEOUT",message:"video has been in buffering state for over "+e.$VideoPlayerController104+"ms.",isPlayback:e.isPlayRequestPending()}),e.$VideoPlayerController165(),e.emit("error",b("VideoPlayerLoggerFallbackReasons").TIMEOUT))};e.$VideoPlayerController113=b("guid")();e.$VideoPlayerController46=0;e.$VideoPlayerController24=0;e.$VideoPlayerController23=new Map();e.$VideoPlayerController79={};O&&e.setLogEntryPropertyGetters(O);if(t===void 0)throw new Error("Must pass should_autoplay to "+e.constructor.name+"!");e.$VideoPlayerController22=new(b("VideoPlayerUIComponentDrawerController"))();e.$VideoPlayerController13=new Map();e.$VideoPlayerController57=B;e.$VideoPlayerController1=A;e.$VideoPlayerController67=!!t;e.$VideoPlayerController68=u;e.$VideoPlayerController8=w;e.$VideoPlayerController2=s;e.$VideoPlayerController53=!1;e.$VideoPlayerController89=d;e.$VideoPlayerController66=ea;e.$VideoPlayerController15=fa;e.$VideoPlayerController33=!1;e.$VideoPlayerController34=!1;e.$VideoPlayerController56=v;e.$VideoPlayerController88=f||g&&g[0]||"";e.$VideoPlayerController91=h||i&&i[0];e.$VideoPlayerController90=N;e.$VideoPlayerController11=j;e.$VideoPlayerController85=m;e.$VideoPlayerController86=n;e.$VideoPlayerController54=C;e.$VideoPlayerController55=D||r;e.$VideoPlayerController31=E;e.$VideoPlayerController39=F;e.$VideoPlayerController81=H;e.$VideoPlayerController3=I;e.$VideoPlayerController71=J||"";e.$VideoPlayerController72=K==void 0?0:K;e.$VideoPlayerController73=L||"";e.$VideoPlayerController74=M==void 0?0:M;e.$VideoPlayerController29=b("uniqueID")();e.$VideoPlayerController63=o;e.$VideoPlayerController64=q;e.$VideoPlayerController116=X;e.$VideoPlayerController118=Y;e.$VideoPlayerController119=Z;e.$VideoPlayerController120=aa;e.$VideoPlayerController5=x;e.$VideoPlayerController4=y;e.$VideoPlayerController75=e.$VideoPlayerController5.getStartMutedFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController43=e.$VideoPlayerController5.getStreamTypeFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController42=e.$VideoPlayerController5.getIsServableViaFbmsFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController40=e.$VideoPlayerController5.getIsPlayingLiveFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController41=e.$VideoPlayerController5.getIsGamingFromConfig(e.$VideoPlayerController4);e.isLiveVideo()&&e.$VideoPlayerController5.getIsLiveTraceEnabledOnPlayer(e.$VideoPlayerController4)&&e.$VideoPlayerController116&&(e.$VideoPlayerController115=new(b("VideoLiveTrace"))(e.$VideoPlayerController116,e.$VideoPlayerController113,b("CurrentUser").getAccountID()));e.$VideoPlayerController111=!!V;e.$VideoPlayerController36=e.$VideoPlayerController5.getIsSpherical(e.$VideoPlayerController4);O={is_ad:e.isAd(),is_live:e.$VideoPlayerController40,player_format:e.$VideoPlayerController124(e.isFullscreen(),r)||"unknown",connection_quality:b("VideoPlayerConnectionQuality").evaluate(b("VideoPlayerShakaBandwidthEstimator").getBandwidth),is_spherical:e.$VideoPlayerController36,content_category:"general",latency_level:"normal",servable_via_fbms:void 0,servable_via_fmbs:void 0};b("gkx")("967666")?O.servable_via_fmbs=!1:O.servable_via_fbms=!1;e.$VideoPlayerController14=new(b("VideoPlayerShakaConfig"))(O);e.$VideoPlayerController112=W;e.$VideoPlayerController121=ba;e.$VideoPlayerController123=da;e.$VideoPlayerController122=ca;e.$VideoPlayerController43==="progressive"?e.$VideoPlayerController104=b("VideoPlayerExperiments").progressiveBufferingErrorTimeout:e.isLiveVideo()?e.$VideoPlayerController104=b("VideoPlayerExperiments").liveBufferingErrorTimeout:e.$VideoPlayerController104=b("VideoPlayerExperiments").bufferingErrorTimeout;b("VideoPlayerExperiments").createVideoVisibilityObserver&&e.$VideoPlayerController125();e.$VideoPlayerController35=e.$VideoPlayerController5.getIsFacecastAudioFromConfig(e.$VideoPlayerController4);e.$VideoPlayerController83=!!z;e.$VideoPlayerController96=new Set();e.$VideoPlayerController97=P;e.$VideoPlayerController98=null;e.$VideoPlayerController99=!!Q;e.$VideoPlayerController100=!!R;e.$VideoPlayerController101=e.getContainerNode().style.paddingBottom;e.$VideoPlayerController102=S;e.$VideoPlayerController103=T;e.$VideoPlayerController105=!1;e.$VideoPlayerController106=!1;e.$VideoPlayerController82=U;e.$VideoPlayerController21=b("Arbiter").subscribe("DOM/destroy",function(a,c){if(!b("Parent").bySelector(e.getVideoNode(),c))return;e.pause(b("VideoPlayerReason").UNLOADED);e.destroy()});e.$VideoPlayerController18=0;B=b("URI").getRequestURI();A=b("VideoPermalinkURI").parse(B);t=parseFloat(B.getQueryData().t);u=A?A.video_id==e.$VideoPlayerController88:!1;t&&u&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.startTimestamp=t);b("VideoPlayerHTML5Experiments").useVpcPlayingStateForPrioritization&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.vpcPlayingStateEmitter=new(b("VideoControllerPlayingStateEmitter"))(babelHelpers.assertThisInitialized(e)));e.$VideoPlayerController14.getBool("oz_www_safely_log_player_seeks",!1)&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.seekHandler=function(a){e.isState("playing")?(e.pause(),e.seek(a),e.play(b("VideoPlayerReason").SEEK)):e.seek(a)});e.$VideoPlayerController110=new(b("DelegatedVideoPriorityAdjuster"))();b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&e.$VideoPlayerController4&&(e.$VideoPlayerController4.streamPriorityAdjuster=e.$VideoPlayerController110);e.$VideoPlayerController17=null;e.$VideoPlayerController51=null;e.$VideoPlayerController69=r;e.$VideoPlayerController48=c?new(b("VideoPlayerLogger"))(r,{device_id:c}):new(b("VideoPlayerLogger"))(r);e.$VideoPlayerController69===b("VideoPlayerLoggerSource").TAHOE&&e.focusOnContainerNode();e.collectFeedTrackingData();e.$VideoPlayerController48.setScriptPath(b("ScriptPath").getScriptPath());e.$VideoPlayerController48.setFrameCountGetters(function(){return e.$VideoPlayerController89!=null?k(e.$VideoPlayerController89):null},function(){return e.$VideoPlayerController89!=null?l(e.$VideoPlayerController89):null});e.$VideoPlayerController59=b("VideosRenderingInstrumentation").retrieveRenderTime(e.getRootNode());e.$VideoPlayerController58=p()-e.$VideoPlayerController59;y&&(y.subtitleDrawer=e.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.Subtitles,0));e.$VideoPlayerController70="loading";e.$VideoPlayerController126(!1);if(e.$VideoPlayerController5.isImplementationUnavailable(e.$VideoPlayerController83))if(e.$VideoPlayerController83)e.$VideoPlayerController127();else{e.$VideoPlayerController128();return babelHelpers.assertThisInitialized(e)}else e.$VideoPlayerController129();b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause(b("VideoPlayerReason").UNLOADED),e.destroy()});e.$VideoPlayerController7=new(b("SubscriptionsHandler"))();e.$VideoPlayerController67&&(b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad?e.$VideoPlayerController7.addSubscriptions(b("Run").onAfterLoad(function(){return e.$VideoPlayerController130()})):e.$VideoPlayerController130());e.$VideoPlayerController19=0;e.$VideoPlayerController65=!1;e.$VideoPlayerController25=e.$VideoPlayerController131();e.$VideoPlayerController7.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){e.pause(b("VideoPlayerReason").UNLOADED),e.destroy()}));e.$VideoPlayerController132()||e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe("layer_shown",function(a,c){if(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight"){c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!1)},"VideoPlayerController");this.$VideoPlayerController19=this.$VideoPlayerController19+1;if(b("VideoPlayerExperiments").ignoreDialogCounter||this.$VideoPlayerController19>0){a=this.$VideoPlayerController69===b("VideoPlayerLoggerSource").TAHOE&&this.isLiveVideo();this.isState("playing")&&!(a&&b("TahoeVariables").neverAutoPauseLive)&&!this.$VideoPlayerController120&&(this.pause(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController65=!0)}}}.bind(babelHelpers.assertThisInitialized(e))),b("Arbiter").subscribe("layer_hidden",function(a,c){(c.type==="DialogX"||c.type==="PhotoSnowlift"||c.type==="Spotlight")&&(b("VideoPlayerExperiments").addViewabilityFixEnabled?this.$VideoPlayerController19=Math.max(0,this.$VideoPlayerController19-1):this.$VideoPlayerController19=this.$VideoPlayerController19-1,this.$VideoPlayerController19===0&&(c.type!=="Spotlight"&&b("Bootloader").loadModules(["VideoAutoplayControllerX"],function(a){a.setShouldAutoplay(!0)},"VideoPlayerController"),this.$VideoPlayerController65&&(this.play(b("VideoPlayerReason").PAGE_VISIBILITY),this.$VideoPlayerController65=!1)))}.bind(babelHelpers.assertThisInitialized(e))));e.$VideoPlayerController7.addSubscriptions(b("Arbiter").subscribe(b("JSLogger").DUMP_EVENT,function(a,b){return e.$VideoPlayerController133(a,b)}));b("Run").onLeave(function(){if(e.$VideoPlayerController99||b("VideoPlayerExperiments").persistentWNSEnabled&&e.$VideoPlayerController69===b("VideoPlayerLoggerSource").WATCH_SCROLL)return;e.cleanOnLeave()});e.$VideoPlayerController12=G||[];e.$VideoPlayerController12.forEach(function(a){var c=b("getVideoComponentName")(a)||"<MalformedComponent>";a&&typeof a.enable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(a.enable,a,[babelHelpers.assertThisInitialized(e)],null,"VideoPlayerController Component Enable Guard: "+c):a.enable(babelHelpers.assertThisInitialized(e)):b("FBLogger")("video").warn("no_enable_method_on_component: %s",c)});e.$VideoPlayerController50=1;e.$VideoPlayerController92=!1;e.$VideoPlayerController89&&(e.shouldCalculateViewability()?(e.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController111,e.isInstreamAd()&&(e.$VideoPlayerController92=e.$VideoPlayerController92&&(b("VideoPlayerExperiments").enableInstreamAdViewabilityLogging||b("VideoPlayerExperiments").enableVideoSampledViewabilityLogging&&!!e.$VideoPlayerController111))):e.$VideoPlayerController92=b("VideoPlayerExperiments").enableViewabilityLoggingForOrganic);e.$VideoPlayerController92&&e.$VideoPlayerController89&&(e.$VideoPlayerController93=new(b("VideoViewabilityLogging"))(babelHelpers.assertThisInitialized(e),e.$VideoPlayerController89,e.$VideoPlayerController66,e.$VideoPlayerController15));e.$VideoPlayerController30=!1;e.$VideoPlayerController32=$;e.isLiveVideo()&&(e.$VideoPlayerController16=b("LiveVideoCopyrightActionSubscription").subscribe(e.getVideoID(),function(a){__p&&__p();var c=a.live_video_copyright_action_subscribe.action.toLowerCase();switch(c){case b("LiveCopyrightAction").BLOCK:if(e.$VideoPlayerController32)break;e.emit("blockVideo");e.destroy();break;case b("LiveCopyrightAction").MUTE:e.emit("blockAudio",e.$VideoPlayerController32);e.$VideoPlayerController30=!0;e.$VideoPlayerController32||e.mute();break;case b("LiveCopyrightAction").UNMUTE:e.emit("unblockAudio",e.$VideoPlayerController32);e.$VideoPlayerController30=!1;e.$VideoPlayerController32||e.unmute();break}e.$VideoPlayerController134(a.live_video_copyright_action_subscribe.action,a.live_video_copyright_action_subscribe.timestamp)}));return e}var d=c.prototype;d.setVideoPriorityAdjustment=function(a){this.$VideoPlayerController110.notifyAdjustment(a)};d.addListener=function(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=(b=a.prototype.addListener).call.apply(b,[this].concat(d));d[0]==="visibilityChanged"&&this.$VideoPlayerController125();return f};d.$VideoPlayerController125=function(){var a=this;if(this.$VideoPlayerController107)return;this.$VideoPlayerController89||i(0,3694);this.$VideoPlayerController107=new(b("VideoVisibilityObserver"))(this.$VideoPlayerController89);this.$VideoPlayerController107.addListener("visibilityChanged",function(b){return a.emit("visibilityChanged",b)})};d.setAutoScrollIntoView=function(a){this.$VideoPlayerController20=!a};d.setDetectionID=function(a){this.$VideoPlayerController114=a};d.destroy=function(a){__p&&__p();a=a||{};if(this.isState("destroyed")||this.$VideoPlayerController34)return;this.$VideoPlayerController34=!0;this.$VideoPlayerController107&&(this.$VideoPlayerController107.destroy(),this.$VideoPlayerController107=null);var c=this.$VideoPlayerController12||[];for(var d=c.length-1;d>=0;d--){var e=c[d],f=b("getVideoComponentName")(e)||"<MalformedComponent>";e&&typeof e.disable==="function"?b("VideoPlayerExperiments").enableComponentGuards?b("ErrorUtils").applyWithGuard(e.disable,e,[this],null,"VideoPlayerController Component Disable Guard: "+f):e.disable(this):b("FBLogger")("video").warn("no_disable_method_on_component: %s",f)}b("gkx")("678893")?this.$VideoPlayerController84&&this.getVideoAPI().destroy(a):this.getVideoAPI().destroy(a);this.setState("destroyed");this.$VideoPlayerController7.release();a.skipRemoveAllListeners||this.removeAllListeners();this.$VideoPlayerController21&&(this.$VideoPlayerController21.unsubscribe(),this.$VideoPlayerController21=null);this.stopHeartbeat();this.$VideoPlayerController16&&(this.$VideoPlayerController16.unsubscribe(),this.$VideoPlayerController16=null)};d.$VideoPlayerController135=function(){var a=b("DOMQuery").scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!a.length)return b("Promise").reject();b("DOM").replace(this.getVideoNode(),a[0]);this.$VideoPlayerController89=a[0];return b("JSResource")("VideoPlayerFlashApi").__setRef("VideoPlayerController").load()};d.$VideoPlayerController127=function(){var a=this;this.logEvent(b("VideoPlayerLoggerEvent").SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});b("promiseDone")(this.$VideoPlayerController135().then(function(a){if(a.isImplementationUnavailable())return b("Promise").reject();else return b("Promise").resolve(a)}),function(b){a.$VideoPlayerController5=b,a.$VideoPlayerController129()},function(b){return a.$VideoPlayerController128()})};d.collectFeedTrackingData=function(){__p&&__p();if(this.$VideoPlayerController81){var a={tn:"","tn-debug":","},c={};for(var d=0;d<this.$VideoPlayerController81.length;d++){var e=JSON.parse(this.$VideoPlayerController81[d]);if(!Array.isArray(e))for(var f in e)a[f]!==void 0?(c[f]===void 0&&(c[f]=[]),c[f].push(e[f])):c[f]===void 0&&(c[f]=e[f])}for(var g in a)c[g]!==void 0&&(c[g]=c[g].join(a[g]));e={ft:c}}else{d=!1;a=this.getRootNode();while(a){if(a instanceof Element&&b("CSS").matchesSelector(a,"._4oep")){d=!0;break}a=b("getContextualParent")(a)}!d?this.isState("replayed")?e=b("collectDataAttributes")(window.event.target,["ft"]):e=b("collectDataAttributes")(this.getRootNode(),["ft"]):e={}}this.$VideoPlayerController48.setFTData(e)};d.$VideoPlayerController133=function(a,c){c.video_player_debug_info=c.video_player_debug_info||{hardware:this.$VideoPlayerController136(),live_autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!0),autoplay_bandwidth_restrain:b("VideoPlayerShakaBandwidthEstimator").isAutoplayBandwidthRestrained(!1)},c.video_player_debug_info[this.getVideoID()]=this.getDebugInfo()};d.$VideoPlayerController136=function(){try{var a=document.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");var b=a.getExtension("WEBGL_debug_renderer_info");return b&&{vendor:a.getParameter(b.UNMASKED_VENDOR_WEBGL),renderer:a.getParameter(b.UNMASKED_RENDERER_WEBGL)}}catch(a){}return null};d.setStillFrameEnabled=function(a){var b=this.getVideoAPI();b.setStillFrameEnabled&&b.setStillFrameEnabled(a)};d.isFallbackRecoverable=function(){return!!this.$VideoPlayerController78};d.setFallbackSources=function(a){this.$VideoPlayerController78=a};d.setRelativeSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_RELATIVE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalOrientation=function(a,c){this.emit(b("SphericalVideoPlayerEvents").SET_ABSOLUTE_SPHERICAL_ORIENTATION,a,c)};d.setSphericalFieldOfView=function(a){this.emit(b("SphericalVideoPlayerEvents").SET_FIELD_OF_VIEW,a)};d.isSpherical=function(){return this.$VideoPlayerController36};d.getVideoPlayerID=function(){return this.$VideoPlayerController29};d.focusOnContainerNode=function(){this.$VideoPlayerController15&&this.$VideoPlayerController15.focus()};d.setLogEntryPropertyGetters=function(a){var b=this;Object.keys(a).forEach(function(c){var d=a[c];typeof d==="function"?b.$VideoPlayerController23.set(c,d):b.$VideoPlayerController79[c]=d})};d.removeLogEntryPropertyGetters=function(a){var b=this;typeof a==="string"&&(a=[a]);Array.isArray(a)||(a=Object.keys(a));a.forEach(function(a){b.$VideoPlayerController23["delete"](a),delete b.$VideoPlayerController79[a]})};d.$VideoPlayerController129=function(){var a=this;this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.onApiReady()})};d.isImplementationUnavailable=function(){return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController83)&&!this.$VideoPlayerController83};d.getIsInChannel=function(){return this.$VideoPlayerController69===b("VideoPlayerLoggerSource").CHANNEL};d.updateSource=function(a){if(!this.$VideoPlayerController69)return;var c=b("VideoPlayerFormatsMap")[this.$VideoPlayerController69],d=b("VideoPlayerFormatsMap")[a];this.$VideoPlayerController48.updateSource(a);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController124(this.isFullscreen(),a)||"unknown");c&&c!==d&&this.$VideoPlayerController94&&(b("VideoPlayerExperiments").delayFormatChangeEvent?this.isState(b("VideoPlayerStates").PLAYING)&&!this.$VideoPlayerController37?(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=d):this.$VideoPlayerController45=c:this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED));this.$VideoPlayerController69=a};d.getSource=function(){return this.$VideoPlayerController48.getSource()};d.getPlayerOrigin=function(){return this.$VideoPlayerController54};d.getPlayerSuborigin=function(){return this.$VideoPlayerController55};d.getUpstreamPlayerSource=function(){return this.$VideoPlayerController82};d.hasLooped=function(){return this.$VideoPlayerController50>1};d.$VideoPlayerController128=function(){var a={error:"IMPLEMENTATION_NOT_SUPPORTED",state:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE,error_description:"Implementation unavailable",error_user_info:this.getDebugInfo()};this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController67=!1};d.logError=function(a){__p&&__p();a=this.$VideoPlayerController44=a;var c=a.error,d=a.message,e=a.isPlayback,f=a.httpStatus,g=a.url;a=a.stack;var h=this.getDebugInfo();a&&(h.player.stack=a);delete h.player.loggedError;delete h.player.lastError;a={error:c,error_description:d,error_user_info:h,error_code:f,resource_url:g,state:e?b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE:b("VideoPlayerLoggerErrorStates").PLAYER_FAILURE};this.$VideoPlayerController47=this.logEvent(b("VideoPlayerLoggerEvent").ERROR,a);this.$VideoPlayerController36&&Math.random()<.01&&b("FBLogger")("360video").warn("360 video player error: %s %s",c,d);e&&this.$VideoPlayerController53&&this.$VideoPlayerController126(!1)};d.setRotation=function(a){this.getVideoAPI().setRotation(a)};d.setDimensions=function(a,c){__p&&__p();var d=this.getContainerNode();d.style.width=a+"px";d.style.height=c+"px";d=this.getVideoNode();d.style.width=a+"px";d.style.height=c+"px";if(this.isState("loading"))this.$VideoPlayerController60={width:a,height:c};else{if(this.isPlayerVersion("silvercity")&&(this.$VideoPlayerController37||b("VideoPlayerResizeSettings").disable_flash_set_dimensions))return;this.setVideoPlayerAPIDimensions(a,c)}};d.isPlayRequestPending=function(){return this.$VideoPlayerController53};d.$VideoPlayerController126=function(a){if(this.$VideoPlayerController53===a)return;this.$VideoPlayerController53=a;this.emit("pendingPlayRequestChanged")};d.updateAutoplayRestrained=function(){var a=this;b("ifRequired")("VideoPlayerHTML5Shaka",function(b){b=b.isAutoplayBandwidthRestrained(a.$VideoPlayerController40);a.$VideoPlayerController137(b)})};d.$VideoPlayerController137=function(a){a?this.emit("turnOffAutoplay",{reason:"poor_network_quality"}):this.emit("resumeAutoplay",{reason:"poor_network_quality"});if(b("gkx")("678893")){var c=this.getVideoAPI();c&&c.setPreloadDisabled(a)}else this.getVideoAPI().setPreloadDisabled(a)};d.restoreStreamBufferSize=function(){if(b("gkx")("678893")){var a=this.getVideoAPI();a&&a.restoreStreamBufferSize()}else this.getVideoAPI().restoreStreamBufferSize()};d.getDataInsertionPosition=function(){return this.$VideoPlayerController25&&this.$VideoPlayerController25.getAttribute("data-insertion-position")};d.getDataFt=function(){return this.$VideoPlayerController25&&this.$VideoPlayerController25.getAttribute("data-ft")};d.play=function(a){__p&&__p();var c=this,d=null;a instanceof b("VideoPlayerReasonTransitionHelper")?d=a.getReason():d=a;a=this.getVideoNodeNullable();if(a&&a.scrollIntoView&&d===b("VideoPlayerReason").USER&&!this.$VideoPlayerController20&&this.$VideoPlayerController14.getBool("enable_autoscroll_into_view",!1)){var e=this.getDOMPosition(),f=e.y>=0;e=e.y+e.height<=b("getViewportDimensions")().height;!f?a.scrollIntoView(!0):e||a.scrollIntoView(!1)}this.$VideoPlayerController138();this.$VideoPlayerController52||(this.$VideoPlayerController52=d);this.$VideoPlayerController108=this.getOption("VideoWithCommercialBreak","controller");if(this.$VideoPlayerController108&&this.$VideoPlayerController108.shouldPlayPreRollAds(d)){this.$VideoPlayerController108.schedulePreRollAds();return}if(!this.$VideoPlayerController53){this.$VideoPlayerController51=this.$VideoPlayerController139();var g=this.$VideoPlayerController140({debug_reason:d});f=this.$VideoPlayerController69;b("VideoPlayerExperiments").delayFormatChangeEvent&&f&&this.$VideoPlayerController94&&this.$VideoPlayerController45&&b("VideoPlayerFormatsMap")[f]!==this.$VideoPlayerController45&&!this.$VideoPlayerController37&&(this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_FORMAT_CHANGED),this.$VideoPlayerController45=b("VideoPlayerFormatsMap")[f]);b("VideoPlayerExperiments").logRequestedPlayingAsync?j(function(){c.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,g)},[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").REQUESTED_PLAYING,g);this.$VideoPlayerController94=!0}this.$VideoPlayerController141(d);this.emit("playRequested",d);this.sendPlayRequest(d);d===b("VideoPlayerReason").LOOP&&(this.$VideoPlayerController50++,this.$VideoPlayerController50>10&&this.$VideoPlayerController14.getBool("disable_logging_for_long_loops",!1)&&(this.$VideoPlayerController95=!0))};d.sendPlayRequest=function(a){var c=this;if(this.isState("fallback")){this.emit("fallbackPlay");b("VideoPlayerExperiments").endBufferingOnFallbackPlay&&this.$VideoPlayerController48.endBuffering();return}this.$VideoPlayerController126(!0);this.isState("loading")?this.$VideoPlayerController61={reason:a}:(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController49&&(b("VideoPlayerExperiments").logUnmutedAsync?j(function(){c.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)},[b("VideoPlayerLoggerEvent").STARTED_PLAYING,b("VideoPlayerLoggerEvent").UNPAUSED],this.$VideoPlayerController117):this.logEvent(b("VideoPlayerLoggerEvent").UNMUTED)),this.$VideoPlayerController49=!1,this.$VideoPlayerController142(),this.getVideoAPI().play(a))};d.getOriginalPlayReason=function(){return this.$VideoPlayerController52};d.reset=function(){if(this.isState("loading")||this.isState("fallback")&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController143();this.$VideoPlayerController84&&this.$VideoPlayerController84.destroy&&this.$VideoPlayerController84.destroy();this.$VideoPlayerController84=null;this.setState("loading");this.$VideoPlayerController129()};d.detachRootNode=function(){var a=this;if(!this.$VideoPlayerController66)return;b("DOM").remove(this.$VideoPlayerController66);if(this.isState("fallback")||this.isState("loading"))return;this.setState("loading");this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return a.$VideoPlayerController144()})};d.getVideoAPI=function(){this.$VideoPlayerController84||i(0,3695);return this.$VideoPlayerController84};d.getVideoNodeNullable=function(){return this.$VideoPlayerController89};d.getVideoNode=function(){var a=this.getVideoNodeNullable();return a};d.getRootNodeNullable=function(){return this.$VideoPlayerController66};d.getRootNode=function(){var a=this.getRootNodeNullable();return a};d.getContainerNodeNullable=function(){return this.$VideoPlayerController15};d.getContainerNode=function(){var a=this.getContainerNodeNullable();return a};d.getVideoResolution=function(){var a=this.getVideoNode();return{height:a.videoHeight,width:a.videoWidth}};d.$VideoPlayerController144=function(){this.setState("ready"),this.$VideoPlayerController49=!this.getVideoAPI().isMuted(),this.$VideoPlayerController80=!this.$VideoPlayerController3,this.getVideoAPI().setSubtitlesStyle&&this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController71,this.$VideoPlayerController72,this.$VideoPlayerController73,this.$VideoPlayerController74),this.$VideoPlayerController61&&(this.sendPlayRequest(this.$VideoPlayerController61.reason),this.$VideoPlayerController61=null),this.$VideoPlayerController60&&(this.setDimensions(this.$VideoPlayerController60.width,this.$VideoPlayerController60.height),this.$VideoPlayerController60=null),this.$VideoPlayerController62&&(this.getVideoAPI().unmute(),this.$VideoPlayerController62=null)};d.onApiReady=function(){__p&&__p();var a=this;this.$VideoPlayerController4&&(this.$VideoPlayerController4.id=this.$VideoPlayerController29,this.$VideoPlayerController78&&(this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController78),this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController54,this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController55,this.$VideoPlayerController4.getSource=function(){return a.getSource()},this.$VideoPlayerController4.shakaConfig=this.$VideoPlayerController14,this.$VideoPlayerController4.playerInstanceKey=this.$VideoPlayerController113,this.$VideoPlayerController115&&(this.$VideoPlayerController4.videoLiveTrace=this.$VideoPlayerController115));this.$VideoPlayerController84=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.$VideoPlayerController145();this.getVideoAPI().setup();this.$VideoPlayerController144();var c={is_auto_played:this.isAutoplayable()};this.logEvent(b("VideoPlayerLoggerEvent").PLAYER_LOADED,c);this.$VideoPlayerController84&&this.$VideoPlayerController48.setABRQualityTracker(new(b("VideoPlayerABRQualityTracker"))(this.$VideoPlayerController84.getLocalEstimator()));c=this.getVideoProjection();c&&(this.$VideoPlayerController57=c);this.emit("apiReady")};d.getLocalEstimator=function(){if(this.$VideoPlayerController84)return this.$VideoPlayerController84.getLocalEstimator();else return null};d.runOnApiReady=function(a){a===void 0&&(a=function(){}),!this.isState("loading")?a():this.once("apiReady",a)};d.resetPositions=function(){this.$VideoPlayerController18=0};d.getCurrentTimePosition=function(){if(this.isState("playing")){var a=this.getVideoAPI().getCurrentTimePosition();a!=null&&a!==void 0&&(this.$VideoPlayerController18=a)}return this.$VideoPlayerController18};d.getBufferEndPosition=function(){if(this.isState("loading"))return 0;var a=this.getVideoAPI().getBufferEndPosition();return a!==null&&a!==void 0?a:this.getCurrentTimePosition()};d.$VideoPlayerController138=function(){if(!this.$VideoPlayerController9){b("VideoChannelViewChainLengthManager").registerChainingInfos(this.getVideoID(),this.$VideoPlayerController11);var a=this.getVideoID();if(this.$VideoPlayerController11){var c=this.$VideoPlayerController11.decode();a=c.root_id}this.$VideoPlayerController9=b("VideoChannelViewChainLengthManager").getLoggingData(a)}};d.$VideoPlayerController146=function(a){this.$VideoPlayerController126(!1);a=a.position;a!==void 0&&(this.$VideoPlayerController18=a);this.setState("playing");this.areHLSActive()?this.$VideoPlayerController147():this.isRTMP_DEPRECATED()&&this.$VideoPlayerController148();this.startHeartbeat()};d.$VideoPlayerController149=function(a){var b=a.position;this.$VideoPlayerController115&&this.isState("playing")&&this.$VideoPlayerController115.onUpdateStatus(a);b!==void 0&&(this.$VideoPlayerController18=b);this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.$VideoPlayerController150=function(a){return this.$VideoPlayerController96.has(a)};d.runOnceOnApiEventLogged=function(a,b){if(this.$VideoPlayerController150(a))b();else var c=this.addListener("apiEventLogged",function(d){d===a&&(b(),c.remove())})};d.$VideoPlayerController151=function(a){var b=a.event;this.$VideoPlayerController96.add(b);delete a.event;this.logEvent(b,a);this.emit("apiEventLogged",b)};d.$VideoPlayerController152=function(){this.isState("finished")||this.setState("paused"),this.stopHeartbeat()};d.$VideoPlayerController153=function(a){a=a.position;a!==void 0&&(this.$VideoPlayerController18=a)};d.$VideoPlayerController154=function(){this.setState("finished"),this.$VideoPlayerController65=!1,this.stopHeartbeat()};d.getVolume=function(){return this.getVideoAPI().getVolume()};d.$VideoPlayerController155=function(){__p&&__p();this.$VideoPlayerController38=!1;var a=this.getContainerNode(),c=this.isFullscreen();b("CSS").conditionClass(a,"_1hwh",c);c?a.style.paddingBottom="0":(a.removeAttribute("data-fullscreen"),a.style.paddingBottom=this.$VideoPlayerController101);!c&&this.$VideoPlayerController26&&(this.$VideoPlayerController26.unsubscribe(),this.$VideoPlayerController26=null);if(this.$VideoPlayerController37!=c){this.logFullscreenChanged(c);this.$VideoPlayerController14.setContext("player_format",this.$VideoPlayerController124(c,this.$VideoPlayerController69)||"unknown");a=b("DOMDimensions").getElementDimensions(a);this.isPlayerVersion("silvercity")||this.setVideoPlayerAPIDimensions(a.width,a.height);this.emit("toggleFullscreen");!c?(this.addOffsetStylings(),b("Arbiter").inform("video_fullscreen_change",{})):this.removeOffsetStylings()}this.$VideoPlayerController37=c};d.$VideoPlayerController124=function(a,c){return a?b("VideoPlayerFormats").FULL_SCREEN:c?b("VideoPlayerFormatsMap")[c]:b("VideoPlayerFormats").INLINE};d.logFullscreenChanged=function(a){var c={player_format:this.$VideoPlayerController124(a,this.$VideoPlayerController69)};b("VideoPlayerHTML5Experiments").enteredExitedFsLoggingFix?this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS,c):this.logEvent(a?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS)};d.setVideoPlayerAPIDimensions=function(a,b){this.getVideoAPI().setDimensions&&this.getVideoAPI().setDimensions(a,b)};d.removeOffsetStylings=function(){var a=this.$VideoPlayerController103;if(a===null||a===void 0)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left","0"),b("CSS").removeClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top","0"),b("CSS").removeClass(this.getVideoNode(),"_bli"))};d.addOffsetStylings=function(){var a=this.$VideoPlayerController103;if(a===null||a===void 0)return;this.$VideoPlayerController102===b("CoverVideoOffsetType").HORIZONTAL?(this.getVideoNode().style.setProperty("left",a+"px"),b("CSS").addClass(this.getVideoNode(),"_blh")):this.$VideoPlayerController102===b("CoverVideoOffsetType").VERTICAL&&(this.getVideoNode().style.setProperty("top",a+"px"),b("CSS").addClass(this.getVideoNode(),"_bli"))};d.isFullscreen=function(){return this.$VideoPlayerController38||b("FullScreen").isFullScreen()&&this.$VideoPlayerController15===b("getFullScreenElement")()};d.toggleFullscreen=function(){var a=this.isFullscreen(),c=this.getContainerNode();b("FullScreen").toggleFullScreen(c)&&(a||(this.$VideoPlayerController38=!0,c.setAttribute("data-fullscreen","true")),b("CSS").addClass(c,"_1hwh"),this.$VideoPlayerController26=b("FullScreen").subscribe("changed",this.$VideoPlayerController155.bind(this)))};d.instreamVideoStart=function(){b("CSS").addClass(this.getContainerNode(),"_24pm")};d.instreamVideoEnd=function(){b("CSS").removeClass(this.getContainerNode(),"_24pm")};d.unmute=function(){if(!this.$VideoPlayerController32&&this.$VideoPlayerController30)return;!this.isState("loading")?(this.getVideoAPI().unmute(),b("VideoPlayerVolumeSettings").saveVolume(b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()),this.$VideoPlayerController80&&this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController156()):this.$VideoPlayerController62=!0};d.isAudioBlocked=function(){return this.$VideoPlayerController30};d.isMuted=function(){return this.$VideoPlayerController84?this.getVideoAPI().isMuted():this.$VideoPlayerController75};d.mute=function(){this.$VideoPlayerController80&&!this.getVideoAPI().areSubtitlesActive()&&this.$VideoPlayerController156(),this.getVideoAPI().mute(),b("VideoPlayerVolumeSettings").saveVolume(0)};d.getMediaID=function(){return this.getVideoID()};d.getPlaybackDuration=function(){return this.getVideoAPI().getPlaybackDuration()};d.getPlayerFormat=function(){return this.$VideoPlayerController124(this.isFullscreen(),this.$VideoPlayerController69)};d.getVideoID=function(){return this.$VideoPlayerController88};d.getVideoChannelID=function(){return this.$VideoPlayerController85};d.getVideoListID=function(){return this.$VideoPlayerController86};d.getVideoURL=function(){return this.$VideoPlayerController91};d.$VideoPlayerController145=function(){__p&&__p();var a=this,c=this.getVideoAPI(),d=new(b("SubscriptionsHandler"))();this.$VideoPlayerController6=d;var e={buffered:function(){return a.setBuffering(!1)},buffering:function(){return a.setBuffering(!0)},bufferingProgress:function(b){return a.$VideoPlayerController157(b)},streamInterrupted:function(){return a.$VideoPlayerController48.startInterrupt()},streamResumed:function(){return a.$VideoPlayerController48.endInterrupt()},beginPlayback:function(b){return a.$VideoPlayerController146(b)},updateStatus:function(b){return a.$VideoPlayerController149(b)},logEvent:function(b){return a.$VideoPlayerController151(b.logData)},pausePlayback:function(){return a.$VideoPlayerController152()},seekEnd:function(b){return a.$VideoPlayerController153(b)},clickForTracking:function(){return b("logVideosClickTracking")(a.getVideoNode())},error:function(b){return a.logError(b)},finishPlayback:function(){return a.$VideoPlayerController154()},networkInterrupted:function(){return a.$VideoPlayerController158()},networkResumed:function(){return a.$VideoPlayerController159()},replicaSwitch:function(b){return a.switchReplicaSet(b)}};d.addSubscriptions.apply(d,Object.keys(e).map(function(a){return c.addListener(a,e[a])}));d.addSubscriptions.apply(d,b("VideoPlayerApiEvents").map(function(d){return b("forwardEvent")(c,a,d)}))};d.$VideoPlayerController143=function(){this.$VideoPlayerController6&&this.$VideoPlayerController6.release()};d.seek=function(a,b){this.emit("seekRequested",a,b),this.getVideoAPI().seek(a)};d.pause=function(a){this.isState("loading")?this.$VideoPlayerController61=null:this.isState("playing")?this.getVideoAPI().pause(a):this.$VideoPlayerController53&&this.getVideoAPI().pause(a),this.$VideoPlayerController126(!1),this.$VideoPlayerController65=!1,this.$VideoPlayerController160(a),this.emit("pauseRequested",a)};d.stopHeartbeat=function(){b("clearInterval")(this.$VideoPlayerController28),this.$VideoPlayerController28=null};d.startHeartbeat=function(){if(this.$VideoPlayerController28||!b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)return;this.$VideoPlayerController28=b("setInterval")(this.emitHeartbeat,b("VideoPlayerHTML5Experiments").heartbeatIntervalMS)};d.isPlayerVersion=function(a){return this.getPlayerVersion()===a||this.$VideoPlayerController100&&this.$VideoPlayerController161(a)===this.getPlayerVersion()};d.isHtml5Player=function(){return this.isPlayerVersion(b("VideoPlayerVersions").PLEASANTVILLE)||this.isPlayerVersion(b("VideoPlayerVersions").OZ)};d.isAutoplayable=function(){return this.$VideoPlayerController67};d.$VideoPlayerController162=function(){return b("ViewportTrackingHelper").isVisible(this.getVideoNode(),0)};d.$VideoPlayerController130=function(){var a=this;if(b("Visibility").isHidden()){var c=b("Visibility").once(b("Visibility").VISIBLE,function(){return a.$VideoPlayerController130()});b("VideoPlayerExperiments").unsubscribeImmediateplay&&this.$VideoPlayerController7.addSubscriptions(c)}else!this.$VideoPlayerController162()&&this.$VideoPlayerController68!==b("VideoPlayerImmediatePlayReason").WATCH_TIME_NOT_LOGGED&&b("FBLogger")("video").warn("immediateplay on a hidden video player: %s %s %s %s",this.getPlayerOrigin(),this.getPlayerSuborigin(),this.getSource(),b("ScriptPath").getScriptPath()),this.play(b("VideoPlayerReason").AUTOPLAY)};d.isBuffering=function(){return this.$VideoPlayerController33};d.$VideoPlayerController163=function(){var a=Math.floor(Date.now()/1e3);this.$VideoPlayerController109=this.$VideoPlayerController109.filter(function(b){return b.time+3>a});this.$VideoPlayerController109.some(function(b){if(b.time===a){b.count+=1;return!0}return!1})||this.$VideoPlayerController109.push({time:a,count:1})};d.$VideoPlayerController164=function(){var a=Math.floor(Date.now()/1e3);return this.$VideoPlayerController109.reduce(function(b,c){return(c.time+3>a?c.count:0)+b},0)};d.$VideoPlayerController157=function(a){this.emit("bufferingProgress",a)};d.setBuffering=function(a){__p&&__p();if(a!==this.$VideoPlayerController33){this.$VideoPlayerController33=a;if(this.$VideoPlayerController33){a=this.$VideoPlayerController14.getNumber("buffering_count_threshold",0);if(a){this.$VideoPlayerController163();if(this.$VideoPlayerController164()>=a){this.logError({error:"EXCEED_BUFFER_FREQUENCY_THRESHOLD",message:"video has entered buffering state "+a+" times in the last 3 seconds.",isPlayback:this.isPlayRequestPending()});return this.emit("error","EXCEED_BUFFER_FREQUENCY_THRESHOLD")}}this.$VideoPlayerController48.startBuffering(this.getCurrentTimePosition());this.$VideoPlayerController104&&(this.$VideoPlayerController165(),this.$VideoPlayerController98=b("setTimeout")(this.$VideoPlayerController166,this.$VideoPlayerController104));this.$VideoPlayerController167()}else this.$VideoPlayerController48.endBuffering(),this.$VideoPlayerController165(),this.isState("paused")&&this.$VideoPlayerController168();this.emit("bufferingChanged")}};d.setSmartBufferAdjustmentEnabled=function(a){var b=this.getVideoAPI();"setSmartBufferAdjustmentEnabled"in b&&b.setSmartBufferAdjustmentEnabled(a)};d.setVideoStreamOffset=function(a){var b=this.getVideoAPI();typeof b.setVideoStreamOffset==="function"&&b.setVideoStreamOffset(a)};d.$VideoPlayerController165=function(){this.$VideoPlayerController98&&(b("clearTimeout")(this.$VideoPlayerController98),this.$VideoPlayerController98=null)};d.$VideoPlayerController168=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController14.getBool("allow_autoplay_on_resume_from_sleep",!0)&&this.$VideoPlayerController106&&this.play(b("VideoPlayerReason").NETWORK_RESUMED)};d.$VideoPlayerController167=function(){this.$VideoPlayerController14.getBool("allow_infinite_retry_on_net_err",!0)&&this.$VideoPlayerController33&&this.$VideoPlayerController105&&this.isState("playing")&&this.pause(b("VideoPlayerReason").NETWORK_INTERRUPTED)};d.$VideoPlayerController141=function(a){this.$VideoPlayerController106=!1};d.$VideoPlayerController160=function(a){a===b("VideoPlayerReason").NETWORK_INTERRUPTED?this.$VideoPlayerController106=!0:this.$VideoPlayerController106=!1};d.$VideoPlayerController158=function(){this.$VideoPlayerController105=!0,this.$VideoPlayerController167()};d.$VideoPlayerController159=function(){this.$VideoPlayerController105=!1,this.$VideoPlayerController168()};d.isLiveVideo=function(){return this.$VideoPlayerController40};d.isGaming=function(){return this.$VideoPlayerController41};d.isVideo=function(){return!0};d.isBroadcast=function(){return!!this.$VideoPlayerController31};d.isInline=function(){return!!this.$VideoPlayerController69&&b("VideoPlayerFormatsMap")[this.$VideoPlayerController69]===b("VideoPlayerFormats").INLINE&&!this.isFullscreen()};d.isFacecastAudio=function(){return this.$VideoPlayerController35};d.isStreamInterrupted=function(){var a=this.$VideoPlayerController84;return!!(a&&a.isStreamInterrupted&&a.isStreamInterrupted())};d.setVolume=function(a){if(!this.$VideoPlayerController32&&this.$VideoPlayerController30)return;b("VideoPlayerVolumeSettings").saveVolume(a);this.getVideoAPI().setVolume(a)};d.getDOMPosition=function(){var a=this.getRootNodeNullable();return a?b("getElementPosition")(a):{x:0,y:0,width:0,height:0}};d.clickVideo=function(){this.emit("clickVideo"),this.$VideoPlayerController27=!0};d.mouseMove=function(a){this.emit("mouseMove",a)};d.mouseUp=function(a){this.emit("mouseUp",a)};d.mouseLeave=function(a){this.emit("mouseLeave",a)};d.hasSeenClick=function(){return!!this.$VideoPlayerController27};d.isAd=function(){return!!this.$VideoPlayerController2};d.shouldCalculateViewability=function(){if(this.isAd())return!0;var a=this.$VideoPlayerController48.getFTdata();if(a==null)return!1;a=a.ft;return a==null?!1:!!a.ei};d.isInstreamAd=function(){return!!this.$VideoPlayerController39};d.getAdClientToken=function(){return this.$VideoPlayerController2};d.getLastScrollDirection=function(){return this.getOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")||null};d.$VideoPlayerController169=function(){__p&&__p();var a=this,c=null,d=null,e=!1,f=null,g=null,h=null,i=null,j=null;if(!this.isState("loading")&&!this.isState("fallback")){this.$VideoPlayerController17===null&&(this.$VideoPlayerController17=this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID());c=this.getVideoAPI().getEstimatedBandwidth();d=this.getVideoAPI().getAvailableVideoQualities().length;e=this.getVideoAPI().getIsAbrEnabled();f=this.getPlaybackDuration();j=this.getAudioStreamId();if(this.$VideoPlayerController14.getBool("log_player_dimensions",!1)){var k=this.getVideoAPI().getDimensionsForDevice();h=k&&k.height;g=k&&k.width}this.$VideoPlayerController14.getBool("log_connection_quality",!1)&&(i=b("VideoPlayerConnectionQuality").evaluate(function(){return a.getVideoAPI().getEstimatedBandwidth()}))}var l=babelHelpers["extends"]({},this.$VideoPlayerController79);this.$VideoPlayerController23.forEach(function(b,c){l[c]=b(c,a)});k={};this.getOption("SphericalVideoSpatialAudioController","hasSpatialAudio")&&(k.audio_ch_conf=this.getOption("SphericalVideoSpatialAudioController","getSpatialAudioChannelLayout"));var n=this.isLiveVideo()&&!!m&&m.getIsRewound(this.getVideoPlayerID());return babelHelpers["extends"]({ad_client_token:this.$VideoPlayerController2,available_qualities:d,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController97,projection:this.$VideoPlayerController57,player_version:this.getPlayerVersion(),flash_version:b("ifRequired")("Flash",function(a){return a.getVersionString()}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController70,player_origin:this.$VideoPlayerController54,player_suborigin:this.$VideoPlayerController55,playback_is_broadcast:this.$VideoPlayerController31,player_instance_key:this.$VideoPlayerController113,playback_duration:f,referrer:document.referrer,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),video_buffer_end_position:b("gkx")("678893")?this.$VideoPlayerController84?this.getBufferEndPosition():0:this.getBufferEndPosition(),is_servable_via_fbms:this.$VideoPlayerController42,playback_is_live_streaming:this.$VideoPlayerController40,playback_is_drm:this.isDrm(),is_templated_manifest:this.isFBIsLiveTemplated()||this.isFBWasLive(),is_fbms:this.isFBMS(),is_live_video_rewound:n,last_scroll_direction:this.getLastScrollDirection(),video_channel_id:this.$VideoPlayerController85,video_list_id:this.$VideoPlayerController86,reaction_video_channel_type:this.$VideoPlayerController63,reaction_video_channel_subtype:this.$VideoPlayerController64,fbcdn_pop:this.$VideoPlayerController51,representation_id:this.$VideoPlayerController17,audio_representation_id:j,video_bandwidth:c,video_player_height:h,video_player_width:g,data_connection_quality:i,is_abr_enabled:e,feed_position:this.getDataInsertionPosition(),upstream_player_source:this.$VideoPlayerController82,should_log_video_viewability:this.$VideoPlayerController111,living_room_session_id:this.$VideoPlayerController112,detectionID:this.$VideoPlayerController114,is_ads_preview:this.$VideoPlayerController118,is_injected_ads:this.$VideoPlayerController119,is_chained_living_room:this.$VideoPlayerController121,is_replay_living_room:this.$VideoPlayerController123,live_linear_channel_id:this.$VideoPlayerController122},this.$VideoPlayerController87,this.$VideoPlayerController9,l,k)};d.$VideoPlayerController139=function(){var a=this.getVideoInfo_DEPRECATED();if(!a)return null;a=a.resourceUrl;a=/scontent-([a-z]+)\./.exec(a);return!a?null:a[1]};d.getVideoInfo_DEPRECATED=function(){return this.isState("loading")||this.isState("fallback")?null:this.getVideoAPI().getVideoInfo()};d.getDebugInfo=function(){var a=this.getVideoInfo_DEPRECATED(),c={initializationTime:this.$VideoPlayerController58,initializationTimestamp:this.$VideoPlayerController59,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController48.getCumulativeStallCount(),stallTime:this.$VideoPlayerController48.getCumulativeStallTime(),inPlayStallCount:this.$VideoPlayerController48.getCumulativeInPlayStallCount(),inPlayStallTime:this.$VideoPlayerController48.getCumulativeInPlayStallTime(),interruptCount:this.$VideoPlayerController48.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController48.getCumulativeInterruptTime(),state:this.$VideoPlayerController70,canPlayType:b("mapObject")(b("VideoMimeTypes"),b("canVideoPlayType")),loggedError:this.$VideoPlayerController47,lastError:this.$VideoPlayerController44,droppedFrames:!!this.$VideoPlayerController84&&this.$VideoPlayerController84.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController84&&this.$VideoPlayerController84.getTotalFrames(),videoSource:!!this.$VideoPlayerController84&&this.$VideoPlayerController84.getVideoNodeSource(),viewabilityPercentage:!!this.$VideoPlayerController93&&this.$VideoPlayerController93.getViewability(),stack:void 0},d={videoID:this.getVideoID(),isDrm:this.$VideoPlayerController84&&this.$VideoPlayerController84.isDrm()};if(!a)return{player:c,currentVideo:d};var e=this.getVideoAPI().getDimensionsForDevice();return{currentVideo:babelHelpers["extends"]({},d,{streamType:a.streamType,isLiveStream:a.isLiveStream,liveManifestUrl:a.liveManifestUrl,isHD:a.isHD,hasHD:a.hasHD,resourceUrl:a.resourceUrl,hasSubtitles:a.hasSubtitles,hasRateLimit:!!a.hasUnlimitedSrc,isRateLimited:a.hasUnlimitedSrc&&!a.useUnlimitedSrc,tagHD:a.tagHD,tagSD:a.tagSD,projection:this.$VideoPlayerController57,streamId:this.$VideoPlayerController17,audioStreamId:this.getVideoAPI().getAudioStreamInfoIDDebug(),dashAudioFormat:this.getVideoAPI().getDashAudioConfiguration()}),player:babelHelpers["extends"]({},c,{dimensions:e})}};d.getLastError=function(){return this.$VideoPlayerController44};d.isAkamai=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.liveManifestUrl&&a.liveManifestUrl.includes("akamaihd"):!1};d.getLoggedError=function(){return this.$VideoPlayerController47};d.getTotalFrames=function(){return this.$VideoPlayerController84?this.$VideoPlayerController84.getTotalFrames():0};d.getDroppedFrames=function(){return this.$VideoPlayerController84?this.$VideoPlayerController84.getDroppedFrames():0};d.getInterruptCount=function(){return this.$VideoPlayerController48.getCumulativeInterruptCount()};d.getInterruptTime=function(){return this.$VideoPlayerController48.getCumulativeInterruptTime()};d.getVideoStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingVideoStreamInfoID()};d.getAudioStreamId=function(){return this.getVideoAPI().getCurrentlyPlayingAudioStreamInfoID()||this.getVideoAPI().getAudioStreamInfoIDDebug()};d.getVideoTracks=function(){return this.getVideoAPI().getVideoTracksDebug()};d.getAudioDashFormat=function(){return this.getVideoAPI().getDashAudioConfigurationDebug()};d.getCumulativeStallCount=function(){return this.$VideoPlayerController48.getCumulativeStallCount()};d.getCumulativeStallTime=function(){return this.$VideoPlayerController48.getCumulativeStallTime()};d.getStallCount=function(){return this.$VideoPlayerController48.getStallCount()};d.getStreamType=function(){var a=this.getVideoInfo_DEPRECATED();return a?a.streamType:"n/a"};d.hasSubtitles=function(){return this.getVideoAPI().hasSubtitles()};d.getVideoState=function(){return this.$VideoPlayerController70};d.areSubtitlesActive=function(){return this.getVideoAPI().areSubtitlesActive()};d.areSubtitlesAutogenerated=function(){return this.getVideoAPI().areSubtitlesAutogenerated()};d.areHLSActive=function(){return this.getVideoAPI().areHLSActive()};d.isRTMP_DEPRECATED=function(){return this.getVideoAPI().isRTMP()};d.toggleSubtitles=function(){this.$VideoPlayerController156(),this.logEvent(b("VideoPlayerLoggerEvent").CAPTION_CHANGE),this.$VideoPlayerController80=!1};d.$VideoPlayerController156=function(){this.getVideoAPI().toggleSubtitles(),this.$VideoPlayerController142()};d.$VideoPlayerController142=function(){this.hasSubtitles()&&this.areSubtitlesActive()?this.$VideoPlayerController10="on":this.$VideoPlayerController10="off"};d.isHD=function(){return this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop()};d.hasHD=function(){return this.getAvailableVideoQualities().length>1};d.toggleHD=function(){this.isHD()?this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]):this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop())};d.setPreferredVideoQuality=function(a){this.getVideoAPI().setPreferredVideoQuality(a)};d.unsetPreferredVideoQuality=function(){this.getVideoAPI().unsetPreferredVideoQuality()};d.getPreferredVideoQuality=function(){return this.getVideoAPI().getPreferredVideoQuality()};d.getSelectedVideoQuality=function(){return this.getVideoAPI().getSelectedVideoQuality()};d.getAvailableVideoQualities=function(){return this.getVideoAPI().getAvailableVideoQualities()};d.getVideoProjection=function(){return this.getVideoAPI().getVideoProjection()};d.canAutoSelectVideoQuality=function(){return this.getVideoAPI().canAutoSelectVideoQuality()};d.switchToStreamType=function(a){this.getVideoAPI().switchToStreamType(a)};d.$VideoPlayerController148=function(){this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",n).setString("source",this.$VideoPlayerController69).getURI().toString())};d.$VideoPlayerController147=function(){this.getVideoAPI().replaceVideoDataFromURL(b("XVideoDataController").getURIBuilder().setString("video_id",this.getVideoID()).setInt("scrubbing_preference",o).setString("source",this.$VideoPlayerController69).getURI().toString())};d.$VideoPlayerController140=function(a){var b=this.getVideoInfo_DEPRECATED();return b!=null?Object.assign({resource_url:b.resourceUrl,liveStream:b.isLiveStream,hd:b.isHD},a):a};d.$VideoPlayerController170=function(){var a=this.getDOMPosition(),c=b("getViewportDimensions")().height,d;a.y<=0?d=a.y:a.y+a.height<c?d=0:d=a.y+a.height-c;return d};d.logEvent=function(a,c){__p&&__p();this.$VideoPlayerController46++;if(this.$VideoPlayerController95)return void 0;this.$VideoPlayerController117.emit(a);var d=this.$VideoPlayerController14.getNumber("logging_log_event_limit",0);d&&this.$VideoPlayerController46>d&&(this.$VideoPlayerController95=!0);d=++this.$VideoPlayerController24;c=Object.assign(this.$VideoPlayerController169(),c);var e=this.getOriginalPlayReason();e&&a!==b("VideoPlayerLoggerEvent").DISPLAYED&&(c.video_play_reason=e);a===b("VideoPlayerLoggerEvent").FINISHED_PLAYING&&(c.viewport_distance=this.$VideoPlayerController170());(a===b("VideoPlayerLoggerEvent").MUTED||a===b("VideoPlayerLoggerEvent").UNMUTED||a===b("VideoPlayerLoggerEvent").STARTED_PLAYING||a===b("VideoPlayerLoggerEvent").CAPTION_CHANGE||a===b("VideoPlayerLoggerEvent").UNPAUSED)&&(c.caption_state=this.$VideoPlayerController10);this.$VideoPlayerController92&&b("VideoViewabilityKeyEvents").Events.includes(a)&&(c.current_viewability_percentage=this.$VideoPlayerController93.getViewability(),this.$VideoPlayerController93.setLastLoggedViewability(c.current_viewability_percentage));c.event_seq_num=d;b("VideoPlayerExperiments").correctedSBLEventSequence?this.$VideoPlayerController76.has(a)&&(b("VideoPlayerExperiments").logSBLVpts&&(c.vpts=b("performanceAbsoluteNow")()),c.seq_num=++this.$VideoPlayerController77):c.seq_num=d;a===b("VideoPlayerLoggerEvent").PLAYED_FOR_THREE_SECONDS&&(c.detection_id=this.$VideoPlayerController114,this.emit("videoView/runFraudDetector"));if(a===b("VideoPlayerLoggerEvent").REQUESTED_PLAYING&&this.$VideoPlayerController115){e=this.$VideoPlayerController115.getLiveTraceContext();c.live_trace_stream_id=e.streamId;c.live_trace_stream_type=e.streamType;c.live_trace_source_id=e.sourceId}d=this.$VideoPlayerController48.logEvent(a,c);this.emit("debug/vpcLogEvent",d);return d};d.getState=function(){return this.$VideoPlayerController70};d.getStreamingFormat=function(){var a=this.getVideoInfo_DEPRECATED()||{};return a.streamType||this.$VideoPlayerController43};d.setPlaybackRate=function(a){this.getVideoAPI().setPlaybackRate&&this.getVideoAPI().setPlaybackRate(a)};d.getPlaybackRate=function(){return this.getVideoAPI().getPlaybackRate?this.getVideoAPI().getPlaybackRate():1};d.setState=function(a){if(this.isState(b("VideoPlayerStates").DESTROYED)||this.isState(b("VideoPlayerStates").FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController70=a;this.$VideoPlayerController70==="fallback"&&(b("CSS").addClass(this.getRootNode(),"_3-n5"),this.$VideoPlayerController143());this.emit("stateChange")};d.isState=function(a){return this.$VideoPlayerController70===a};d.isIntentionallyViewing=function(){return this.isState("playing")&&!this.isMuted()};d.abortLoading=function(a){if(this.isState("loading")||this.isState("fallback"))return;b("VideoPlayerExperiments").seekZeroWhenAbortLoadingFinishedVideos&&!(b("VideoPlayerExperiments").seekZeroOnlyVodVideo&&this.$VideoPlayerController40)&&this.isState("finished")&&this.seek(0);this.getVideoAPI().abortLoading(a||{});this.stopHeartbeat()};d.preload=function(){if(this.isState("loading")||this.isState("fallback"))return;this.getVideoAPI().preload()};d.getPlayerVersion=function(){var a;this.$VideoPlayerController84&&(a=this.getVideoAPI());var b=a&&a.getUpdatedPlayerVersion?a.getUpdatedPlayerVersion.bind(a):this.$VideoPlayerController5.getPlayerVersion;b=b?b():this.$VideoPlayerController56;return this.$VideoPlayerController100?this.$VideoPlayerController161(b):b};d.$VideoPlayerController161=function(a){switch(a){case b("VideoPlayerVersions").SILVERCITY:return b("VideoPlayerVersions").REACT_SILVERCITY;case b("VideoPlayerVersions").PLEASANTVILLE:return b("VideoPlayerVersions").REACT_PLEASANTVILLE;case b("VideoPlayerVersions").OZ:return b("VideoPlayerVersions").REACT_OZ;default:return b("VideoPlayerVersions").REACT}};d.registerOption=function(a,b,c,d){var e=this.$VideoPlayerController13.get(a);e||(e=new Map(),this.$VideoPlayerController13.set(a,e));if(e.has(b))throw new Error("An option can only be registered once for each component");e.set(b,{getter:c,setter:d});this.emit("optionsChange")};d.unregisterOption=function(a,b){var c=this.$VideoPlayerController13.get(a);if(!c)throw new Error('The component "'+a+'" has no options registered');if(!c.has(b))throw new Error('The component "'+a+'" has no option "'+b+'" registered');c["delete"](b);c.size||this.$VideoPlayerController13["delete"](a);this.emit("optionsChange")};d.getComponents=function(){return this.$VideoPlayerController13.keys()};d.getOptions=function(a){a=this.$VideoPlayerController13.get(a);return a?a.keys():b("enumerate")([])};d.hasOption=function(a,b){a=this.$VideoPlayerController13.get(a);return!!a&&a.has(b)};d.getOption=function(a,b){a=this.$VideoPlayerController13.get(a);if(!a)return void 0;a=a.get(b);return!a?void 0:a.getter()};d.setOption=function(a,b,c){__p&&__p();a=this.$VideoPlayerController13.get(a);if(!a)throw new Error("Component not registered");a=a.get(b);if(!a)throw new Error("Option not registered");b=a.setter;if(b)return b(c);throw new Error("Read-only option")};d.showDebugOverlayView=function(a){this.emit("showDebugOverlay",a)};d.$VideoPlayerController131=function(){var a=b("DOMQuery").scry(this.$VideoPlayerController66,"^._5pat");return a.length?a[0]:null};d.registerDrawer=function(a,b){return this.$VideoPlayerController22.register(a,b)};d.getVideoPath=function(){return this.$VideoPlayerController90};d.setAllowCrossPageTransition=function(a){this.$VideoPlayerController99=a};d.cleanOnLeave=function(){this.pause(b("VideoPlayerReason").UNLOADED),this.destroy()};d.switchReplicaSet=function(a){var c=this.isState("playing");this.getVideoAPI().switchReplicaSet(a.replica,{url:a.url,status:a.status,timestamp:a.timestamp});c&&this.play(b("VideoPlayerReason").AUTOPLAY)};d.switchToFullVideo=function(){var a=this;this.pause(b("VideoPlayerReason").UNLOADED);this.getVideoAPI().reloadDashManifest().done(function(){a.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").USER)),a.emit("switchedToFullVideo")})};d.$VideoPlayerController132=function(){return this.getIsInChannel()||this.$VideoPlayerController69===b("VideoPlayerLoggerSource").LIVING_ROOM||this.$VideoPlayerController69===b("VideoPlayerLoggerSource").TOPIC_CHANNEL_LIVING_ROOM||this.$VideoPlayerController54===b("VideoPlayerOrigins").INTERN_CURATION||this.$VideoPlayerController54===b("VideoPlayerOrigins").GAMES_VIDEO_HUB};d.getDashAudioConfiguration=function(){return this.getVideoAPI().getDashAudioConfiguration()};d.setEnableLiveheadCatchup=function(a){var b=this.getVideoAPI();b&&b.setEnableLiveheadCatchup(a)};d.isFBWasLive=function(){var a=this.$VideoPlayerController84&&this.getVideoAPI();return!!(a&&a.isFBWasLive())};d.isFBIsLiveTemplated=function(){var a=this.$VideoPlayerController84&&this.getVideoAPI();return!!(a&&a.isFBIsLiveTemplated())};d.isDrm=function(){var a=this.$VideoPlayerController84&&this.getVideoAPI();return a&&a.isDrm()};d.isFBMS=function(){var a=this.$VideoPlayerController84&&this.getVideoAPI();return!!(a&&a.isFBMS())};d.isLiveheadCatchupEnabled=function(){var a=this.getVideoAPI();return a?a.isLiveheadCatchupEnabled():!1};d.getSeekableRanges=function(){var a=this.getVideoAPI();return a?a.getSeekableRanges():null};d.isBroadcaster=function(){return this.$VideoPlayerController32||!1};d.isWatchAndScroll=function(){return this.$VideoPlayerController69===b("VideoPlayerLoggerSource").WATCH_SCROLL};d.$VideoPlayerController134=function(a,c){var d=b("CurrentUser").getAccountID();d=d+"_0_"+this.$VideoPlayerController88+"_"+c+"_"+a+"_secret_www";d=b("SparkMD5").hash(d);c={input:{video_id:this.$VideoPlayerController88,timestamp:c,live_copyright_action:a,signature:d}};a=b("WebGraphQL").exec(new(b("LiveVideoCopyrightActionQueryWebGraphQLQuery"))(c));b("promiseDone")(a,function(a){},function(a){})};return c}(b("MediaController"));e.exports=a}),null);
__d("getBufferedAheadOf",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=1/60,c=a.currentTime;a=a.buffered;for(var d=0;d<a.length;d++){var e=a.start(d)-b,f=a.end(d)+b;if(c>=e&&c<=f)return Math.max(a.end(d)-c,0)}return 0}e.exports=a}),null);
__d("VideoPollCardActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MARK_POLL_CARD_ACTIVE:"",MARK_POLL_CARD_INACTIVE:""});e.exports=a}),null);
__d("VideoPollCardDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);