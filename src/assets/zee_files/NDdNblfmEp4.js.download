if (self.CavalryLogger) { CavalryLogger.start_js(["i\/svJ"]); }

__d("BusinessActorUtils.brands",["UnicodeCJK"],(function(a,b,c,d,e,f){"use strict";a={getInitials:function(a,c){a===void 0&&(a="");c===void 0&&(c="");a=a.trim().charAt(0);c=c.trim().charAt(0);a=a+c;return b("UnicodeCJK").hasIdeograph(a)?c:a.toUpperCase()}};e.exports=a}),null);
__d("UFIDispatcher",["ReactDispatcher_DEPRECATED","UFISharedDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.dispatch=function(c){a.prototype.dispatch.call(this,c),b("UFISharedDispatcher").dispatch(c)};return c}(b("ReactDispatcher_DEPRECATED"));e.exports=a}),null);
__d("UFIAddCommentAction",["CommentPrivacyValue","UFIAddCommentActionType","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={logPost:function(a,b){return void 0}};b("requireWeak")("PrivateCommentsLogger",function(a){g=a});a={cancel:function(a){return{type:b("UFIAddCommentActionType").CANCEL,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier}},changeContent:function(a,c,d){return{type:b("UFIAddCommentActionType").CHANGE_CONTENT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,text:c,replyFBID:d}},retrySubmit:function(a,c){return{type:b("UFIAddCommentActionType").RETRY_SUBMIT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:c}},submitEdit:function(a,c,d,e){return{type:b("UFIAddCommentActionType").SUBMIT_EDIT,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:c,commentData:d,target:e}},submitNew:function(a,c,d,e){g.logPost(c.privacy_value===b("CommentPrivacyValue").OWNER_OR_COMMENTER,a.ftentidentifier);return{type:b("UFIAddCommentActionType").SUBMIT_NEW,instanceID:a.instanceid,ftentidentifier:a.ftentidentifier,comment:c,target:d,replyCommentID:e,timestamp:Date.now()}}};e.exports=a}),null);
__d("UFIBusinessActorIcon.react",["cx","AppUserRoleConstants.brands","BusinessActorUtils.brands","React","getObjectValues","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("BusinessActorUtils.brands").getInitials(this.props.firstName,this.props.lastName),c=this.props.businessRole===b("AppUserRoleConstants.brands").ADMIN;return b("React").createElement("div",{className:b("joinClasses")(this.props.classNames,"_1rpl")},b("React").createElement("div",{align:"center",className:b("joinClasses")(this.props.textClassNames,c?"_1rpm":null)},a))};return c}(b("React").Component);c.propTypes={firstName:a.string.isRequired,lastName:a.string.isRequired,classNames:a.string,textClassNames:a.string,businessRole:a.oneOf(b("getObjectValues")(b("AppUserRoleConstants.brands")))};e.exports=c}),null);
__d("UFIActorIconContainer.react",["cx","ClickableArea.react","Image.react","JSResource","React","ShortProfiles","UFIBusinessActorIcon.react","XUISpinner.react","joinClasses","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("UFIActorSelector.react").__setRef("UFIActorIconContainer.react")),i=b("React").createElement(b("XUISpinner.react"),{size:"large"});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={actor:null,showActorSelectorDialog:!1},c.$2=function(){c.setState(function(a){return{showActorSelectorDialog:!a.showActorSelectorDialog}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1(this.props.actorID)};d.componentDidUpdate=function(a){this.props.actorID!==a.actorID&&this.$1(this.props.actorID)};d.$1=function(a){var c=this;b("ShortProfiles").get(a,function(a){return c.setState({actor:a})})};d.render=function(){var a=this.state.actor;if(!a)return this.props.tinyIcon?b("React").createElement(b("XUISpinner.react"),{size:"small"}):i;var c;this.props.tinyIcon?c=b("joinClasses")("img UFIActorImage _3tm9",this.props.className):this.props.smallIcon?c=b("joinClasses")("img UFIActorImage _3qxe",this.props.className):c=b("joinClasses")("img UFIActorImage _54ru",this.props.className);var d=this.props.actorSelectorConfig!=null&&this.props.isLivingRoom&&this.props.overlayActorSelectorOnUFIPhoto===!0;d&&(c=b("joinClasses")("UFIActorImageWithSelector",c));d=a.isBusinessPersona?b("React").createElement(b("UFIBusinessActorIcon.react"),{classNames:c,firstName:a.firstName,lastName:a.lastName,textClassNames:"UFIBusinessActorIconText"}):b("React").createElement(b("Image.react"),{alt:a.name,className:c,src:a.thumbSrc});return this.props.actorSelectorConfig!=null&&this.props.isLivingRoom&&this.props.overlayActorSelectorOnUFIPhoto===!0?b("React").createElement("div",{className:"UFIActorImageContainer"},b("React").createElement(b("ClickableArea.react"),{onClick:this.$2},b("React").createElement("div",{className:"UFIActorSelectorOverlay"})),b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,babelHelpers["extends"]({},this.props.actorSelectorConfig.props,{dialogShown:this.state.showActorSelectorDialog,useUFIPhotoOverlay:!0,onActorChange:this.props.onActorChange}))),d):d};return c}(b("React").Component);e.exports=a}),null);
__d("DigitalContentWalletSpendingSubtype",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,SHORTCUT_TIPPING:83})}),null);
__d("MentionsInputUtils",[],(function(a,b,c,d,e,f){a={generateDataFromTextWithEntities:function(a){var b=a.text,c=[];(a.ranges||[]).forEach(function(a){var d=a.entity;!d.external&&!a.videoTimestamp&&!a.sphericalViewport&&!a.campaign&&!/\D/.test(d.id)&&c.push({uid:d.id,text:b.substr(a.offset,a.length),offset:a.offset,length:a.length,weakreference:!!d.weakreference})});a={value:b,mentions:c,delights:(a.ranges||[]).filter(function(a){return a.campaign})};return a}};e.exports=a}),null);
__d("UFIAttachMediaSection.react",["cx","fbt","Bootloader","Focus","React","UFICommentFileInputAcceptValues","XUIError.react","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bootloaded:!1,hasUploadFailure:!1},d.$1=null,d.$2=null,d.$3=function(){d.setState({hasUploadFailure:!1})},d.$4=function(){d.setState({hasUploadFailure:!1})},d.$5=function(){d.setState({hasUploadFailure:!0})},d.$6=function(a){d.props.onClick&&d.props.onClick();if(d.state.bootloaded)return;b("Bootloader").loadModules(["UFIUploader"],function(a){d.$1=new a(d.refs.inputContainer,d.refs.inputControl,d.refs.input,d.props.getPhotoUploadData,d.props.getFileUploadData,d.props.prepareForAttachedPhotoPreview,d.props.prepareForAttachedVideoPreview,d.props.prepareForAttachedFilePreview,d.props.onPhotoUploadComplete,d.props.onVideoEncodeUpdate,d.props.onVideoUploadUpdate,d.props.onVideoUploadComplete,d.props.onFileUploadComplete,d.props.setFileInput,d.props.viewerActorID,d.$3,d.$4,d.$5)},"UFIAttachMediaSection.react");d.setState({bootloaded:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs,c=a.input;a=a.inputControl;c&&a&&(this.$2=b("Focus").relocate(c,a))};d.componentWillUnmount=function(){this.$1&&this.$1.destroy(),this.$2&&(this.$2.remove(),this.$2=null)};d.render=function(){var a=b("gkx")("678288")&&this.props.allowFileAttachments,c=a?h._("Attach a File"):this.props.allowVideoAttachments?h._("Attach a photo or video"):h._("Attach a Photo"),d=a?h._("There was a problem attaching the file, please try again"):h._("There was a problem attaching the file, please try again"),e=this.state.hasUploadFailure;a=b("React").createElement("div",{className:"_r1a UFIPhotoAttachLinkWrapper _m"+(this.props.attachment?" _5t1p":""),"data-hover":e?null:"tooltip","data-tooltip-alignh":e?null:"center","data-tooltip-content":e?null:c,onClick:this.$6,ref:"inputContainer",role:"presentation"},b("React").createElement("span",{className:a?"UFICommentFileIcon":"UFICommentPhotoIcon",ref:"inputControl"},b("React").createElement("input",{accept:a?b("UFICommentFileInputAcceptValues").files:this.props.allowVideoAttachments?b("UFICommentFileInputAcceptValues").both:b("UFICommentFileInputAcceptValues").photos,"aria-label":c,className:"_n",name:"file",ref:"input",title:c,type:"file",key:"0"})));return b("React").createElement(b("XUIError.react"),{xuiError:e?d:null,xuiErrorPosition:"above",xuiErrorAlignh:"center"},a)};return c}(b("React").Component);c.propTypes={getPhotoUploadData:a.func.isRequired,getFileUploadData:a.func,prepareForAttachedPhotoPreview:a.func.isRequired,prepareForAttachedVideoPreview:a.func,prepareForAttachedFilePreview:a.func,onPhotoUploadComplete:a.func.isRequired,onVideoUploadComplete:a.func,onVideoUploadUpdate:a.func,onVideoEncodeUpdate:a.func,onFileUploadComplete:a.func,onClick:a.func,setFileInput:a.func.isRequired,targetId:a.string,allowVideoAttachments:a.bool,allowFileAttachments:a.bool,attachment:a.object,viewerActorID:a.string.isRequired};e.exports=c}),null);
__d("UFIGifButton.react",["cx","fbt","Arbiter","Bootloader","FocusRelocator.react","LayerTabIsolation","Link.react","MessengerPlatformInterfaceType","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=278;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$5=function(){c.setState({flyoutShown:!1,query:""})};c.$8=function(){c.$3=c.state.flyoutShown};c.$7=function(a){__p&&__p();a.preventDefault();if(c.state.renderFlyout!==null){c.$3||(c.props.onGifFlyoutShow&&c.props.onGifFlyoutShow(),c.setState({flyoutShown:!0}));return}a=b("Bootloader").loadModules(["XUIContextualDialog.react","ChatContentSearchFlyout.react","ContextualLayerAutoFlip"],function(a,d,e){c.setState({flyoutShown:!0,renderFlyout:function(){return b("React").createElement(a,{alignment:"right",behaviors:{flip:e,LayerTabIsolation:b("LayerTabIsolation")},className:"_5trk",contextRef:function(){return c.$1},onBlur:c.$5,onToggle:function(a){!a&&c.state.flyoutShown&&c.$5()},position:"above",shown:c.state.flyoutShown,hasActionableContext:!0,width:i},b("React").createElement("div",null,b("React").createElement(d,{onEscKeyDown:c.$5,onSelect:c.$9,query:c.state.query,shown:c.state.flyoutShown,searchInterface:b("MessengerPlatformInterfaceType").FB_INTERFACE,queryDefault:c.props.defaultGifSelection})))}}),c.props.onGifFlyoutShow&&c.props.onGifFlyoutShow()},"UFIGifButton.react");c.$4.addSubscriptions(a)};c.$9=function(a){c.props.onGifSelected(a),c.$5()};c.$6=function(a){c.$1=a};c.state={renderFlyout:null,flyoutShown:!1,query:""};return c}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$4=new(b("SubscriptionsHandler"))();this.$2=b("Arbiter").subscribe("page_transition",function(){return a.$5()})};d.componentWillUnmount=function(){this.$2&&this.$2.unsubscribe(),this.$4&&this.$4.release(),delete this.$4};d.render=function(){var a=h._("Post a GIF"),c=this.state.renderFlyout&&this.state.flyoutShown?this.state.renderFlyout():null;return b("React").createElement(b("FocusRelocator.react"),{from:this.$1,to:this.refs.icon},b("React").createElement(b("Link.react"),{"aria-label":a,className:"_r1a UFICommentGifButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.showTooltip?a:null,linkRef:this.$6,onClick:this.$7,onMouseDown:this.$8,role:"button"},b("React").createElement("div",{ref:"icon",className:"UFICommentGifIcon"+(this.state.flyoutShown?" UFICommentGifIconActive":"")}),this.props.children,c))};return c}(b("React").Component);a.defaultProps={children:[],showTooltip:!0,defaultGifSelection:null};e.exports=a}),null);
__d("UFIGroupedInputTabs",["CacheStorage"],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({EMOJI:"EMOJI",STICKER:"STICKER",GIF:"GIF"}),h="last_used_input_on_composer",i=new(b("CacheStorage"))("localstorage");a=function(){return i.get(h,g.STICKER)};c=function(a){i.set(h,a)};e.exports={InputTitleEnum:g,getLastUsedTab:a,setLastUsedTab:c}}),null);
__d("UFIMarkdownButton.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("Format text with Markdown");return b("React").createElement(b("Link.react"),{className:"_r1a _45-m","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":a,"aria-label":a,onClick:this.props.onClick,role:"button"},b("React").createElement("div",{className:"_45-n"+(this.props.active?" _45-o":"")}))};return c}(b("React").Component);e.exports=a}),null);
__d("UFIVideoEncodeStatusMonitor",["AsyncRequest","clearInterval","setInterval"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.subscribe=function(a,c){var d=this;this.$3();this.$2=b("setInterval")(function(){new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:d.$1}).setHandler(function(b){b=b.getPayload();b.is_ready?(d.$3(),a&&a()):b.error&&(d.$3(),c&&c())}).send()},1e3);return{unsubscribe:function(){d.$3()}}};c.$3=function(){b("clearInterval")(this.$2)};return a}();e.exports=a}),null);
__d("WritingAssistanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WritingAssistanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WritingAssistanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WritingAssistanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setValue=function(a){this.$1.value=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action:!0,time:!0,value:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XUFICommentGIFPreprocessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/gif_preprocess/",{})}),null);
__d("XUFICommentMarkdownPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/markdown_preview/",{comment_body:{type:"String"}})}),null);
__d("UFIAddComment.react",["cx","fbt","requireCond","AccessibilityConfig","ActorURI","Arbiter","AsyncRequest","Badge.react","BootloadedComponent.react","Bootloader","ClipboardPhotoUploader","CommentPrivacyValue","ConstituentBadgeEventEmitter","CurrentUser","DigitalContentWalletSpendingSubtype","DOMScroll","EmojiInputButton.react","Event","ExclamationStarsActions.react","ExclamationStarsDispatcher.react","ExclamationStarsStore.react","FeedbackSourceType","FluxContainer","cr:682211","IdentityBadgeUtils","JSResource","Keys","Link.react","LitestandStoryInsertionStatus","LivingRoomEntrySource","LivingRoomTypeValues","MentionsInputUtils","MercuryIDs","PrivateCommentsConfig","React","ReactDOM","Run","SubscriptionsHandler","SutroStoryHeaderUFIGatingConfig","TextWithEntities.react","TrackingNodes","UFIActorIconContainer.react","UFIAddCommentAction","UFIAttachMediaSection.react","UFIBotsButton","UFICommercialBreakStore","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIComposerIsTypingStore","UFIConfig","cr:719006","UFIGifButton.react","UFIGroupedInputTabs","UFIImageBlock.react","UFIInsightsSharingCommentTag.react","UFIMarkdownButton.react","UFINavigationCheck","UFIODSLogger","UFISharedDispatcher","UFIStickerButton.react","UFIThreadedFacecastCommentsStore","UFIVersion","UFIVideoEncodeStatusMonitor","WebFunnelLogger","WritingAssistanceTypedLogger","XBasicFBNuxDismissController","XBasicFBNuxGenShouldShowController","XBasicFBNuxViewController","XConstituentBadgeV2OptInDialogController","XFeedNUXSaveSeenStateController","XUFICommentGIFPreprocessController","XUFICommentMarkdownPreviewController","XUISpinner.react","XUIText.react","getActiveElement","gkx","ifRequired","immutable","joinClasses","keyMirror","lazyLoadComponent","promiseDone","requireWeak","textProbablyWritingMarkdown","throttle","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LivingRoomTypeValues").AddVideoTabValue,j=b("UFIBotsButton").module,k=b("UFIGroupedInputTabs").InputTitleEnum,l=b("UFIGroupedInputTabs").setLastUsedTab,m=b("keyMirror")(b("DigitalContentWalletSpendingSubtype")),n={startFunnel:function(a){return void 0},logViewerInteracted:function(a){return void 0},logToggle:function(a,b){return void 0}};b("requireWeak")("PrivateCommentsLogger",function(a){n=a});var o=a.URL||a.webkitURL||{};c=b("React").PropTypes;var p=h._("Write a comment..."),q=h._("Write a reply..."),r="fcg fss UFICommentTip",s=h._("Write something..."),t=19,u="/ajax/ufi/upload/",v="/ajax/ufi/sticker_preview/",w=1e3,x="comment_content_change",y=Object.freeze({UPLOAD:"uploading",ENCODE:"encoding"}),z=5572,A=/@\[([0-9;]+):((?:[^\\\]]|\\.)*)\]/g,B=b("lazyLoadComponent")(b("JSResource")("UFICommentPivotBlock.react").__setRef("UFIAddComment.react")),C=b("lazyLoadComponent")(b("JSResource")("UFICommentPivotFailedDialog.react").__setRef("UFIAddComment.react")),D=!1,E=!1,F=!1;d=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);d.renderEditCommentBox=function(a,c,e){__p&&__p();a=babelHelpers["extends"]({},a);delete a.addcommentautoflip;delete a.collapseaddcomment;delete a.hideActorPhoto;delete a.issnowlift;delete a.loggedOutLinkConfig;delete a.monitorHeight;delete a.sht;delete a.viewoptionstypeobjects;delete a.viewoptionstypeobjectsorder;return b("React").createElement(d,{key:"editing_comment"+c.id,viewerActorID:e.actorforpost,targetID:e.ownerid,groupID:e.grouporeventid,mentionsDataSource:e.mentionsdatasource,contextArgs:a,isEditing:!0,editingComment:c,allowVideoAttachments:e.allowvideoattachments,allowPhotoAttachments:e.allowphotoattachments,allowFileAttachments:e.allowfileattachments,allowStickerAttachments:e.allowstickerattachments,allowGifAttachments:e.allowgifattachments,allowBotMentions:e.allowbotmentions,allowTogglePrivateComments:!1,privateCommentTarget:e.actorname,allowCommentMarkdown:e.iscommentmarkdowneligible,showconstituentbadgev2optin:e.showconstituentbadgev2optin,constituentBanner:e.constituentbanneruri})};function d(d){__p&&__p();var e;e=c.call(this,d)||this;e.$4=!1;e.$18=function(a){e.props.isEditing&&b("Event").getKeyCode(a.nativeEvent)===b("Keys").ESC&&e.context.dispatch(b("UFIAddCommentAction").cancel(e.props.contextArgs));e.$1&&!e.$5&&(b("Run").onBeforeUnload(e.$19),e.$5=!0);var c=b("getActiveElement")();c&&b("Event").getKeyCode(a.nativeEvent)===b("Keys").ESC&&c.blur()};e.$20=function(a){e.$2&&!e.$4&&(new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(e.$2).setAction("first_input").log(),e.$4=!0),b("UFISharedDispatcher").dispatch(b("UFIAddCommentAction").changeContent(e.props.contextArgs,a,e.$21())),b("Arbiter").inform(x,{fbid:e.$21(),text:a,instanceid:e.props.contextArgs.instanceid,ftentidentifier:e.props.contextArgs.ftentidentifier}),e.props.allowCommentMarkdown&&e.state.commentMarkdownEnabled&&e.$22(a),e.props.allowCommentFixSuggestions&&(e.$23(a),e.state.commentSuggestionsShowing&&!e.state.hasStaleSuggestions&&e.setState({hasStaleSuggestions:!0})),e.props.contextArgs.messengerCommentPivotsParams&&e.props.contextArgs.messengerCommentPivotsParams.enabled&&e.$24(a),e.state.groupedInputNUXShown&&e.$25()};e.$22=function(a){a=b("XUFICommentMarkdownPreviewController").getURIBuilder().setString("comment_body",a).getURI();new(b("AsyncRequest"))(a).setHandler(e.$29).send()};e.$29=function(a){if(!a)return;e.setState({commentMarkdownPreviewContent:a.payload?a.payload.markup:null})};e.$19=function(){if(a.PageTransitions&&!b("UFINavigationCheck").isLeaving(a.PageTransitions))return;if(e.refs&&e.refs.mentionsinput&&e.refs.mentionsinput.hasEnteredText())return h._("You haven't finished your comment yet. Do you want to leave without finishing?")};e.$31=function(){e.setState({markdownNUXVisible:!1,gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,privateCommentNUXVisible:!1});window.setTimeout(function(){e.$1&&e.setState({isFocused:!1})},100);if(e.refs.mentionsinput&&e.refs.mentionsinput.hasEnteredText())return;e.setState({isCommenting:!1})};e.$32=function(a){var c=new(b("ClipboardPhotoUploader"))(u,e.$33());e.$34();e.$6=[c.subscribe("upload_start",e.$35),c.subscribe("upload_error",e.$36),c.subscribe("upload_success",function(a,b){e.$37(b)})];c.handlePaste(a)};e.$41=function(a,b){var c=e.props.isEditing||e.state.hasAttachment,d=a.encodedValue&&a.encodedValue.trim(),f=e.state.isLoadingPhoto||e.$42()||e.state.isLoadingFile;if(f||!c&&!d)return!1;else if(!c&&e.state.showMessengerPivot&&e.state.shouldSendAsMessage){f=a.encodedValue=a.encodedValue?a.encodedValue.trim():"";return e.$43(f)}else return e.$44(a,b)};e.$48=function(){e.$38()};e.focus=function(){__p&&__p();e.$38();var a={isCommenting:!0,isFocused:!0},c=e.props.contextArgs.loggedOutLinkConfig;c&&c.showAddComment&&b("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(c.addCommentAjaxifyURI,null,"dialog")},"UFIAddComment.react");e.refs.groupedInputButton&&b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(a,b){a.hasUserSeenMessage(b.MERGE_INPUT_COMPOSER_NUX)||(e.setState({groupedInputNUXShown:!0}),a.markMessageSeenByUser(b.MERGE_INPUT_COMPOSER_NUX))},"UFIAddComment.react");if(e.props.allowGifAttachments&&b("UFIConfig").shouldShowGIFsInCommentsNux&&!D){D=!0;var d=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","gif_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(d).send();a.gifsInCommentsNUXVisible=!0}if(e.props.allowCommentMarkdown&&b("UFIConfig").shouldShowMarkdownCommentNUX&&!b("UFIConfig").shouldShowGIFsInCommentsNux&&!E){E=!0;d=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key","markdown_comments").setBool("seen",!0).getURI();new(b("AsyncRequest"))(d).send();a.markdownNUXVisible=!0}if(e.props.allowTogglePrivateComments&&!(e.state.gifsInCommentsNUXVisible||a.gifsInCommentsNUXVisible)&&!(e.state.markdownNUXVisible||a.markdownNUXVisible)&&!F){F=!0;d=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(d).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();if(a&&a.should_show_nux){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(a).send();e.setState({privateCommentNUXVisible:!0})}}).send()}if(e.state.showConstituentBadgeV2OptIn){d=b("XConstituentBadgeV2OptInDialogController").getURIBuilder().setString("ft_id",e.props.commentsTargetID).getURI();new(b("AsyncRequest"))().setURI(d).send()}e.setState(a);e.markViewerHasInteracted();e.props.onFocus&&e.props.onFocus();b("Arbiter").inform("UFIAddComment/focus",{instanceid:e.props.contextArgs.instanceid,ftentidentifier:e.props.contextArgs.ftentidentifier,isTopLevelComposer:e.props.isTopLevelComposer})};e.$58=function(a,b){e.setState({fileInput:a,fileUploader:b})};e.handleMessengerPivotClick=function(){e.setState(function(a){e.$27(a.shouldSendAsMessage?"pivot disabled":"pivot enabled");return{shouldSendAsMessage:!a.shouldSendAsMessage}}),e.refs.mentionsinput.focus()};e.$59=function(a){l(k.EMOJI),e.refs.mentionsinput.insertEmoji(a)};e.$62=function(a,b){l(k.STICKER),e.onStickerSelected(a,b),e.$63(!1)};e.$60=function(a){l(k.GIF),e.onGifSelected(a),e.$63(!1)};e.$63=function(a){a!==e.state.flyoutShown&&e.setState({flyoutShown:a})};e.$61=function(){e.state.flyoutShown||e.markViewerHasInteracted(),e.state.groupedInputNUXShown&&e.$25()};e.$33=function(){var a=e.props.viewerActorID,c={profile_id:a,target_id:e.props.targetID,source:t};c[b("ActorURI").PARAMETER_ACTOR]=a;return c};e.$37=function(a){if(!e.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?e.setState({attachedPhoto:a,isLoadingPhoto:!1}):e.$36(null)};e.$64=function(){var a=e.props.viewerActorID,c={profile_id:a,target_id:e.props.targetID};c[b("ActorURI").PARAMETER_ACTOR]=a;return c};e.$67=function(a){if(!e.state.isLoadingFile)return;a=a.getPayload();a&&a.fbid?e.setState({attachedFile:a,isLoadingFile:!1}):e.$36(null)};e.$69=function(a,b){if(!e.state.attachedVideo||e.state.videoStatus!==y.ENCODE)return;if(b.obj.progress<e.state.videoProgress)return;b.obj.fbid=b.obj.videoID;if(e.state.attachedVideo.fbid&&e.state.attachedVideo.fbid!==b.obj.fbid)return;e.setState({attachedVideo:b.obj,videoProgress:b.obj.progress,videoStatus:y.ENCODE});e.$82(b.obj.stage)&&e.$83()};e.$70=function(a){e.setState({videoProgress:a})};e.$68=function(a){if(e.state.videoStatus!==y.UPLOAD)return;a&&a.video_id&&(e.setState({videoProgress:0,attachedVideo:a,videoStatus:y.ENCODE}),b("gkx")("835509")&&e.$7.addSubscriptions(new(b("UFIVideoEncodeStatusMonitor"))(a.video_id).subscribe(function(){e.setState({videoProgress:100})})))};e.$36=function(a){b("Arbiter").inform("video_upload_cancel",{}),e.state.fileInput&&e.state.fileInput.clear(),e.setState({attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1})};e.$35=function(){e.setState({attachedPhoto:null,isLoadingPhoto:!0})};e.$66=function(){e.setState({attachedFile:null,isLoadingFile:!0})};e.$65=function(){var a,b=e.state.fileInput?e.state.fileInput.input:null;b=b?b.files[0]:null;b&&o.createObjectURL&&(a=o.createObjectURL(b));e.setState({attachedVideo:null,videoStatus:y.UPLOAD,videoFileURL:a,videoProgress:0,isVideoFileTranscodedGIF:Boolean(b&&b.type==="image/gif")})};e.$84=function(a){if(!e.state.isLoadingPhoto)return;a=a.getPayload();a&&a.fbid?e.$81({attachedSticker:a,isLoadingPhoto:!1}):(b("Bootloader").loadModules(["Dialog"],function(a){var b=h._("Sticker Failed"),c=h._("There was a problem attaching the sticker.");new a().setTitle(b).setBody(c).setButtons(a.OK).show()},"UFIAddComment.react"),e.$72(null))};e.$72=function(a){e.setState({attachedSticker:null,isLoadingPhoto:!1,hasAttachment:!1})};e.$71=function(a){b("Bootloader").loadModules(["FunnelLogger"],function(a){a.appendAction("FLEXIBLE_STARS_WWW_FUNNEL","dismissed_star_attachment"),a.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react"),b("ExclamationStarsActions.react").flyoutStarsUnselected(),e.$36(a)};e.onStickerSelected=function(a,b){if(e.props.isEditing||e.refs.mentionsinput.hasEnteredText()){e.$80(a);return}e.sendSticker(a,b)};e.onStarsSelected=function(a){b("ExclamationStarsActions.react").flyoutStarsSelected(),e.setState({attachedStars:{previewImageSrc:null,metadata:a,userTippedQuantity:a,matchingQuantity:0,promotionEvent:null,type:"SEND_STARS"}})};e.$53=function(){e.setState({markdownNUXVisible:!1})};e.$25=function(){e.setState({groupedInputNUXShown:!1})};e.$57=function(){var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",z).getURI();new(b("AsyncRequest"))().setURI(a).send();e.setState({privateCommentNUXVisible:!1})};e.$50=function(){e.setState({colorfulCommentsNUXShown:!1})};e.onGifSelected=function(a){if(e.props.isEditing||e.refs.mentionsinput.hasEnteredText()){e.$81({attachedGIF:a});e.preprocessGIF(a);return}e.sendGIF(a)};e.$73=function(a,b){e.setState(function(c){c[a]=b;return{mentionsData:c}},function(){e.props.contextArgs.messengerCommentPivotsParams&&e.props.contextArgs.messengerCommentPivotsParams.enabled&&e.$26()})};e.$1=!1;var f=e.props.editingComment,g=f.attachment,i=g?g.type:null,j=i==="photo"?g:null;e.state={attachedPhoto:f.photo_comment||j,attachedVideo:f.video_comment||null,attachedFile:f.file_comment||null,attachedSticker:i=="sticker"?g:null,attachedGIF:i=="gif"?g:null,attachedStars:i=="SEND_STARS"?g:null,colorfulCommentsNUXShown:!1,commentMarkdownPreviewContent:f.body?f.body.markup||null:null,commentMarkdownEnabled:f.body?f.body.markdown_enabled||!1:!1,currentThreadedFacecastCommentID:b("UFIThreadedFacecastCommentsStore").getCommentID(d.contextArgs.instanceid),addCommentNUXShown:e.props.contextArgs.permalinkAddCommentNuxShown||!1,commentPrivacy:f.privacy_value||e.props.replyCommentPrivacy||b("CommentPrivacyValue").DEFAULT_PRIVACY,showConstituentBadgeV2OptIn:Boolean(e.props.showConstituentBadgeV2OptIn),constituentBannerState:String(e.props.constituentBanner),commentSuggestionsShowing:!1,exclamationStarsData:null,videoStatus:null,videoFileURL:null,videoProgress:0,isVideoFileTranscodedGIF:!1,fileInput:null,fileUploader:null,flyoutShown:!1,isCommenting:!1,isLoadingPhoto:!1,isLoadingFile:!1,isFocused:Boolean(e.props.isEditing),gifsInCommentsNUXVisible:!1,groupedInputNUXShown:!1,markdownNUXVisible:!1,privateCommentNUXVisible:!1,hasPotentialSuggestions:!1,hasStaleSuggestions:!1,isInitialSuggestionCheck:!0,inCommercialBreak:!1,showFailedMessageDialog:!1,showMessengerPivot:!1,shouldLoadFlexibleStars:!1,shouldSendAsMessage:!1,isSendingMessage:!1,hasAttachment:!1,mentionsData:{},currentMentionIds:[],currentMentionOffsets:[],videoTrimParams:null,selectedInsightPoint:null};j=e.state.attachedPhoto||e.state.attachedVideo||e.state.attachedFile||e.state.attachedGIF||e.state.attachedSticker||e.state.attachedStars;e.state.hasAttachment=!!j;b("Run").onLoad(function(){b("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(){},"UFIAddComment.react")});return e}var f=d.prototype;f.$24=function(a){var b=this;this.setState(function(){var c=b.parseTextForMentions(a).map(function(a){return a.uid}),d=b.parseTextForMentions(a).map(function(a){return a.offset});return{currentMentionIds:c,currentMentionOffsets:d}},function(){b.$26()})};f.$26=function(){__p&&__p();var a=this;if(this.props.contextArgs.shareLinkConfig&&!this.$21()&&!this.props.isEditing){var b=this.state.currentMentionIds.length>=1,c=this.state.currentMentionOffsets.findIndex(function(a){return a===0})!==-1;if((!b||!c)&&this.state.showMessengerPivot)this.$27("pivot hidden"),this.setState({showMessengerPivot:!1});else if(b&&c){var d=!0;b=!1;c=this.state.currentMentionIds.length;for(var e=0;e<c;e++){var f=this.state.currentMentionIds[e];if(!this.state.mentionsData[f]){b=!0;break}else if(this.state.mentionsData[f]!=="user"){d=!1;break}}b||this.setState(function(b){if(d!==b.showMessengerPivot){a.$28();a.$27(b.showMessengerPivot?"pivot hidden":"pivot shown");return{showMessengerPivot:!b.showMessengerPivot}}return{}})}}};f.$30=function(a){__p&&__p();if(!this.$16||this.$16.length===a.length)return!1;var b,c;this.$16.length>a.length?(b=this.$16,c=a):(b=a,c=this.$16);a=null;var d=0;while(a===null&&d<c.length)c[d]!==b[d]&&(a=b[d]),d++;if(a===null)a=b[b.length-1];else{c=b[d];if(!/[a-zA-Z\-\']/.test(c))return!1}return!/[a-zA-Z\-\']/.test(a)};f.$23=function(a){__p&&__p();if(!this.$30(a)){this.$16=a;return}this.$16=a;var c=a.match(/[a-zA-z\-\']+/g);if(!c)return;var d=b("AccessibilityConfig").svTypicalDyslexiaMisspellings,e=!1;a=a.toUpperCase()===a;for(var c=c,f=Array.isArray(c),g=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=c.length)break;h=c[g++]}else{g=c.next();if(g.done)break;h=g.value}h=h;if(a||h.toUpperCase()!==h){h=h.toLowerCase();d.includes(h)&&(e=!0)}}if(this.state.hasPotentialSuggestions===e)return;this.setState({hasPotentialSuggestions:e});e&&new(b("WritingAssistanceTypedLogger"))().setAction("badge_shown").setValue("true").log()};f.$38=function(){this.$2||(this.$2=this.props.viewerActorID+"_"+Date.now(),new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("focus").setFunnelTags(["depth_"+(this.$21()?"1":"0")]).markStart().log())};f.$39=function(){this.$2&&(new(b("WebFunnelLogger"))("GUFIComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("commit").markEnd().log(),delete this.$2,this.$4=!1)};f.$28=function(){this.$3||(this.$3=""+Date.now(),new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction("Start").markStart().log())};f.$40=function(){this.$3&&(new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction("Commit").markEnd().log(),this.$3=null)};f.$27=function(a){this.$3&&new(b("WebFunnelLogger"))("UFIMessengerPivotsWebFunnelDefinition").setSessionKey(this.$3).setAction(a).log()};f.$44=function(a,c){__p&&__p();var d;this.setState({showMessengerPivot:!1});this.$27("comment posted");this.$40();a.encodedValue=a.encodedValue?a.encodedValue.trim():"";this.state.commentMarkdownEnabled?(a.isMarkdown=!0,this.setState({commentMarkdownEnabled:!1,commentMarkdownPreviewContent:null})):this.props.allowCommentMarkdown&&!a.isMarkdown&&(a.isMarkdown=b("textProbablyWritingMarkdown")(a.encodedValue));this.state.commentPrivacy&&(a.privacy_value=this.state.commentPrivacy);this.state.selectedInsightPoint&&(a.selectedInsightPoint=this.state.selectedInsightPoint);this.state.hasAttachment?(a.attachedPhoto=this.state.attachedPhoto,a.attachedVideo=this.state.attachedVideo,a.attachedFile=this.state.attachedFile,a.attachedSticker=this.state.attachedSticker,a.attachedStars=this.state.attachedStars,this.state.attachedGIF&&(this.state.attachedGIF.source?a.attachedShareURL=this.state.attachedGIF.source.url:this.state.attachedGIF.originalImageUrl&&(a.attachedShareURL=this.state.attachedGIF.originalImageUrl)),this.setState({isLoadingPhoto:!1,isLoadingFile:!1,attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedSticker:null,attachedGIF:null,attachedStars:null,hasAttachment:!1})):(a.attachedPhoto=null,a.attachedVideo=null,a.attachedFile=null,a.attachedSticker=null,a.attachedGIF=null,a.attachedShareURL=null,a.attachedStars=null);if(this.props.isEditing)this.context.dispatch(b("UFIAddCommentAction").submitEdit(this.props.contextArgs,this.props.editingComment,a,c.target));else if(this.state.attachedStars||!((d=this.state.exclamationStarsData)==null?void 0:d.isLoading)&&((d=this.state.exclamationStarsData)==null?void 0:d.isDetected)&&((d=this.state.exclamationStarsData)==null?void 0:d.errorMessage)==null)this.$45(a);else{d=b("UFICommonInteractionLogger").makeTrackingID();b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT,d+b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT);b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT,d+b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT);a.trackingID=d;this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,c.target,this.$21()))}this.$39();this.$46();return!0};f.$45=function(a){__p&&__p();var c=this,d,e=(d=this.state.attachedStars)==null?void 0:d.userTippedQuantity,f=m.NONE;if(((d=this.state.exclamationStarsData)==null?void 0:d.isDetected)&&!((d=this.state.exclamationStarsData)==null?void 0:d.isFlyoutStarsSelected)){f=m.SHORTCUT_TIPPING;e=(d=this.state.exclamationStarsData)==null?void 0:d.spendingUnits}var g=this.props.targetID,h=(d=this.state.attachedStars)==null?void 0:d.matchingQuantity,i=(d=this.state.attachedStars)==null?void 0:(d=d.promotionEvent)==null?void 0:d.id;b("ExclamationStarsActions.react").exclamationStarsUndetected();b("ExclamationStarsActions.react").flyoutStarsUnselected();e&&g&&b("Bootloader").loadModules(["VideoStarsSpendMutationWebGraphQLMutation","WebGraphQL","FunnelLogger"],function(d,j,k){b("promiseDone")(j.exec(new d({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),comment:a.encodedValue,payee_id:g,platform:"FB",spending_units:e,matching_units:h,video_id:c.props.commentsTargetID,wallet_promotion_id:i,wallet_type:"FB_STARS",spending_subtype:f}}),{actorID:c.props.viewerActorID,batchName:null}),function(a){b("ExclamationStarsActions.react").completeFetchBalance((a=a)!=null?(a=a.digital_content_wallet_spend)!=null?a.digital_content_wallet_balance:a:a)},function(a){c.setState({isSendingMessage:!1,showFailedMessageDialog:!0})}),k.appendActionWithTag("FLEXIBLE_STARS_WWW_FUNNEL","sent_stars",e),k.endFunnel("FLEXIBLE_STARS_WWW_FUNNEL")},"UFIAddComment.react")};f.$43=function(a){__p&&__p();var c=this;this.$39();this.$27("begin message send");this.setState({isSendingMessage:!0});var d=b("Bootloader").loadModules(["FantaTabActions","MercurySourceType","XMessengerPivotsController","UFICommentPivotFailedDialog.react"],function(e,f,g,d){__p&&__p();f=g.getURIBuilder().setString("comment_body",a).setFBID("ft_ent_identifier",c.props.contextArgs.ftentidentifier).getURI();new(b("AsyncRequest"))(f).setHandler(function(d){var f=[{startIndex:0,changeCount:a.length,changeValue:""}];c.refs.mentionsinput.replaceText("",f);c.setState({showMessengerPivot:!1,isSendingMessage:!1});f=d.payload;f.id&&(f.isGroup?e.openTab(b("MercuryIDs").getThreadIDFromThreadFBID(f.id.toString())):e.openTab(b("MercuryIDs").getThreadIDFromUserID(f.id.toString())));c.$27("send succeeded");c.$40()}).setErrorHandler(function(a){c.setState({isSendingMessage:!1,showFailedMessageDialog:!0}),c.$27("send failed")}).send()},"UFIAddComment.react");this.$7.addSubscriptions(d);this.refs.mentionsinput.focus();return!1};f.$42=function(){return this.state.videoStatus===y.UPLOAD||this.state.videoStatus===y.ENCODE&&this.state.videoProgress!==100};f.$34=function(){this.$6&&this.$6.forEach(function(a){a.unsubscribe()})};f.UNSAFE_componentWillMount=function(){__p&&__p();var a=this;this.$5=!1;this.$9=b("LitestandStoryInsertionStatus").registerBlocker(function(){return a.state.isCommenting});this.$7&&this.$7.release();this.$7=new(b("SubscriptionsHandler"))();this.$7.addSubscriptions(b("UFICommercialBreakStore").addListener(function(){a.setState({inCommercialBreak:b("UFICommercialBreakStore").getValueFor(a.props.contextArgs.instanceid)})}),b("ConstituentBadgeEventEmitter").addListener("ConstituentBadgeV2OptInModal",function(b){if(!b){a.setState({showConstituentBadgeV2OptIn:!1});return}a.setState({constituentBannerState:b.turn_off?null:a.props.constituentBanner,showConstituentBadgeV2OptIn:!1})}));this.props.allowLiveVideoCommentReplyMode&&(this.props.contextArgs.islivestreaming||this.props.contextArgs.isLiveVOD)&&this.$7.addSubscriptions(b("UFIThreadedFacecastCommentsStore").addListener(function(){var c=a.state.currentThreadedFacecastCommentID,d=b("UFIThreadedFacecastCommentsStore").getCommentID(a.props.contextArgs.instanceid);a.setState({currentThreadedFacecastCommentID:d});d!==c&&a.focus()}));this.$8=null;b("UFIConfig").canPublishLive&&this.$7.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var c=b("UFIComposerIsTypingStore").getValueFor(a.props.contextArgs.ftentidentifier);if(c===null)return;b("Bootloader").loadModules(["UFIAddCommentLiveTypingController"],function(b){a.$8||(a.$8=new b(a.props.contextArgs.ftentidentifier,a.$21(),a.props.viewerActorID)),c?a.$8.attemptPublishStartEvent():a.$8.attemptPublishStopEvent()},"UFIAddComment.react")}));this.props.allowTogglePrivateComments&&(b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled)&&this.$7.addSubscriptions(b("UFIComposerIsTypingStore").addListener(function(){var c=a.props.contextArgs.ftentidentifier;b("UFIComposerIsTypingStore").getValueFor(c)&&n.logViewerInteracted(c)}))};f.$47=function(){this.$8&&this.$8.destroy(),this.$8=null};f.UNSAFE_componentWillReceiveProps=function(a){var b=this.props.contextArgs.ftentidentifier,c=a.contextArgs.ftentidentifier;(c!==b||this.props.replyCommentID!==a.replyCommentID||this.props.viewerActorID!==a.viewerActorID)&&this.$47()};f.componentWillUnmount=function(){__p&&__p();var a=this;b("Bootloader").loadModules(["TextDelightInComposerLogger"],function(b){b.endFunnel(a.$21()||a.props.contextArgs.ftentidentifier)},"UFIAddComment.react");this.$1=!1;this.$34();this.$11&&b("Arbiter").unsubscribe(this.$11);this.$10&&b("Arbiter").unsubscribe(this.$10);this.$12&&b("Arbiter").unsubscribe(this.$12);this.$13&&b("Arbiter").unsubscribe(this.$13);this.$14&&b("Arbiter").unsubscribe(this.$14);this.$15&&b("Arbiter").unsubscribe(this.$15);this.$9&&this.$9.unsubscribe();this.$9=null;this.$7&&this.$7.release();this.$47()};f.$49=function(){var a=this;if(!this.state.colorfulCommentsNUXShown)b("IdentityBadgeUtils").isEligibleForColorComments(this.props.feedback,this.props.contextArgs)&&b("gkx")("900398")&&b("Bootloader").loadModules(["SimpleNUXMessage","SimpleNUXMessageTypes"],function(b,c){b.hasUserSeenMessage(c.GAMES_COLORFUL_COMMENTS)||(a.setState({colorfulCommentsNUXShown:!0}),b.markMessageSeenByUser(c.GAMES_COLORFUL_COMMENTS))},"UFIAddComment.react");else return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a.refs.mentionsinput},shown:this.state.colorfulCommentsNUXShown,position:"above",width:"auto",alignment:"center",onCloseButtonClick:this.$50},h._("Top Fan, Supporter, and Familiar Face badge holders will have their comments highlighted for a few seconds."));return null};f.$51=function(){var a=this;return this.state.gifsInCommentsNUXVisible&&this.refs.gif_button?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a.refs.gif_button},shown:this.state.gifsInCommentsNUXVisible,position:"above",width:"auto",alignment:"right"},h._("You can now add GIFs to comments")):null};f.$52=function(){var a=this;return this.state.markdownNUXVisible?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a.refs.markdownButton},shown:this.state.markdownNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$53},h._("[FB-Only] Markdown in Comments! Click to enable.")):null};f.$54=function(){var a=this;return this.state.groupedInputNUXShown?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a.refs.groupedInputButton},shown:this.state.groupedInputNUXShown,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this.$25},h._("Post stickers, emojis and GIFs")):null};f.$55=function(){var a=this;return this.state.addCommentNUXShown?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FBAmbientPulseNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a.refs.mentionsinput},dialogShown:!1,position:"left",shown:this.state.addCommentNUXShown}):null};f.$56=function(){var a=this;return this.state.privateCommentNUXVisible?b("React").createElement(b("BootloadedComponent.react"),{alignment:"right",bootloadLoader:b("JSResource")("XUIAmbientNUX.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),contextRef:function(){return a.refs.privacy_icon},onCloseButtonClick:this.$57,position:"above",shown:this.state.privateCommentNUXVisible,width:"auto"},b("React").createElement(b("XUIText.react"),{display:"block",weight:"bold"},h._("Comment Privately")),b("React").createElement(b("XUIText.react"),{display:"block"},h._("Add a comment that only {user} will see",[h._param("user",this.props.privateCommentTarget)]))):null};f.render=function(){__p&&__p();var a=this,c=this.props.contextArgs.loggedOutLinkConfig,d=!0;c&&c.showAddComment&&(d=!1);c=(!this.props.contextArgs.collapseaddcomment||this.state.isCommenting)&&d&&!this.props.contextArgs.hideActorPhoto;var f=null;this.props.subtitle?f=b("React").createElement("span",{className:r},this.props.subtitle):!this.state.isFocused&&this.props.isEditing?f=b("React").createElement("span",{className:r},h._("{cancel}",[h._param("cancel",b("React").createElement(b("Link.react"),{onClick:function(){return a.context.dispatch(b("UFIAddCommentAction").cancel(a.props.contextArgs))}},h._("Cancel")))])):this.props.isEditing?f=b("React").createElement("span",{className:r},h._("Press Esc to {cancel}.",[h._param("cancel",b("React").createElement(b("Link.react"),{onMouseDown:function(){return a.context.dispatch(b("UFIAddCommentAction").cancel(a.props.contextArgs))}},h._("cancel")))])):this.props.peopleOutsideCommunityInCommentNotice&&this.state.isFocused?f=b("React").createElement("div",{className:"fcg fsm _2pid"},b("React").createElement(b("Badge.react"),{key:"noncoworker",type:"work_non_coworker"}),b("React").createElement("span",{className:"_2pir _4zk5"},b("React").createElement(b("TextWithEntities.react"),{ranges:this.props.peopleOutsideCommunityInCommentNotice.ranges,text:this.props.peopleOutsideCommunityInCommentNotice.text}))):this.props.showSendOnEnterTip&&!this.props.contextArgs.isTahoeUFI&&!this.props.contextArgs.isActiveLivingRoom&&(f=b("React").createElement("span",{className:r},h._("Press Enter to post.")));var g=null,k=null,l=null,m=null,n=null,o=this.state.attachedPhoto||this.state.attachedSticker||this.state.attachedVideo||this.state.attachedFile||this.state.attachedGIF||this.state.attachedStars,t=null,u=null,v=null,w=null,x=null,z=b("cr:682211")?b("React").createElement(b("cr:682211"),{ref:"groupedInputButton",allowGifAttachments:!!this.props.allowGifAttachments,allowStickerAttachments:!!this.props.allowStickerAttachments,customStickerOwnerID:this.props.targetID,flyoutShown:this.state.flyoutShown,onEmojiSelect:this.$59,onGifSelect:this.$60,onLinkClick:this.$61,onStickerSelect:this.$62,toggleFlyout:this.$63}):null,A=b("cr:682211")?null:b("React").createElement(b("EmojiInputButton.react"),{buttonClassName:"_r1a UFICommentEmojiButton",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"UFICommentEmojiIcon",onClick:function(){return a.markViewerHasInteracted()},onSelect:function(b){a.refs.mentionsinput.insertEmoji(b)}});this.props.allowCommentMarkdown&&(m=b("React").createElement(b("UFIMarkdownButton.react"),{active:this.state.commentMarkdownEnabled,ref:"markdownButton",onClick:function(){var b=!a.state.commentMarkdownEnabled;a.setState({commentMarkdownEnabled:b});a.refs.mentionsinput&&b&&a.$22(a.refs.mentionsinput.getText())}}));!b("cr:682211")&&this.props.allowStickerAttachments&&!o&&(k=b("React").createElement(b("UFIStickerButton.react"),{ref:"sticker_button",customStickerOwnerID:this.props.targetID,onStickerSelected:this.onStickerSelected,onStickerFlyoutShow:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:!0}),a.markViewerHasInteracted()}}));!b("cr:682211")&&this.props.allowGifAttachments&&!o&&(l=b("React").createElement(b("UFIGifButton.react"),{ref:"gif_button",onGifSelected:this.onGifSelected,onGifFlyoutShow:function(){return a.markViewerHasInteracted()},defaultGifSelection:this.props.contextArgs.defaultGifQuery}));if(this.props.allowNativeTipJar&&this.props.tipJarModule&&!this.props.allowFlexibleTipping){var C=this.props.tipJarModule;v=b("React").createElement(C,{showNux:!0,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID})}if(this.props.allowFlexibleTipping&&this.props.flexibleStarsModule&&(!o||this.state.attachedStars)){C=this.props.flexibleStarsModule;w=b("React").createElement(C,{actorID:this.props.viewerActorID,canShowNux:!0,feedbackID:(C=this.props.feedback)==null?void 0:C.entidentifier,mentionsinputRef:this.refs.mentionsinput,onStarsSelected:this.onStarsSelected,targetID:this.props.targetID,targetName:this.props.targetName,videoID:this.props.commentsTargetID});this.setState({shouldLoadFlexibleStars:!0})}this.props.allowCommentFixSuggestions&&(x=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIFixSuggestionsButton.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),active:this.state.commentSuggestionsShowing,badged:this.state.hasPotentialSuggestions,ref:"fixSuggestionsButton",onClick:function(){var c=!a.state.commentSuggestionsShowing;a.setState({commentSuggestionsShowing:c});c&&(a.$17=a.refs.mentionsinput.getText(),a.setState({hasPotentialSuggestions:!1,hasStaleSuggestions:!1,isInitialSuggestionCheck:!0}));new(b("WritingAssistanceTypedLogger"))().setAction("icon_clicked").setValue(c?"show":"hide").log()}}));(this.props.allowPhotoAttachments||this.props.allowVideoAttachments||this.props.allowFileAttachments)&&(t=this.$32,g=b("React").createElement(b("UFIAttachMediaSection.react"),{ref:"media_section",getPhotoUploadData:this.$33,getFileUploadData:this.$64,prepareForAttachedPhotoPreview:this.$35,prepareForAttachedVideoPreview:this.$65,prepareForAttachedFilePreview:this.$66,allowVideoAttachments:this.props.allowVideoAttachments,allowFileAttachments:this.props.allowFileAttachments,onPhotoUploadComplete:this.$37,onFileUploadComplete:this.$67,onVideoUploadComplete:this.$68,onVideoEncodeUpdate:this.$69,onVideoUploadUpdate:this.$70,setFileInput:this.$58,targetId:this.props.targetID,onClick:function(){b("Arbiter").inform("comment_content_change",{addingAttachment:!0}),a.markViewerHasInteracted()},attachment:o,viewerActorID:this.props.viewerActorID}));C=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX);o="addComment_"+this.props.contextArgs.ftentidentifier;var D;this.$21()?D=this.props.contextArgs.replyPlaceholderText||q:this.props.contextArgs.placeholderText?D=this.props.contextArgs.placeholderText:this.props.contextArgs.isActiveLivingRoom?D=s:D=p;var E=this.props.contextArgs.viewoptionstypeobjects,F=this.props.contextArgs.viewoptionstypeobjectsorder;this.props.attachedPhoto&&!this.props.subtitle&&(f=null);var G;(this.state.attachedPhoto||this.state.isLoadingPhoto||this.state.attachedVideo||this.state.videoStatus===y.UPLOAD||this.state.attachedFile||this.state.isLoadingFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars)&&(G=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIAttachedMediaPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),attachedPhoto:this.state.attachedPhoto,attachedVideo:this.state.attachedVideo,attachedFile:this.state.attachedFile,attachedSticker:this.state.attachedSticker,attachedGIF:this.state.attachedGIF,attachedStars:this.state.attachedStars,monitorHeight:this.props.contextArgs.monitorHeight,onRemoveAttachedMediaPreviewClicked:this.$36,onRemoveAttachedStarsPreview:this.$71,onRemoveAttachedStickerPreview:this.$72,subtitle:this.props.subtitle,isLoadingPhoto:this.state.isLoadingPhoto,isLoadingFile:this.state.isLoadingFile,videoFileURL:this.state.videoFileURL,videoStatus:this.state.videoStatus,videoTrimParams:this.state.videoTrimParams,videoProgress:this.state.videoProgress,isVideoFileTranscodedGIF:this.state.isVideoFileTranscodedGIF}));var H=this.props.contextArgs.mentionsinput,I=null,J=null,K=null;H&&(I=H.inputComponent,J=H.viewComponent,K=H.viewProps);H=this.props.editingComment.body;H=H?b("MentionsInputUtils").generateDataFromTextWithEntities(H):null;var L=null;this.props.allowCommentMarkdown&&this.state.commentMarkdownEnabled&&(L=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentMarkdownPreview.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("span",null),markup:this.state.commentMarkdownPreviewContent}));var M=null;this.props.allowCommentFixSuggestions&&this.state.commentSuggestionsShowing&&(M=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIFixSuggestionsDetails.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),hasStaleSuggestions:this.state.hasStaleSuggestions,isInitialCheck:this.state.isInitialSuggestionCheck,onAccept:function(c,d){if(c){var e=a.refs.mentionsinput;e.replaceText(c,d)}a.setState({commentSuggestionsShowing:!1});new(b("WritingAssistanceTypedLogger"))().setAction("action_clicked").setValue("accept").log()},onCancel:function(){a.setState({commentSuggestionsShowing:!1}),new(b("WritingAssistanceTypedLogger"))().setAction("action_clicked").setValue("ignore").log()},onRefresh:function(){a.$17=a.refs.mentionsinput.getText(),a.setState({hasPotentialSuggestions:!1,hasStaleSuggestions:!1,isInitialSuggestionCheck:!1}),new(b("WritingAssistanceTypedLogger"))().setAction("action_clicked").setValue("refresh").log()},userText:this.$17}));I=I?b("React").createElement(I,{disableInitTextarea:!d,replyCommentID:this.$21(),initialData:H,placeholder:D,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:J,viewProps:K,viewOptionsTypeObjects:E,viewOptionsTypeObjectsOrder:F,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this.$41,onDummyFocus:this.$48,onFocus:this.focus,onBlur:this.$31,onContentChange:this.$20,onPaste:t,ftEntIdentifier:this.props.contextArgs.ftentidentifier,instanceID:this.props.contextArgs.instanceid,isBroadcasterUFI:this.props.contextArgs.isBroadcasterUFI,isTahoeUFI:this.props.contextArgs.isTahoeUFI,isLivingRoom:this.props.contextArgs.isActiveLivingRoom,isStreamerHub:this.props.contextArgs.isStreamerHub,showMessengerPivot:this.state.showMessengerPivot&&!this.state.hasAttachment,updateMentionsData:this.$73}):null;d=this.state.showMessengerPivot&&!this.state.hasAttachment?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",{className:"_6fr-"})},b("React").createElement(B,{contextArgs:this.props.contextArgs,isActive:this.state.shouldSendAsMessage,isSending:this.state.isSendingMessage,onClick:this.handleMessengerPivotClick})):null;H=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_composer_rounded_borders;D=b("SutroStoryHeaderUFIGatingConfig").enabled_for_comment_glyphs;J=j&&this.props.allowBotMentions&&this.props.groupID?b("React").createElement(j,{groupID:this.props.groupID,onSelect:function(b){return a.insertMention(b)}}):null;K=this.state.selectedInsightPoint&&b("React").createElement(b("UFIInsightsSharingCommentTag.react"),{showMiddot:!1,formattedValue:this.state.selectedInsightPoint.formattedValue});E=b("React").createElement("div",{className:"UFICommentContainer"},b("React").createElement("div",{className:"_fmi"+(H?" _613v":"")+" UFIInputContainer"+(b("PrivateCommentsConfig").dark_composer_theme_enabled&&this.state.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFIPrivateCommentDarkTheme":"")},K,d,I,b("React").createElement("div",{className:"_fmk"+(this.state.showMessengerPivot&&!this.state.hasAttachment?" _6fry":"")+" UFICommentAttachmentButtons _5op2"+(D?" _15i7":"")+(D?" _2kwm":"")},D?this.$74():null,x,J,n,A,m,g,l,k,z,u,v,w)),L,M,G,f);var N={};if(c){var O=this.props.contextArgs.livingRoomID;this.props.contextArgs.isLivingRoom==!0&&O!=null&&b("Bootloader").loadModules(["LivingRoomActions","LivingRoomLoggerAction","LivingRoomStoreInitializer","LivingRoomTypedLogger","UFICentralUpdates"],function(a,c,d,e,f){f.subscribe("actor-changed",function(c,e){a.setAddVideoDialogTab(O,i.SEARCH),a.updatePresentUsers(O,b("immutable").List(),0),a.close(O),d.initialize(O,e.actorID,b("LivingRoomEntrySource").UFI_VOICE_ACTOR_CHANGE,"UFIAddComment")}),N.onActorChange=function(a,b){new e().setLivingRoomID(O).setLivingRoomAction(c.VOICE_SELECTOR_ACTOR_CHANGE).updateExtraData({oldActorID:a,newActorID:b}).log()}},"UFIAddComment.react");E=b("React").createElement(b("UFIImageBlock.react"),{className:"UFIMentionsInputWrap"+(this.props.allowStickerAttachments?" UFIStickersEnabledInput":"")+(this.props.allowCommentMarkdown?" UFIMarkdownEnabledInput":"")+(this.props.allowGifAttachments?" UFIGifEnabledInput":"")+(this.props.allowNativeTipJar?" UFITipJarEnabledInput":"")+(this.props.allowFlexibleTipping?" UFIFlexibleStarsEnabledInput":"")},b("React").createElement("div",{className:"UFIReplyActorPhotoWrapper"+(this.state.showMessengerPivot&&!this.state.hasAttachment?" _6fr_":""),onClick:this.focus,role:"presentation"},b("React").createElement(b("UFIActorIconContainer.react"),babelHelpers["extends"]({},N,{actorID:this.props.viewerActorID,actorSelectorConfig:this.props.contextArgs.actorSelectorConfig,isLivingRoom:this.props.contextArgs.isLivingRoom,overlayActorSelectorOnUFIPhoto:this.props.contextArgs.overlayActorSelectorOnUFIPhoto}))),E)}F=b("React").createElement("div",{ref:function(b){return a.rootNode=b},id:o,className:b("joinClasses")("UFIRow _4oep UFIAddComment"+(this.props.allowPhotoAttachments?" UFIAddCommentWithPhotoAttacher":"")+(this.props.withoutSeparator?" UFIAddCommentWithoutSeparator":"")+(this.props.isFirstComponent?" _4204":"")+(this.props.isLastComponent?" _2o9m":"")+(this.state.inCommercialBreak?" hidden_elem":""),this.props.className),onKeyDown:this.$18,"data-ft":C},this.$75(),this.$76(),this.$77(),E,this.$51(),this.$52(),this.$54(),this.$55(),this.$49(),this.$78());t=b("ifRequired")("LiveVideoQuickComments.react",function(a){return a});H=this.props.contextArgs.liveVideoQuickCommentsConfig!=null&&t!=null?b("React").createElement(t,{contextArgs:this.props.contextArgs,videoID:this.props.contextArgs.liveVideoQuickCommentsConfig.videoID,modes:this.props.contextArgs.liveVideoQuickCommentsConfig.modes}):null;return H?b("React").createElement("div",null,H,F):F};f.componentDidUpdate=function(a,b){if(!b.attachedPhoto&&this.state.attachedPhoto||!b.attachedSticker&&this.state.attachedSticker||!b.attachedVideo&&this.state.attachedVideo||!b.attachedFile&&this.state.attachedFile||!b.attachedGIF&&this.state.attachedGIF||!b.attachedStars&&this.state.attachedStars||!b.isCommenting&&this.state.isCommenting){var c=this.state.attachedPhoto||this.state.attachedVideo||this.state.attachedFile||this.state.attachedSticker||this.state.attachedGIF||this.state.attachedStars;this.setState({hasAttachment:!!c});this.refs.mentionsinput.focus()}a.viewerActorID!==this.props.viewerActorID&&(this.state.fileInput&&this.state.fileInput.clear(),this.state.fileUploader&&this.state.fileUploader.setData(this.$33()),this.$36());!b.shouldLoadFlexibleStars&&this.state.shouldLoadFlexibleStars&&this.$79()};f.componentDidMount=function(){__p&&__p();var a=this;this.$1=!0;if(this.props.contextArgs.source===b("FeedbackSourceType").NEWS_FEED){var c=this.props.replyCommentID!=null;c?b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount",b("UFIVersion").LEGACY):b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount",b("UFIVersion").LEGACY)}this.$22=b("throttle")(this.$22,w,this);this.$12=b("Arbiter").subscribe("UFIComment/insertComposerPayload/"+this.props.contextArgs.ftentidentifier,function(b,c){if(!c||c.instanceid!==void 0&&c.instanceid!==a.props.contextArgs.instanceid||!a.props.isTopLevelComposer)return;a.focus();c.mention!==void 0&&a.insertMention(c.mention);c.emojitext!==void 0&&a.insertEmojiText(c.emojitext);c.stickerid!==void 0&&a.$80(c.stickerid)});this.$13=b("Arbiter").subscribe("UFIComment/"+this.props.contextArgs.ftentidentifier+"/selectGif",function(b,c){if(!c||a.$21())return;a.focus();a.$81({attachedGIF:c.gif});a.preprocessGIF(c.gif)});this.$14=b("Arbiter").subscribe("InsightsComments/"+this.props.contextArgs.ftentidentifier+"/selectedInsightsPoint/",function(c,d){if(!d)return;a.setState({selectedInsightPoint:d.selectedInsightPoint});c=b("ReactDOM").findDOMNode(a.refs.mentionsinput);c!==null&&d.selectedInsightPoint&&c instanceof Element&&b("DOMScroll").ensureVisible(c,null,null,null,function(){window.setTimeout(function(){return a.refs.mentionsinput.focus()})})});b("ExclamationStarsDispatcher.react").explicitlyRegisterStores([b("ExclamationStarsStore.react")]);this.state.shouldLoadFlexibleStars&&this.$79();if(!this.props.allowPhotoAttachments&&!this.props.allowVideoAttachments&&!this.props.allowFileAttachments)return;this.$15=b("Arbiter").subscribe("UFIComment/"+this.props.contextArgs.ftentidentifier+"/attachCreatedGif",function(b,c){if(!c||a.$21())return;a.focus();a.setState({videoProgress:100,attachedVideo:{fbid:c.videoID},videoStatus:y.ENCODE,videoTrimParams:c.trimParams})});this.$21()===null&&(this.$10=b("Arbiter").subscribe("focusCommentField"+this.props.contextArgs.ftentidentifier,function(b){a.refs.mentionsinput.focus()}),this.props.contextArgs.issnowlift&&(this.$11=b("Arbiter").subscribe("newRemixedImage"+this.props.contextArgs.ftentidentifier,function(b,c){b={clipboardData:{items:[c]}};a.$32(b)})))};f.$76=function(){return this.state.constituentBannerState&&!this.$21()?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFICommentingAsConstituentHeader.react").__setRef("UFIAddComment.react"),bootloadPlaceholder:b("React").createElement("div",null),uri:this.props.constituentBanner}):null};f.$75=function(){var a=this.props,c=a.contextArgs;a=a.isTopLevelComposer;var d=c.conversationGuideParams;d=d?d.trackingID:null;return a&&b("cr:719006")?b("React").createElement(b("cr:719006"),{position:"above",trackingID:d,contextArgs:c,ufiContextDispatch:this.context.dispatch,isComposerFocused:this.state.isFocused}):null};f.$74=function(){var a=this,c=this.props.isEditing&&this.props.editingComment.privacy_value===b("CommentPrivacyValue").OWNER_OR_COMMENTER,d=this.$21()&&this.props.replyCommentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER,e=!c&&!d&&this.props.allowTogglePrivateComments;if(!c&&!d&&!this.props.allowTogglePrivateComments||!(e?b("PrivateCommentsConfig").composer_lock_enabled||b("PrivateCommentsConfig").composer_unlocked_lock_enabled:b("PrivateCommentsConfig").reply_composer_lock_enabled))return null;e?(b("Bootloader").loadModules(["PrivateCommentsLogger"],function(b){return b.startFunnel(a.props.contextArgs.ftentidentifier)},"UFIAddComment.react"),c=h._("Toggle Privacy")):d?c=h._("Only you and {user} will be able to see your reply",[h._param("user",this.props.privateCommentTarget)]):c=h._("Only you and {user} can see this",[h._param("user",this.props.privateCommentTarget)]);return b("React").createElement(b("Link.react"),{"aria-label":c,className:"_r1a UFICommentPrivacyButton","data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":c,onClick:function(){a.markViewerHasInteracted(),e&&(n.logToggle(a.state.commentPrivacy===b("CommentPrivacyValue").DEFAULT_PRIVACY,a.props.contextArgs.ftentidentifier),a.setState(function(a){return{commentPrivacy:a.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?b("CommentPrivacyValue").DEFAULT_PRIVACY:b("CommentPrivacyValue").OWNER_OR_COMMENTER}}))},role:"button"},b("React").createElement("div",{ref:"privacy_icon",className:"UFICommentPrivacyIcon"+(b("PrivateCommentsConfig").composer_unlocked_lock_enabled?" UFICommentPrivacyIconVariant":"")+(!e||this.state.commentPrivacy===b("CommentPrivacyValue").OWNER_OR_COMMENTER?" UFICommentPrivacyIconActive":"")}),e?this.$56():null)};f.$77=function(){return this.props.isEditing||this.state.commentPrivacy!==b("CommentPrivacyValue").OWNER_OR_COMMENTER||!b("PrivateCommentsConfig").privacy_text_above_composer_enabled?null:this.$21()?b("React").createElement("div",{className:"_2tpi"},h._("Replying privately to {=[user]}",[h._param("=[user]",b("React").createElement("strong",null,h._("{user}",[h._param("user",this.props.privateCommentTarget)])))])):b("React").createElement("div",{className:"_2tpi"},h._("Only you and {=[user]} can see this",[h._param("=[user]",b("React").createElement("strong",null,h._("{user}",[h._param("user",this.props.privateCommentTarget)])))]))};f.$78=function(){var a=this;return this.state.showFailedMessageDialog?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(C,{contextArgs:this.props.contextArgs,onHide:function(){a.setState({showFailedMessageDialog:!1}),a.refs.mentionsinput.focus()},showFailedDialog:this.state.showFailedMessageDialog})):null};f.insertMention=function(a){var b=this;this.refs.mentionsinput&&this.refs.mentionsinput.insertMention&&(this.refs.mentionsinput.insertMention(a),window.setTimeout(function(){return b.refs.mentionsinput.focus()}))};f.insertEmojiText=function(a){this.refs.mentionsinput.getText().trim()===""?this.refs.mentionsinput.insertEmoticon(a.trim()+" "):this.refs.mentionsinput.insertEmoticon(a)};f.$82=function(a){return a==="finish"};f.$83=function(){this.state.fileInput&&this.state.fileInput.clear()};f.$81=function(a){if(!b("CurrentUser").isWorkUser())this.setState(a);else{var c={attachedPhoto:null,attachedVideo:null,attachedFile:null,attachedGIF:null,attachedSticker:null,attachedStars:null,videoStatus:null,videoFileURL:null,isLoadingPhoto:!1,videoProgress:0,isVideoFileTranscodedGIF:!1,hasAttachment:!1};this.setState(babelHelpers["extends"]({},c,a))}};f.$80=function(a){this.setState({attachedSticker:null,isLoadingPhoto:!0}),new(b("AsyncRequest"))(v).setData({sticker_id:a}).setErrorHandler(this.$72).setHandler(this.$84).send()};f.sendSticker=function(a,c){a={encodedValue:"",visibleValue:"",attachedPhoto:null,attachedSticker:{fbid:a},privacy_value:this.state.commentPrivacy};this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,c.target,this.$21()))};f.isPromotionMatchingEnabled=function(a){return a!=null&&a.isEnabled&&a.type==="SPEND_MATCH"};f.$46=function(){this.setState({addCommentNUXShown:!1})};f.preprocessGIF=function(a){var c=b("XUFICommentGIFPreprocessController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setData({gif_url:a.source.url}).send()};f.sendGIF=function(a){a={encodedValue:"",visibleValue:"",attachedShareURL:a.source.url,privacy_value:this.state.commentPrivacy};this.rootNode&&this.context.dispatch(b("UFIAddCommentAction").submitNew(this.props.contextArgs,a,this.rootNode,this.$21()))};f.parseTextForMentions=function(a){var b=[],c;while(c=A.exec(a)){c={uid:c[1],text:c[2],offset:c.index,length:c[2].length,weakreference:!1,entity:{uid:c[1],weakreference:!1}};b.push(c);A.lastIndex=c.offset+c.length}return b};f.markViewerHasInteracted=function(){this.props.markViewerHasInteracted&&this.props.markViewerHasInteracted()};f.$21=function(){return this.props.replyCommentID||this.state.currentThreadedFacecastCommentID};d.getStores=function(){return[b("ExclamationStarsStore.react")]};d.calculateState=function(a){a=babelHelpers["extends"]({},a);a.exclamationStarsData={isDetected:b("ExclamationStarsStore.react").isExclamationStarsDetected(),isLoading:b("ExclamationStarsStore.react").isLoading(),spendingUnits:b("ExclamationStarsStore.react").getSpendingUnits(),errorMessage:b("ExclamationStarsStore.react").getErrorMessage(),isFlyoutStarsSelected:b("ExclamationStarsStore.react").isFlyoutStarsSelected()};return a};f.$85=function(){var a=this;b("ExclamationStarsActions.react").startFetchBalance();b("Bootloader").loadModules(["VideoStarsWalletQueryWebGraphQLQuery","WebGraphQL"],function(c,d){b("promiseDone")(d.exec(new c({})),function(a){b("ExclamationStarsActions.react").completeFetchBalance((a=a)!=null?(a=a.viewer)!=null?(a=a.digital_content_wallet)!=null?a.digital_content_wallet_balance:a:a:a)},function(c){b("ExclamationStarsActions.react").handleTransactionError(a.props.targetID)})},"UFIAddComment.react")};f.$79=function(){__p&&__p();var a=this,c=this.props.targetID;c&&this.props.allowShortcutTipping&&(b("ExclamationStarsActions.react").enableExclamationStars(),b("Bootloader").loadModules(["GameTippingCustomTipMetaDataQueryWebGraphQLQuery","WebGraphQL","nullthrows"],function(d,e,f){b("promiseDone")(e.exec(new d({input:{page_id:c}})),function(a){a=(a=a)!=null?a.game_tipping_custom_tip_meta_data:a;if(a){a=a.map(function(a){var b;return{min:f((b=a)!=null?b.min:b),max:f((b=a)!=null?b.max:b),color:f((b=a)!=null?b.main_color:b)}});b("ExclamationStarsActions.react").completeFetchExclamationStarsMetadata(a,a[0].min)}},function(c){b("ExclamationStarsActions.react").handleTransactionError(a.props.targetID)}),a.$85()},"UFIAddComment.react"))};return d}(b("React").Component);d.contextTypes={dispatch:c.func};e.exports=b("FluxContainer").create(d)}),null);
__d("ReactionNuxTypeEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIKE_CLICK:"like_click",LIKE_CLICK_RENUX:"like_click_renux",SPATIAL_REACTIONS_NUX:"spatial_reactions_nux"})}),null);
__d("UFICommentLikeLink.react",["cx","fbt","React","ReactionNuxTypeEnum","TrackingNodes","UFICommentAction","UFIConfig","UFIReactionsLinkImpl.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i="ufi_comment_like_link",j="ufi_reply_like_link";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getCanRender=function(a){return!!(a&&(a.canviewerreact||a.viewercanlike||a.hasviewerliked))};var d=c.prototype;d.render=function(){var a=this.props.comment,c=this.props.feedback,d=this.props.contextArgs;if(!this.constructor.getCanRender(a))return null;if(a.canviewerreact)return b("React").createElement("span",{className:"_6a _3-me"},this.$1(a,c,d));else if(a.viewercanlike||a.hasviewerliked)return this.$2(a,c,d);return null};d.$1=function(a,c,d){var e=null;b("UFIConfig").reactionsHasCommentsNux&&(e={nuxKey:"reactions_comments",titleOverride:h._("New! React to a Comment"),textOverride:h._("Hover over the Like link to see all reactions."),nuxType:b("ReactionNuxTypeEnum").LIKE_CLICK});return b("React").createElement(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},d,{ftentidentifier:a.id}),comment:a,nuxConfig:e,reaction:a.viewerreaction,supportedReactions:c.supportedreactions,ftIdentifier:d.ftentidentifier})};d.$2=function(a,c,d){var e=this;c=d.loggedOutLinkConfig;var f=b("TrackingNodes").getTrackingInfo(a.hasviewerliked?b("TrackingNodes").types.UNLIKE_LINK:b("TrackingNodes").types.LIKE_LINK),g=a.hasviewerliked?h._("Unlike this comment"):h._("Like this comment"),k=a.parentcommentid?j:i,l=!a.hasviewerliked||c?h._("Like"):h._("Unlike"),m=null,n=null;c&&c.showLikeLink&&(m="dialog",n=c.likeAjaxifyURI);return b("React").createElement("a",{className:"UFILikeLink","data-ft":f,"data-testid":k,href:"#",rel:m,ajaxify:n,onClick:function(c){return e.context.dispatch(b("UFICommentAction").toggleLike(d,a,c.target))},role:"button",title:g},l)};return c}(b("React").Component);c.propTypes={comment:a.object.isRequired,contextArgs:a.object.isRequired,feedback:a.object.isRequired};c.contextTypes={dispatch:a.func};e.exports=c}),null);
__d("AuthorPinnedCommentEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMMENT_PINNED:"comment_pinned",PINNED_COMMENT_REPLACED:"pinned_comment_replaced",COMMENT_UNPINNED:"comment_unpinned",PINNING_ATTEMPT:"pinning_attempt",REPLACING_ATTEMPT:"replacing_attempt",UNPINNING_ATTEMPT:"unpinning_attempt",NUX_DISPLAYED:"nux_displayed",NUX_DISMISSED:"nux_dismissed",NUX_IMPRESSION:"nux_impression",PIN_BUTTON_SHOWN:"pin_button_shown",UNPIN_BUTTON_SHOWN:"unpin_button_shown"})}),null);
__d("AuthorPinnedCommentsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AuthorPinnedCommentsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={comment_id:!0,event:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XUICircleDotsButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.label;a=a.tooltip;var e=this.props.title;!this.props.title&&!a&&(e=d);return b("React").createElement(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:d,title:e,"data-hover":a&&"tooltip","data-tooltip-alignh":a&&"center","data-tooltip-content":a,className:b("joinClasses")(c,"_6eib")}))};return c}(b("React").Component);a.defaultProps={label:h._("Manage")};e.exports=a}),null);
__d("UFICommentMenu.react",["ix","cx","AuthorPinnedCommentLogger","Bootloader","Image.react","React","XUICircleDotsButton.react","XUICloseButton.react","XUIDotsButton.react","XUIEditButton.react","fbglyph","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i,j,k,l,m,n=b("keyMirror")({EDIT:!0,CLOSE:!0,CHEVRON:!0,DOTS:!0,TOOLTIP:!0});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bootloading:!1,bootloaded:!1,needsExpand:!1},d.onClickGuard=function(a){if(d.state.bootloading)return;else!d.state.bootloaded&&d.props.menuData&&(d.setState({bootloading:!0}),b("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu","XUIMenuSeparator.react"],function(a,b,c,d){i=a,j=b,k=c,l=c.Item,m=d,this.setState({bootloading:!1,bootloaded:!0,needsExpand:!0})}.bind(babelHelpers.assertThisInitialized(d)),"UFICommentMenu.react"));d.props.onClick&&d.props.onClick(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){return this.state.needsExpand&&!b.needsExpand?!1:!0};d.componentDidUpdate=function(){this.state.needsExpand&&(this.refs.menu.showPopover(),this.props.onMenuShown&&this.props.onMenuShown(),this.setState({needsExpand:!1}))};d.$1=function(){switch(this.props.menuType){case n.EDIT:return b("XUIEditButton.react");case n.CLOSE:return b("XUICloseButton.react");case n.DOTS:return this.props.showRedesign?b("XUICircleDotsButton.react"):b("XUIDotsButton.react");case n.TOOLTIP:return o;case n.CHEVRON:default:return p}};d.$2=function(a){var c=this;return a.map(function(a){var d=c.$3(a.value),e=c.props.commentID||"";a.testid==="ufi_comment_menu_pin_by_author"?b("AuthorPinnedCommentLogger").logPinButtonShown(e.toString()):a.testid==="ufi_comment_menu_unpin_by_author"&&b("AuthorPinnedCommentLogger").logUnpinButtonShown(e.toString());return b("React").createElement(l,{className:"_6mdw","data-testid":a.testid,key:a.value,value:a.value},d,a.label)})};d.$3=function(a){__p&&__p();switch(a){case"edit":return b("React").createElement("div",{className:"_6mdx _6mdy"});case"hide":return b("React").createElement("div",{className:"_6mdx _6mdz"});case"remove":return b("React").createElement("div",{className:"_6mdx _6md_"});case"delete_and_block":return b("React").createElement("div",{className:"_6mdx _6me0"});case"delete_comment_with_feedback":return b("React").createElement("div",{className:"_6mdx _7dg3"});case"delete_comment_and_remove_commenter":return b("React").createElement("div",{className:"_6mdx _6me1"});case"mute_member":return b("React").createElement("div",{className:"_6mdx _6me2"});case"hide_text_delights":return b("React").createElement("div",{className:"_6mdx _6me3"});case"pin_by_author":return b("React").createElement("div",{className:"_6mdx _6me4"});case"unpin_by_author":return b("React").createElement("div",{className:"_6mdx _6mea"});case"live_video_pin":return b("React").createElement("div",{className:"_6mdx _6meb"});case"live_video_unpin":return b("React").createElement("div",{className:"_6mdx _6mec"});case"view_edit_history":return b("React").createElement("div",{className:"_6mdx _6med"});default:return null}};d.render=function(){var a=this.$1();if(this.state.bootloaded){var c=[];this.props.menuData&&c.push.apply(c,this.$2(this.props.menuData));this.props.menuUserSection&&(c&&c.push(b("React").createElement(m,{key:"xui_separator"})),c.push.apply(c,this.$2(this.props.menuUserSection)));c=b("React").createElement(k,{onItemClick:this.props.onAction},c);return b("React").createElement(j,babelHelpers["extends"]({},this.props,{alignh:"right",position:this.props.showRedesign?"above":null,layerBehaviors:[i],menu:c,ref:"menu",onShow:this.props.onPopoverMenuShow,onHide:this.props.onPopoverMenuHide}),b("React").createElement(a,babelHelpers["extends"]({},this.props,{href:"#",onClick:this.onClickGuard})))}else return b("React").createElement(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_1-be"+(this.props.showPinnedCommentNux?" UFICommentCloseButtonNux":"")),href:"#",onClick:this.onClickGuard}))};return c}(b("React").Component);c.MenuType=n;c.propTypes={menuData:a.array,menuUserSection:a.array,menuType:a.oneOf(Object.keys(n)).isRequired,onAction:a.func,onClick:a.func,onMenuShown:a.func,commentID:a.string};var o=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return b("React").createElement("a",this.props,b("React").createElement(b("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:g("126426"),"data-tooltip-alignh":"center"}))};return a}(b("React").Component),p=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return b("React").createElement("a",this.props,b("React").createElement(b("Image.react"),{"data-hover":"tooltip","data-tooltip-content":this.props.tooltip,"aria-label":this.props.tooltip,src:g("125792")}))};return a}(b("React").Component);e.exports=c}),null);
__d("UFICommentMetadata.react",["ix","cx","fbt","BootloadedComponent.react","Image.react","JSResource","Middot.react","React","Timestamp.react","TrackingNodes","UFIConstants","URI","XUISpinner.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("UFIConstants").UFIStatus,k="ufi_comment_timestamp",l="UFIFailureMessageIcon",m="UFIFailureMessage",n="uiLinkSubtle",o=function(a){a=a.status;return a===j.FAILED_ADD||a===j.FAILED_EDIT};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.editLinkRef=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.comment,e=c.onRetrySubmit;c=c.isAuthorPinnedComment;var f,h,j=d.timestamp;if(o(d))f=[b("React").createElement("span",{key:"failure",className:m},b("React").createElement("i",{className:l}),i._("Unable to post comment.")),d.allowRetry&&e?[" ",b("React").createElement("a",{key:"rety-submit",onClick:e,href:"#",role:"button"},i._("Try Again"))]:null];else if(c){e=b("React").createElement("span",null,b("React").createElement(b("Image.react"),{className:"UFIAuthorPinnedCommentIcon",src:g("606470")}),i._("Pinned"));h=e;this.props.showPermalink&&(h=this.$1(e))}else if(j){c=b("React").createElement(b("Timestamp.react"),{className:"UFISutroCommentTimestamp",minimize:!0,shorten:this.props.shortenTimestamp,time:j.time,text:j.text,useLargerTimeUnits:!0,verbose:j.verbose});h=c;this.props.showPermalink&&(h=this.$1(c))}e=null;if(d.originalTimestamp){j=new(b("URI"))("/ajax/edits/browser/comment").addQueryData({comment_token:d.id}).toString();e=[!this.props.displayVerticalCommentVote&&b("React").createElement(b("Middot.react"),{key:"middot-editNote"}),b("React").createElement("a",{ajaxify:j,className:"uiLinkSubtle"+(this.props.displayVerticalCommentVote?" _6hmt":""),"data-hover":"tooltip","data-tooltip-content":i._("Show edit history"),href:"#",key:"edit-link",ref:function(b){return a.editLinkRef=b},rel:"dialog",role:"button",title:i._("Show edit history")},i._("Edited"))]}c=null;d.attachment_status&&!o(d)&&(c=b("React").createElement("span",null,b("React").createElement(b("Middot.react"),{key:"middot-creator"}),b("React").createElement("span",{className:"UFISutroCommentTimestamp"},d.attachment_status)));j=null;var k=d.creator_data;k&&(j=[b("React").createElement(b("BootloadedComponent.react"),{key:"creator",bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"small"}),bootloadLoader:b("JSResource")("UFICreatorInfo.react").__setRef("UFICommentMetadata.react"),creatorID:k.creatorID,creatorType:k.creatorType,creatorName:k.creatorName,labelType:k.labelType,pageID:k.pageID,profileURI:k.profileURI}),b("React").createElement(b("Middot.react"),{key:"middot-creator"})]);k=null;d.body&&d.body.markdown_enabled&&d.body.markup&&(k=[b("React").createElement(b("Middot.react"),{key:"middot-markdownNote"}),b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("a",{className:"uiLinkSubtle"},i._("Formatted")),bootloadLoader:b("JSResource")("UFICommentMarkdownFormattedLink.react").__setRef("UFICommentMetadata.react"),comment:d,key:"markdown-link"})]);d=null;this.props.showEditNux&&(d=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIEditCommentNux.react").__setRef("UFICommentMetadata.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{size:"small"}),context:this.editLinkRef,helpUri:this.props.helpUri,onCloseButtonClick:this.props.onEditNuxCloseClick,shown:this.props.showEditNux}));return b("React").createElement("span",null,j,h,f,e,k,d,c)};d.$1=function(a){var c=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.SOURCE);return b("React").createElement("a",{key:"timestamp-message",className:n,href:this.props.permalink,"data-ft":c,"data-testid":k,target:this.props.permalinkTarget},a)};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentPlayerStatsCard.react",["cx","fbt","React","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="\xb7";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(){return!1};d.$1=function(a){return b("React").createElement("span",null,h._("{Stat Label}: {Stat Value}",[h._param("Stat Label",a.label),h._param("Stat Value",a.value)]))};d.$2=function(a){var c=a.stats.map(this.$1,this),d=[];for(var e=0;e<c.length;e+=2){var f=[];f.push(b("React").createElement("span",{key:"first_stat"},c[e]));e+1<c.length&&(f.push(b("React").createElement("span",{key:"separator"},b("React").createElement(b("XUIText.react"),{size:"header3"}," ",i," "))),f.push(b("React").createElement("span",{key:"second_stat"},c[e+1])));d.push(b("React").createElement("div",{key:"stat_row_"+e},f))}return b("React").createElement("div",{className:"_3yk9"},b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},a.persona)),d)};d.render=function(){var a=this.props.comment.playerStatsCardData;return!a?b("React").createElement("div",null):b("React").createElement("div",{className:"_3yk7"},this.$2(a))};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentReactionCount.react",["cx","ActorURI","ClientIDs","React","UFIReactionsBlingTokens.react","UFIReactionsProfileBrowserUtils","XUFIReactionsSocialSentenceTooltipController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.comment,c={entidentifier:a.id,reactioncount:a.reactioncount,reactioncountmap:a.reactioncountmap,actorforpost:this.props.actorForPost,supportedreactions:this.props.supportedReactions},d="UFICommentLikeButton"+(this.props.showLiveStreamingRedesign&&a.hasviewerliked?" UFILiveCommentRedesignLikedButton":"")+" UFISutroLikeCount",e="UFICommentReactionsBling _4ar- _ipn",f=b("ActorURI").create(b("XUFIReactionsSocialSentenceTooltipController").getURIBuilder().setString("ft_ent_identifier",a.id).setString("client_id",b("ClientIDs").getNewClientID()).setInt("user_count",a.reactioncount).getURI(),this.props.actorForPost),g=b("UFIReactionsProfileBrowserUtils").getDialogURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),h=b("UFIReactionsProfileBrowserUtils").getPageURI({actorID:this.props.actorForPost,feedbackTargetID:a.id}),i=this.props.contextArgs.loggedOutLinkConfig;i&&i.showLikeLink&&(g=i.likeAjaxifyURI,h="#");return b("React").createElement("a",{ajaxify:g,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":f,"data-tooltip-offsety":"-3",href:h,rel:"dialog",role:"button"},b("React").createElement(b("UFIReactionsBlingTokens.react"),{className:e,feedback:c,contextArgs:this.props.contextArgs,max:3,noLinks:!0,size:"16"},b("React").createElement("span",{className:d},a.reactioncountreduced)))};return c}(b("React").Component);c.propTypes={actorForPost:a.string,comment:a.object.isRequired,contextArgs:a.object.isRequired,supportedReactions:a.array,showLiveStreamingRedesign:a.bool};e.exports=c}),null);
__d("XUFISubscribeCommentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/subscribe/",{})}),null);
__d("UFICommentSubscribeLink.react",["fbt","AsyncRequest","React","XUFISubscribeCommentController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){c=a.call(this,b,c)||this;b=b.comment.issubscribed;c.state={isSubscribed:b?b:!1};return c}var d=c.prototype;d.render=function(){var a=this,c=g._("Subscribe to this comment"),d=g._("Subscribe"),e=g._("Unsubscribe to this comment"),f=g._("Unsubscribe");return b("React").createElement("a",{href:"#",role:"button",title:this.state.isSubscribed?e:c,onClick:function(){return a.onLinkClick()}},this.state.isSubscribed?f:d)};d.onLinkClick=function(){var a=this,c=this.props.comment,d=b("XUFISubscribeCommentController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({comment_id:c.fbid,ft_ent_identifier:c.ftentidentifier,is_subscribe:!this.state.isSubscribed}).setMethod("POST").setHandler(function(b){a.setState({isSubscribed:!a.state.isSubscribed})}).setErrorHandler(function(a){}).send()};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentTranslationLink.react",["cx","ContentTranslationStrings","Link.react","React","TranslationTrigger","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(!this.props.showTranslation)return b("React").createElement(b("Link.react"),{className:"UFITranslateLink",onClick:function(){return a.$1()}},b("ContentTranslationStrings").SEE_TRANSLATION);var c=this.props.translationData;if(!c)return b("React").createElement("div",{className:"UFITranslateLink"},b("React").createElement(b("XUISpinner.react"),{background:"light",size:"small"}));var d=c.translatedText;if(!d||!d.text)return b("React").createElement("div",{className:"UFITranslationErrorText"},b("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE);d=this.props.isShowingOriginal||c.trigger===b("TranslationTrigger").LOGGED_OUT_AUTO_TRANSLATION;d=d?b("React").createElement("div",{className:"UFITranslateAttribution"},b("ContentTranslationStrings").AUTOMATICALLY_TRANSLATED):b("React").createElement(b("Link.react"),{className:"UFITranslateLink",onClick:function(){return a.$2()}},this.props.shownInCommentActions?b("React").createElement("div",null,b("React").createElement("span",null,b("ContentTranslationStrings").SEE_ORIGINAL_LINK),b("React").createElement("span",null," ("+c.sourceDialectName+")")):b("ContentTranslationStrings").SEE_ORIGINAL_LINK);return d};d.$1=function(){this.props.onSeeTranslation&&this.props.onSeeTranslation()};d.$2=function(){this.props.onSeeOriginal&&this.props.onSeeOriginal()};return c}(b("React").Component);a.defaultProps={shownInCommentActions:!1};e.exports=a}),null);
__d("UFICommentTranslationText.react",["cx","React","TranslationTrigger","TruncatedTextWithEntities.react","UFIConfig","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=c.props.translationData;c.state={shouldExpand:c.props.shouldExpand||!!d&&d.trigger===b("TranslationTrigger").SEE_TRANSLATION};return c}var d=c.prototype;d.render=function(){var a=this,c=this.props.translationData;if(!c||!this.props.showTranslation)return null;c=c.translatedText;return b("React").createElement(b("TruncatedTextWithEntities.react"),{className:"UFICommentBody",ranges:c.ranges,text:c.text,truncationPercent:b("UFIConstants").commentTruncationPercent,maxLength:b("UFIConstants").commentTruncationLength,maxLines:b("UFIConstants").commentTruncationMaxLines,renderEmoticons:b("UFIConfig").renderEmoticons,renderEmoji:b("UFIConfig").renderEmoji,dir:c.dir,shouldExpand:this.state.shouldExpand,markViewerHasInteracted:function(){return a.setState({shouldExpand:!a.state.shouldExpand})}})};return c}(b("React").Component);a.defaultProps={shouldExpand:!1};e.exports=a}),null);
__d("UFICommentVPVTracker.react",["OnVisible.react","React","UFICommentVPVs","UFIConfig","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={timer:null},d.maybeScheduleVPVLogging=function(){if(d.state.timer!==null)return;var a=d.props.comment.id,c=d.props.contextArgs.instanceid;if(b("UFICommentVPVs").hasLoggedVPV(c,a))return;d.setState({timer:b("setTimeout")(function(){b("UFICommentVPVs").logVPV(c,a),d.setState({timer:null})},b("UFIConfig").vpvLoggingTimeout)})},d.cancelScheduledVPVLogging=function(){if(d.state.timer===null)return;b("clearTimeout")(d.state.timer);d.setState({timer:null})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.comment.id,c=this.props.contextArgs.instanceid,d=this.props.children;c=b("UFICommentVPVs").hasLoggedVPV(c,a);return b("React").createElement(b("OnVisible.react"),{onVisible:c?null:this.maybeScheduleVPVLogging,onHidden:c?null:this.cancelScheduledVPVLogging},d)};d.shouldComponentUpdate=function(a,b){return b.timer===this.state.timer};d.UNSAFE_componentWillReceiveProps=function(){this.cancelScheduledVPVLogging()};d.componentWillUnmount=function(){this.cancelScheduledVPVLogging()};return c}(b("React").Component);c.propTypes={comment:a.object.isRequired,contextArgs:a.object.isRequired};e.exports=c}),null);
__d("UFICommentVoteArrow.react",["cx","fbt","Arbiter","FBFeedLocations","JSResource","React","UFIConstants","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFICommentVoteFirstArrowNUX.react").__setRef("UFICommentVoteArrow.react")),j=b("lazyLoadComponent")(b("JSResource")("UFICommentVoteNUX.react").__setRef("UFICommentVoteArrow.react")),k="TahoeView/selectCommentTab";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={enableFirstArrowNux:!0};c.arrowRef=null;c.setArrowRef=function(a){c.arrowRef=a,c.$1()&&c.forceUpdate()};return c}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.isFirstComment&&this.props.contextArgs.feedLocationType===b("FBFeedLocations").TAHOE&&(this.setState({enableFirstArrowNux:!1}),b("Arbiter").subscribe(k,function(){return a.setState({enableFirstArrowNux:!0})}))};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.arrowType,e=c.hasViewerVoted,f=c.onArrowClick;c=c.UIVersion;var g=d===b("UFIConstants").UFICommentVoteType.UPVOTE,i=g&&e;g=g&&!e;d=d===b("UFIConstants").UFICommentVoteType.DOWNVOTE;var j=d&&e;d=d&&!e;e=g?h._("Upvote"):d?h._("Downvote"):void 0;return b("React").createElement("a",{"aria-label":e,className:(c===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"_4-4u":"")+(i?" _2wdx":"")+(g?" _2wdy":"")+(j?" _2wdz":"")+(d?" _2wd-":""),href:"#",onClick:function(){f(),a.shouldRenderArrowNUX=!0},ref:this.setArrowRef,role:"button"},this.$2(),this.$3())};d.$2=function(){if(!this.shouldRenderArrowNUX)return null;var a=null;this.props.UIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&(a=this.props.nuxConfigs.voteArrowNUXV2);return!a||!this.arrowRef?null:b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(j,{context:this.arrowRef,nuxConfig:a,UIVersion:this.props.UIVersion,arrowNUXTextV2:this.props.arrowNUXTextV2}))};d.$1=function(){return Boolean(this.props.isFirstComment&&this.props.nuxConfigs.voteFirstArrowNUXV2&&this.props.UIVersion===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE&&this.arrowRef&&this.state.enableFirstArrowNux)};d.$3=function(){return!this.$1()?null:b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(i,{context:this.arrowRef,firstArrowNUXTitleV2:this.props.firstArrowNUXTitleV2,firstArrowNUXBodyV2:this.props.firstArrowNUXBodyV2,nuxConfig:this.props.nuxConfigs.voteFirstArrowNUXV2}))};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentVoteArrowTooltip.react",["cx","React","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.UIVersion!==b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE||this.props.displayedArrowTooltipType===b("UFIConstants").UFICommentVoteType.NONE)return null;var a=null;switch(this.props.displayedArrowTooltipType){case b("UFIConstants").UFICommentVoteType.UPVOTE:a=this.props.promoteText;break;case b("UFIConstants").UFICommentVoteType.DOWNVOTE:a=this.props.demoteText;break}return a===null?null:b("React").createElement("div",{className:"_6cw5"},a)};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentVoteCount.react",["cx","React","UFIConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.voteCount,d=a.voteState,e=a.UIVersion;a=a.voteCountFormatter;var f=d===b("UFIConstants").UFICommentVoteType.UPVOTE,g=d===b("UFIConstants").UFICommentVoteType.DOWNVOTE;d=d===b("UFIConstants").UFICommentVoteType.NONE;e=e===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE;var h=null;e&&(c<0?g?h=a(-1):h=a(0):h=a(c));return h===null?null:b("React").createElement("a",{className:(e?"_4-4u":"")+" _14d0"+(f?" _12a5":"")+(g?" _12a6":"")+(d?" _12a7":""),href:"#"},h)};return c}(b("React").Component);e.exports=a}),null);
__d("UFICommentVote.react",["cx","React","UFICommentVoteArrow.react","UFICommentVoteArrowTooltip.react","UFICommentVoteCount.react","UFIConstants","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(d){var e;e=a.call(this,d)||this;e.state={displayedArrowTooltipType:b("UFIConstants").UFICommentVoteType.NONE};e.$2=function(){e.setState({displayedArrowTooltipType:b("UFIConstants").UFICommentVoteType.NONE})};c.disableFirstArrowTooltipDisplay=e.props.nuxConfigs.voteArrowNUXV2!==null;e.$1=b("debounce")(e.$2,e.props.arrowTooltipDisplayTimeMS);return e}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.contextArgs,e=c.feedback,f=c.UIVersion,g=c.voteCount,h=c.voteState,i=c.onUpArrowClick,j=c.onDownArrowClick,k=c.arrowNUXTextV2,l=c.firstArrowNUXTitleV2;c=c.firstArrowNUXBodyV2;var m=this.props.voteCountFormatter(g).length<4;return b("React").createElement("div",{className:(f===b("UFIConstants").UFICommentVoteUIVersion.VERTICAL_ON_THE_SIDE?"_2tm9":"")+(m?" _6jru":"")+(m?"":" _6jrv")},b("React").createElement(b("UFICommentVoteArrow.react"),{arrowType:b("UFIConstants").UFICommentVoteType.UPVOTE,contextArgs:d,feedback:e,hasViewerVoted:h===b("UFIConstants").UFICommentVoteType.UPVOTE,UIVersion:f,onArrowClick:function(){i(),a.$3(b("UFIConstants").UFICommentVoteType.UPVOTE)},isFirstComment:this.props.isFirstComment,arrowNUXTextV2:k,firstArrowNUXTitleV2:l,firstArrowNUXBodyV2:c,nuxConfigs:this.props.nuxConfigs}),b("React").createElement(b("UFICommentVoteCount.react"),{voteCount:g,voteCountFormatter:this.props.voteCountFormatter,voteState:h,UIVersion:f}),b("React").createElement(b("UFICommentVoteArrow.react"),{arrowType:b("UFIConstants").UFICommentVoteType.DOWNVOTE,contextArgs:d,feedback:e,hasViewerVoted:h===b("UFIConstants").UFICommentVoteType.DOWNVOTE,UIVersion:f,onArrowClick:function(){j(),a.$3(b("UFIConstants").UFICommentVoteType.DOWNVOTE)},arrowNUXTextV2:k,firstArrowNUXTitleV2:l,firstArrowNUXBodyV2:c,nuxConfigs:this.props.nuxConfigs}),this.props.promoteText&&this.props.demoteText&&b("React").createElement(b("UFICommentVoteArrowTooltip.react"),{displayedArrowTooltipType:this.state.displayedArrowTooltipType,UIVersion:f,promoteText:this.props.promoteText,demoteText:this.props.demoteText}))};d.$3=function(a){if(c.disableFirstArrowTooltipDisplay){c.disableFirstArrowTooltipDisplay=!1;return}var d=this.state.displayedArrowTooltipType;d===b("UFIConstants").UFICommentVoteType.NONE?this.props.voteState===a?this.$2():this.$4(a):d===a?this.$2():this.$4(a)};d.$4=function(a){this.setState({displayedArrowTooltipType:a}),this.$1()};return c}(b("React").Component);a.disableFirstArrowTooltipDisplay=!1;a.defaultProps={arrowTooltipDisplayTimeMS:0,arrowNUXTextV2:"",firstArrowNUXTitleV2:"",firstArrowNUXBodyV2:"",nuxConfigs:{voteArrowNUXV2:null,voteFirstArrowNUXV2:null},voteCountFormatter:function(a){return a.toString()}};e.exports=a}),null);
__d("UFICommentVoteContainer.react",["FluxContainer","React","ReactDOM","UFICommentAction","UFICommentVote.react","UFICommentVoteSyncStore","UFIConstants","intlSummarizeNumber"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return b("intlSummarizeNumber")(a)};a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("UFICommentVoteSyncStore")]};c.calculateState=function(a,c){return{voteCount:b("UFICommentVoteSyncStore").getVoteCount(c.comment.fbid),voteState:b("UFICommentVoteSyncStore").getVoteState(c.comment.fbid)}};var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.comment,e=c.contextArgs,f=c.feedback;c=c.UIVersion;var h=this.state,i=h.voteCount,j=h.voteState,k=b("ReactDOM").findDOMNode(this.refs.trigger);return b("React").createElement(b("UFICommentVote.react"),{contextArgs:e,feedback:f,UIVersion:c,voteCount:i,voteState:j,onUpArrowClick:function(){return a.$1(e,d,k,j)},onDownArrowClick:function(){return a.$2(e,d,k,j)},isFirstComment:this.props.isFirstComment,promoteText:d.upvoteLabel,demoteText:d.downvoteLabel,arrowTooltipDisplayTimeMS:parseInt(d.voteLabelVisibleDuration*1e3,10),arrowNUXTextV2:d.arrowNUXTextV2,firstArrowNUXTitleV2:d.firstArrowNUXTitleV2,firstArrowNUXBodyV2:d.firstArrowNUXBodyV2,nuxConfigs:d.voteNuxConfigs,voteCountFormatter:g})};d.$1=function(a,c,d,e){this.$3(a,c,d,e,b("UFIConstants").UFICommentVoteType.UPVOTE)};d.$2=function(a,c,d,e){this.$3(a,c,d,e,b("UFIConstants").UFICommentVoteType.DOWNVOTE)};d.$3=function(a,c,d,e,f){this.context.dispatch(b("UFICommentAction").changeVote(a,c,d,e,f))};return c}(b("React").Component);c.contextTypes={dispatch:a.func};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("UFIDispatcherContext.react",["React","UFIDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getChildContext=function(){return{dispatch:this.props.dispatcher.dispatch.bind(this.props.dispatcher),stores:this.props.stores}};c.render=function(){return this.props.children};return b}(b("React").Component);c.childContextTypes={dispatch:a.func,stores:a.object};e.exports=c}),null);
__d("XVideoBroadcastClearPinCommentEventAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/pinnedcomments/clear/",{})}),null);
__d("XVideoBroadcastPinnedCommentsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/pinnedcomments/",{})}),null);
__d("UFIFeedbackPinnedCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=h._("Unpin Comment"),d=h._("Pin Comment"),e=function(){a.contextArgs.isActiveLivingRoom==!0?b("LiveVideoPinnedCommentUtils").toggleFeedbackCommentPin(a):b("LiveVideoPinnedCommentUtils").toggleCommentPin(a)};return b("React").createElement("a",{className:"uiLink",href:"#",onClick:e},a.isPinned?c:d)};e.exports=a}),null);
__d("UFILiveCommentRedesignActions.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","UFIReactionsLinkImpl.react","UFIThreadedFacecastCommentsUtils","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=function(a){var c=a.comment,d=a.commentMenu,e=a.contextArgs,f=a.feedback;if(c.__typename==="local")return null;var h=b("UFIThreadedFacecastCommentsUtils").onReplyClickCallback(c,e,f);return b("React").createElement("div",{className:"_6hz3"},b("React").createElement(b("UFIReactionsLinkImpl.react"),{contextArgs:babelHelpers["extends"]({},e,{ftentidentifier:c.id}),comment:c,reaction:c.viewerreaction,supportedReactions:f.supportedreactions,ftIdentifier:e.ftentidentifier,showAlternateButtonForLiveStreamingRedesign:!0}),a.isInLiveVideoReplyMode||!b("UFIThreadedFacecastCommentsUtils").isEnabled(e)?null:b("React").createElement(b("AbstractButton.react"),{className:"_6hyz",label:i._("Reply"),labelIsHidden:!0,onClick:function(a){a.preventDefault(),h&&h()},role:"button",image:b("React").createElement(b("Image.react"),{src:g("608136")})}),d)};e.exports=a}),null);
__d("VideoTimestampsClicksWWWTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoTimestampsClicksWWWLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setIsContentTimestamp=function(a){this.$1.is_content_timestamp=a;return this};c.setLocalCommentFeedbackID=function(a){this.$1.local_comment_feedback_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoTimestamp=function(a){this.$1.video_timestamp=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={comment_id:!0,is_content_timestamp:!0,local_comment_feedback_id:!0,time:!0,vc:!0,video_timestamp:!0,weight:!0};e.exports=a}),null);
__d("UFILiveCommentTimestamp.react",["cx","fbt","CommentPostedLiveState","Middot.react","React","ShimButton.react","TimeOffset","Tooltip.react","UFIVideoPlayerRegistry","VideoTimestampsClicksWWWTypedLogger"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.comment,d=a.contextArgs;a=a.isInLiveVideoReplyMode;a=c.parentcommentid&&a;var e=null;if(!a){var f=typeof c.videoTimeOffset==="number"?c.videoTimeOffset:0;e=b("React").createElement(b("ShimButton.react"),{className:"_39g5",form:"link",onClick:function(a){a.preventDefault();a=new(b("VideoTimestampsClicksWWWTypedLogger"))().setVideoTimestamp(f).setIsContentTimestamp(!0);c.__typename==="local"?a.setLocalCommentFeedbackID(c.ftentidentifier):a.setCommentID(c.fbid);a.log();b("UFIVideoPlayerRegistry").seekAvailableVideoPlayerController(d.instanceid,f)}},b("TimeOffset").timeToTimestamp(f))}a=null;c.postedLiveState===b("CommentPostedLiveState").LIVE?a=b("React").createElement(b("Tooltip.react"),{tooltip:h._("Comment posted while the video was live")},b("React").createElement(b("Middot.react"),{className:"_5rr7"})):c.postedLiveState===b("CommentPostedLiveState").ON_DEMAND?a=b("React").createElement(b("Tooltip.react"),{tooltip:h._("Comment posted after the live video ended")},b("React").createElement(b("Middot.react"),{className:"_5rra"})):a=b("React").createElement(b("Middot.react"),{className:"_5rra"});return b("React").createElement("span",null,a,e)};return c}(b("React").Component);c.propTypes={comment:a.shape({fbid:a.string,__typename:a.string,postedLiveState:a.oneOf([b("CommentPostedLiveState").LIVE,b("CommentPostedLiveState").ON_DEMAND]),videoTimeOffset:a.number,parentcommentid:a.string}).isRequired,contextArgs:a.shape({instanceid:a.string.isRequired}).isRequired,isInLiveVideoReplyMode:a.bool.isRequired};e.exports=c}),null);
__d("UFILiveVODUnpinCommentLink.react",["cx","fbt","LiveVideoPinnedCommentUtils","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){d.$1.addSubscriptions(b("LiveVideoPinnedCommentUtils").unpinVODComment(d.props.commentID,d.props.pinEventID,d.props.contextArgs))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))()};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){return b("React").createElement("a",{className:"uiLink",href:"#",onClick:this.$2},h._("Unpin Comment"))};return c}(b("React").Component);e.exports=a}),null);
__d("UFIPrivateReplyIndicator.react",["fbt","PagesPrivateReplyConstants","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PagesPrivateReplyConstants").Status;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.willRender=function(a){return a===h.ALREADY_REPLIED};var d=c.prototype;d.render=function(){return this.props.replyStatus===h.ALREADY_REPLIED?b("React").createElement("span",null,g._("Page responded privately")):null};return c}(b("React").Component);e.exports=a}),null);
__d("UFIPrivateReplyLink.react",["cx","fbt","ActorURI","BootloadedComponent.react","JSResource","Link.react","MessengerDiscoveryEntryPoint","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesPrivateReplyConstants","React","XPagesMessagingPrivateReplyDialogController","keyMirror"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("PagesPrivateReplyConstants").Status,j=b("PagesPrivateReplyConstants").Type,k=b("keyMirror")(j),l=!1,m=new Set(),n=new Set();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){b("PagesLogger").log(d.props.context.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:d.props.activityID,messenger_entry_point:b("MessengerDiscoveryEntryPoint").PRIVATE_REPLY,activity_type:d.$6()})},c)||babelHelpers.assertThisInitialized(d)}c.willRender=function(a,b){if(!a)return!1;return a.hasReplyPermission&&b===a.pageID?!0:!1};var d=c.prototype;d.render=function(){var a=this.props.context;if(a.hasReplyPermission&&this.props.actorID===a.pageID){if(a.status===i.REPLYABLE)return this.$2();else if(a.status===i.ALREADY_REPLIED)return this.$3();return this.$4()}return null};d.$7=function(){__p&&__p();var a=this;if(!this.props.shouldShowNuxToPage||l)return null;if(m.has(this.props.activityID)){l=!0;return b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",{className:"hidden_elem"}),bootloadLoader:b("JSResource")("UFICommentPrivateReplyNux.react").__setRef("UFIPrivateReplyLink.react"),nuxContext:function(){return a.$1},activityType:this.props.context.activityType,nuxKey:"pages_comment_pr_nux",shouldShowGeneralNuxContent:this.props.shouldShowGeneralNuxContent})}else m.add(this.props.activityID);return null};d.$2=function(){var a=this,c=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",this.props.activityID).getURI(),this.props.context.pageID);n.has(this.props.activityID)||(b("PagesLogger").log(this.props.context.pageID,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").COMMENT_MESSAGE_BUTTON,null,["business_messaging_growth"],{comment_id:this.props.activityID,messenger_entry_point:b("MessengerDiscoveryEntryPoint").PRIVATE_REPLY,activity_type:this.$6()}),n.add(this.props.activityID));return b("React").createElement(b("Link.react"),{className:"_50u0 _60p- _14hj",onClick:this.$5,href:c,ref:function(b){a.$1=b},rel:"dialog"},this.$8(),this.$7())};d.$4=function(){var a;switch(this.props.context.status){case i.EXPIRED:a=h._({"comments":"You can't send a message response to comments that are older than 6 months.","reviews":"You can't send a message response to reviews that are older than 6 months.","posts":"You can't send a message response to posts that are older than 6 months."},[h._enum(this.$9(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case i.NOT_USER_CREATED:a=h._("Pages can't send private messages to other Pages.");break;case i.CANNOT_MESSAGE:a=h._("This person can't receive a message reply from your Page.");break}return b("React").createElement("span",{className:"_50u0 _50u4 _60p-","data-hover":a?"tooltip":null,"data-tooltip-content":a},this.$8())};d.$3=function(){return b("React").createElement(b("Link.react"),{className:"_50u0 _14hk _60p-",href:this.props.context.permalink||"#"},this.props.seeResponseLabel?h._("See Response"):this.$8())};d.$8=function(){return h._("Message")};d.$9=function(){switch(this.props.context.activityType){case j.COMMENT_PAGE_POST:case j.COMMENT_WALL_POST:case j.COMMENT_CUSTOMER_GROUP_USER_POST:case j.COMMENT_REVIEW:return"comments";case j.REVIEW:return"reviews";default:return"posts"}};d.$6=function(){switch(this.props.context.activityType){case j.COMMENT_PAGE_POST:return k.COMMENT_PAGE_POST;case j.COMMENT_WALL_POST:return k.COMMENT_WALL_POST;case j.COMMENT_CUSTOMER_GROUP_USER_POST:return k.COMMENT_CUSTOMER_GROUP_USER_POST;case j.COMMENT_REVIEW:return k.COMMENT_REVIEW;case j.REVIEW:return k.REVIEW;default:return"UNKOWN"}};return c}(b("React").Component);e.exports=a}),null);
__d("UFIReactionBadgeDecorator.react",["cx","FBFeedLocations","FeedbackSourceType","React","UFICommentReactionCount.react","queryThenMutateDOM"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=270,i=180,j=200;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.rootElement=null,c.renderAtBottomCanceller=null,c.state={renderAtBottom:!0},c.$1=function(a){c.rootElement=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.props.onRenderAtBottomChange&&this.props.onRenderAtBottomChange(this.state.renderAtBottom);var c=h;this.props.contextArgs.source===b("FeedbackSourceType").PHOTOS_SNOWLIFT?c=i:this.props.contextArgs.source===b("FeedbackSourceType").TAHOE&&(c=j);var d=!0;this.renderAtBottomCanceller=b("queryThenMutateDOM")(function(){d=a.rootElement!=null&&a.rootElement.offsetWidth>=c||a.props.isFullWidthAttachment===!0},function(){a.renderAtBottomCanceller=null,d||(a.setState({renderAtBottom:!1}),a.props.onRenderAtBottomChange&&a.props.onRenderAtBottomChange(!1))})};d.componentWillUnmount=function(){this.renderAtBottomCanceller&&this.renderAtBottomCanceller.cancel()};d.render=function(){var a,c=this.props.comment.reactioncount>0&&this.props.contextArgs.feedLocationType!=b("FBFeedLocations").CE_PII_AND_ATTACHMENTS_STRIPPED_FEED&&this.props.contextArgs.feedLocationType!=b("FBFeedLocations").CE_PII_STRIPPED_FEED?b("React").createElement(b("UFICommentReactionCount.react"),{comment:this.props.comment,actorForPost:this.props.feedback.actorforpost,supportedReactions:this.props.feedback.supportedreactions,contextArgs:this.props.contextArgs,showLiveStreamingRedesign:this.props.showLiveStreamingRedesign}):null;return b("React").createElement("div",{className:"_10la"+(this.state.renderAtBottom?" _10lg":"")+(this.props.isFlexibleWidthAttachment?" _t-l":"")+(this.props.isFullWidthAttachment?" _3qr8":"")+("comment_place_info"===((a=this.props.comment)!=null?(a=a.attachment)!=null?a.type:a:a)?" _m_9":""),ref:this.$1},this.props.children,b("React").createElement("div",{className:"_10lo"+(this.props.comment.reactioncount?" _10lp":"")},c))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UFISocialContext.react",["fbt","HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=27;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.topMutualFriend,c=this.props.otherMutualCount,d=this.props.commentAuthor,e=b("HovercardLink").constructEndpoint(a).toString();e=b("React").createElement("a",{href:a.uri,"data-hovercard":e,key:"top"},a.name);var f=d.name.length+a.name.length,i;if(c===0)i=g._("Friends with {name}",[g._param("name",e)]);else if(f<h){c==1?f=g._("1 other"):f=g._({"*":"{count} others"},[g._param("count",c,[0])]);i=g._("Friends with {name} and {others}",[g._param("name",e),g._param("others",this.getOthersLink(f,d,a))])}else{e=g._({"*":"{count} mutual friends"},[g._param("count",c+1,[0])]);i=this.getOthersLink(e,d)}return b("React").createElement("span",{className:"UFICommentSocialContext"},i)};d.getOthersLink=function(a,c,d){var e=b("ProfileBrowserTypes").MUTUAL_FRIENDS,f={uid:c.id};c=new(b("URI"))("/ajax/mutual_friends/tooltip.php").setQueryData({friend_id:c.id});d&&c.addQueryData({exclude_id:d.id});d=b("ProfileBrowserLink").constructDialogURI(e,f).toString();return b("React").createElement("a",{ajaxify:d,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":c.toString(),href:b("ProfileBrowserLink").constructPageURI(e,f).toString(),key:"others",rel:"dialog"},a)};return c}(b("React").Component);e.exports=a}),null);
__d("GamesVideoFanSupportAttachmentHandler",["cx","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="tip_attachment_support_link";a={_registeredLinks:new Set(),registerFanSupportAttachment:function(a){if(!a)return;a=a.querySelector('[name="'+h+'"]');a&&!this._registeredLinks.has(a)&&(a.addEventListener("mouseover",this._onLinkMouseover.bind(this,a)),a.addEventListener("click",this._onLinkClick.bind(this,a)),this._registeredLinks.add(a))},_onLinkMouseover:function(a){var b="_1k48";this._isSupportOverlayRegistered()?a.classList.remove(b):a.classList.add(b)},_onLinkClick:function(a,b){if(this._isSupportOverlayRegistered()){a=this._getTahoeView();a&&a.toggleSupportOverlay();b.stopPropagation()}},_isSupportOverlayRegistered:function(){var a=this._getTahoeView();return a&&a.isSupportOverlayRegistered()},_getTahoeView:function(){var a=void 0;b("ifRequired")("Tahoe",function(c){b("ifRequired")("TahoeVideoView",function(b){var d=c.get();if(d){d=d.getView();d instanceof b&&(a=d)}})});return a}};e.exports=a}),null);
__d("PublicConversationsUnicornTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PublicConversationsUnicornLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCommentFbid=function(a){this.$1.comment_fbid=a;return this};c.setVC=function(a){this.$1.vc=a;return this};return a}();c={comment_fbid:!0,vc:!0};e.exports=a}),null);
__d("UserActivityEmitter",["invariant","EventEmitter","TimeSlice","UserActivity","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="change",i={};a=function(){__p&&__p();a.factory=function(b){i[b]||(i[b]=new a(b));return i[b]};function a(a){__p&&__p();var c=this;this.$5=250;this.$6=function(){c.$4=="INACTIVE"&&(c.$4="ACTIVE",c.$2.emit(h,"ACTIVE")),c.$3&&b("clearTimeout")(c.$3),c.$3=b("setTimeoutAcrossTransitions")(b("TimeSlice").guard(c.$7,"UserActivityEmitter idleTimeout",{propagationType:b("TimeSlice").PropagationType.EXECUTION}),c.$5)};this.$7=function(){c.$4="INACTIVE",c.$2.emit(h,"INACTIVE"),b("clearTimeout")(c.$3),c.$3=null};a>b("UserActivity").EVENT_INTERVAL_MS||g(0,3503,b("UserActivity").EVENT_INTERVAL_MS);this.$5=a;this.$2=new(b("EventEmitter"))();this.$4=b("UserActivity").isActive(a)?"ACTIVE":"INACTIVE";this.$1=b("UserActivity").subscribe(this.$6);this.$4=="ACTIVE"&&this.$6()}var c=a.prototype;c.subscribe=function(a){return this.$2.addListener(h,a)};c.getState=function(){return this.$4};return a}();e.exports=a}),null);
__d("ShareNowConstants",["fbt"],(function(a,b,c,d,e,f,g){e.exports={error:g._("This post could not be shared at this time. Please try again later."),success:g._("Your share was posted.")}}),null);
__d("VideoTipJarCommentBackground.react",["ix","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[g("99652"),g("99653"),g("99654")];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h[parseInt(this.props.tipOptionIndex,10)];return a?b("React").createElement(b("Image.react"),{src:a}):null};return c}(b("React").Component);e.exports=a}),null);
__d("transformTextRanges",["UnicodeUtils"],(function(a,b,c,d,e,f){__p&&__p();a=function(a,c,d){__p&&__p();if(!a||!c||!d)return a;c.sort(function(a,b){return a.offset-b.offset});var e=0;for(var f=0;f<c.length;f++){c[f].offset+=e;var g=b("UnicodeUtils").substr(a,c[f].offset,c[f].length),h=b("UnicodeUtils").strlen(g),i=d(g,c[f]),j=b("UnicodeUtils").strlen(i);g!==i&&(a=b("UnicodeUtils").substr(a,0,c[f].offset)+i+b("UnicodeUtils").substr(a,c[f].offset+c[f].length),c[f].length=j,e+=j-h)}return a};e.exports=a}),null);
__d("IntlLang",["UnicodeBidi"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c={HE:"\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f"};var g=new RegExp("["+c.HE+"]");function a(a){a=b("UnicodeBidi").firstStrongChar(a);if(a==null)return null;return g.exec(a)?"he":null}d={getLang:a};e.exports=d}),null);
__d("LiveVideoAnnouncementCTAType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",LIVE_SUBSCRIBE:"live_subscribe",FOLLOW:"follow",PAGE_LIKE:"page_like",INVITE_GUEST:"invite_guest",LINK:"link",INVITE_FRIEND:"invite_friend",FOLLOW_ARTIST:"follow_artist",FOLLOW_RECOGNITION:"follow_recognition",SHARE:"share",SEE_FIRST:"see_first",PROMOTE_LIVE_VIDEO:"promote_live_video",LIKE_AND_REPLY_HINT:"like_and_reply_hint",MESSAGE_SELLER:"message_seller",LIVING_ROOM_START:"living_room_start",RECOMMENDED_SHARE:"recommended_share",TRANSLATE_COMMENTS:"translate_comments"})}),null);
__d("TextDelightNuxID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POST_OPT_OUT_NUX:5477,COMMENT_OPT_OUT_NUX:5551})}),null);
__d("UFILiveStreamingViewerLoggerCommentLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVE_MAIN_THREAD:"active_main_thread",ACTIVE_REPLY_THREAD:"active_reply_thread",BACKGROUND_MAIN_THREAD:"background_main_thread"})}),null);
__d("UFIStreamingCommentsMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,LIVE:1,ON_DEMAND:2,LIVE_LIVING_ROOM:3})}),null);
__d("FRXServerFbt.react",["cx","React","ServerHTML.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.blob,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["blob","className"]);return c==null?null:b("React").createElement(b("ServerHTML.react"),babelHelpers["extends"]({blob:c,className:b("joinClasses")("_6u30",d)},a))};return c}(b("React").Component);e.exports=a}),null);
__d("XAnimatedImageInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gifs/in_live_comment/",{})}),null);
__d("XChatCommandResultCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat_command_result/live_comment_attachment/",{})}),null);
__d("XDonationCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraiser_for_story/live_comment_attachment/",{})}),null);
__d("XFileCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/files_in_comments/live_comment_attachment/",{})}),null);
__d("XTipJarCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/tip_jar/live_comment_attachment/",{})}),null);
__d("XUFIEditCommentNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/edit/nux/",{})}),null);
__d("XVideoInLiveCommentPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/in_live_comment/",{})}),null);